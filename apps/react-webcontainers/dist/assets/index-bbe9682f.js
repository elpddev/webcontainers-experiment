var Uh=Object.defineProperty;var zh=(e,t,r)=>t in e?Uh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var qe=(e,t,r)=>(zh(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const S of f.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&i(S)}).observe(document,{childList:!0,subtree:!0});function r(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(l){if(l.ep)return;l.ep=!0;const f=r(l);fetch(l.href,f)}})();function Wh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qe={},jh={get exports(){return Qe},set exports(e){Qe=e}},Ss={},ae={},$h={get exports(){return ae},set exports(e){ae=e}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fi=Symbol.for("react.element"),Kh=Symbol.for("react.portal"),Vh=Symbol.for("react.fragment"),qh=Symbol.for("react.strict_mode"),Xh=Symbol.for("react.profiler"),Gh=Symbol.for("react.provider"),Yh=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),Jh=Symbol.for("react.suspense"),Zh=Symbol.for("react.memo"),eu=Symbol.for("react.lazy"),ol=Symbol.iterator;function tu(e){return e===null||typeof e!="object"?null:(e=ol&&e[ol]||e["@@iterator"],typeof e=="function"?e:null)}var ya={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ca=Object.assign,wa={};function br(e,t,r){this.props=e,this.context=t,this.refs=wa,this.updater=r||ya}br.prototype.isReactComponent={};br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ea(){}Ea.prototype=br.prototype;function lo(e,t,r){this.props=e,this.context=t,this.refs=wa,this.updater=r||ya}var ao=lo.prototype=new Ea;ao.constructor=lo;Ca(ao,br.prototype);ao.isPureReactComponent=!0;var ll=Array.isArray,ka=Object.prototype.hasOwnProperty,co={current:null},La={key:!0,ref:!0,__self:!0,__source:!0};function ba(e,t,r){var i,l={},f=null,S=null;if(t!=null)for(i in t.ref!==void 0&&(S=t.ref),t.key!==void 0&&(f=""+t.key),t)ka.call(t,i)&&!La.hasOwnProperty(i)&&(l[i]=t[i]);var s=arguments.length-2;if(s===1)l.children=r;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];l.children=a}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)l[i]===void 0&&(l[i]=s[i]);return{$$typeof:fi,type:e,key:f,ref:S,props:l,_owner:co.current}}function ru(e,t){return{$$typeof:fi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ho(e){return typeof e=="object"&&e!==null&&e.$$typeof===fi}function iu(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var al=/\/+/g;function Os(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iu(""+e.key):t.toString(36)}function Hi(e,t,r,i,l){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var S=!1;if(e===null)S=!0;else switch(f){case"string":case"number":S=!0;break;case"object":switch(e.$$typeof){case fi:case Kh:S=!0}}if(S)return S=e,l=l(S),e=i===""?"."+Os(S,0):i,ll(l)?(r="",e!=null&&(r=e.replace(al,"$&/")+"/"),Hi(l,t,r,"",function(u){return u})):l!=null&&(ho(l)&&(l=ru(l,r+(!l.key||S&&S.key===l.key?"":(""+l.key).replace(al,"$&/")+"/")+e)),t.push(l)),1;if(S=0,i=i===""?".":i+":",ll(e))for(var s=0;s<e.length;s++){f=e[s];var a=i+Os(f,s);S+=Hi(f,t,r,a,l)}else if(a=tu(e),typeof a=="function")for(e=a.call(e),s=0;!(f=e.next()).done;)f=f.value,a=i+Os(f,s++),S+=Hi(f,t,r,a,l);else if(f==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return S}function mi(e,t,r){if(e==null)return e;var i=[],l=0;return Hi(e,i,"","",function(f){return t.call(r,f,l++)}),i}function su(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Re={current:null},Fi={transition:null},nu={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:Fi,ReactCurrentOwner:co};Y.Children={map:mi,forEach:function(e,t,r){mi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return mi(e,function(){t++}),t},toArray:function(e){return mi(e,function(t){return t})||[]},only:function(e){if(!ho(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Y.Component=br;Y.Fragment=Vh;Y.Profiler=Xh;Y.PureComponent=lo;Y.StrictMode=qh;Y.Suspense=Jh;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu;Y.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Ca({},e.props),l=e.key,f=e.ref,S=e._owner;if(t!=null){if(t.ref!==void 0&&(f=t.ref,S=co.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)ka.call(t,a)&&!La.hasOwnProperty(a)&&(i[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];i.children=s}return{$$typeof:fi,type:e.type,key:l,ref:f,props:i,_owner:S}};Y.createContext=function(e){return e={$$typeof:Yh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gh,_context:e},e.Consumer=e};Y.createElement=ba;Y.createFactory=function(e){var t=ba.bind(null,e);return t.type=e,t};Y.createRef=function(){return{current:null}};Y.forwardRef=function(e){return{$$typeof:Qh,render:e}};Y.isValidElement=ho;Y.lazy=function(e){return{$$typeof:eu,_payload:{_status:-1,_result:e},_init:su}};Y.memo=function(e,t){return{$$typeof:Zh,type:e,compare:t===void 0?null:t}};Y.startTransition=function(e){var t=Fi.transition;Fi.transition={};try{e()}finally{Fi.transition=t}};Y.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Y.useCallback=function(e,t){return Re.current.useCallback(e,t)};Y.useContext=function(e){return Re.current.useContext(e)};Y.useDebugValue=function(){};Y.useDeferredValue=function(e){return Re.current.useDeferredValue(e)};Y.useEffect=function(e,t){return Re.current.useEffect(e,t)};Y.useId=function(){return Re.current.useId()};Y.useImperativeHandle=function(e,t,r){return Re.current.useImperativeHandle(e,t,r)};Y.useInsertionEffect=function(e,t){return Re.current.useInsertionEffect(e,t)};Y.useLayoutEffect=function(e,t){return Re.current.useLayoutEffect(e,t)};Y.useMemo=function(e,t){return Re.current.useMemo(e,t)};Y.useReducer=function(e,t,r){return Re.current.useReducer(e,t,r)};Y.useRef=function(e){return Re.current.useRef(e)};Y.useState=function(e){return Re.current.useState(e)};Y.useSyncExternalStore=function(e,t,r){return Re.current.useSyncExternalStore(e,t,r)};Y.useTransition=function(){return Re.current.useTransition()};Y.version="18.2.0";(function(e){e.exports=Y})($h);const ou=Wh(ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lu=ae,au=Symbol.for("react.element"),cu=Symbol.for("react.fragment"),hu=Object.prototype.hasOwnProperty,uu=lu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,du={key:!0,ref:!0,__self:!0,__source:!0};function xa(e,t,r){var i,l={},f=null,S=null;r!==void 0&&(f=""+r),t.key!==void 0&&(f=""+t.key),t.ref!==void 0&&(S=t.ref);for(i in t)hu.call(t,i)&&!du.hasOwnProperty(i)&&(l[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)l[i]===void 0&&(l[i]=t[i]);return{$$typeof:au,type:e,key:f,ref:S,props:l,_owner:uu.current}}Ss.Fragment=cu;Ss.jsx=xa;Ss.jsxs=xa;(function(e){e.exports=Ss})(jh);var an={},cn={},fu={get exports(){return cn},set exports(e){cn=e}},Ne={},hn={},_u={get exports(){return hn},set exports(e){hn=e}},Ra={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,D){var T=R.length;R.push(D);e:for(;0<T;){var F=T-1>>>1,z=R[F];if(0<l(z,D))R[F]=D,R[T]=z,T=F;else break e}}function r(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var D=R[0],T=R.pop();if(T!==D){R[0]=T;e:for(var F=0,z=R.length,G=z>>>1;F<G;){var W=2*(F+1)-1,X=R[W],B=W+1,M=R[B];if(0>l(X,T))B<z&&0>l(M,X)?(R[F]=M,R[B]=T,F=B):(R[F]=X,R[W]=T,F=W);else if(B<z&&0>l(M,T))R[F]=M,R[B]=T,F=B;else break e}}return D}function l(R,D){var T=R.sortIndex-D.sortIndex;return T!==0?T:R.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var S=Date,s=S.now();e.unstable_now=function(){return S.now()-s}}var a=[],u=[],y=1,p=null,v=3,E=!1,C=!1,g=!1,n=typeof setTimeout=="function"?setTimeout:null,c=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function o(R){for(var D=r(u);D!==null;){if(D.callback===null)i(u);else if(D.startTime<=R)i(u),D.sortIndex=D.expirationTime,t(a,D);else break;D=r(u)}}function d(R){if(g=!1,o(R),!C)if(r(a)!==null)C=!0,$(m);else{var D=r(u);D!==null&&b(d,D.startTime-R)}}function m(R,D){C=!1,g&&(g=!1,c(_),_=-1),E=!0;var T=v;try{for(o(D),p=r(a);p!==null&&(!(p.expirationTime>D)||R&&!A());){var F=p.callback;if(typeof F=="function"){p.callback=null,v=p.priorityLevel;var z=F(p.expirationTime<=D);D=e.unstable_now(),typeof z=="function"?p.callback=z:p===r(a)&&i(a),o(D)}else i(a);p=r(a)}if(p!==null)var G=!0;else{var W=r(u);W!==null&&b(d,W.startTime-D),G=!1}return G}finally{p=null,v=T,E=!1}}var w=!1,L=null,_=-1,k=5,x=-1;function A(){return!(e.unstable_now()-x<k)}function P(){if(L!==null){var R=e.unstable_now();x=R;var D=!0;try{D=L(!0,R)}finally{D?O():(w=!1,L=null)}}else w=!1}var O;if(typeof h=="function")O=function(){h(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,j=H.port2;H.port1.onmessage=P,O=function(){j.postMessage(null)}}else O=function(){n(P,0)};function $(R){L=R,w||(w=!0,O())}function b(R,D){_=n(function(){R(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){C||E||(C=!0,$(m))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(R){switch(v){case 1:case 2:case 3:var D=3;break;default:D=v}var T=v;v=D;try{return R()}finally{v=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,D){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var T=v;v=R;try{return D()}finally{v=T}},e.unstable_scheduleCallback=function(R,D,T){var F=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?F+T:F):T=F,R){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=T+z,R={id:y++,callback:D,priorityLevel:R,startTime:T,expirationTime:z,sortIndex:-1},T>F?(R.sortIndex=T,t(u,R),r(a)===null&&R===r(u)&&(g?(c(_),_=-1):g=!0,b(d,T-F))):(R.sortIndex=z,t(a,R),C||E||(C=!0,$(m))),R},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(R){var D=v;return function(){var T=v;v=D;try{return R.apply(this,arguments)}finally{v=T}}}})(Ra);(function(e){e.exports=Ra})(_u);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Da=ae,Fe=hn;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ta=new Set,Yr={};function Qt(e,t){Sr(e,t),Sr(e+"Capture",t)}function Sr(e,t){for(Yr[e]=t,e=0;e<t.length;e++)Ta.add(t[e])}var ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),un=Object.prototype.hasOwnProperty,pu=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cl={},hl={};function vu(e){return un.call(hl,e)?!0:un.call(cl,e)?!1:pu.test(e)?hl[e]=!0:(cl[e]=!0,!1)}function gu(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mu(e,t,r,i){if(t===null||typeof t>"u"||gu(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,r,i,l,f,S){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=S}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ye[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ye[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ye[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var uo=/[\-:]([a-z])/g;function fo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uo,fo);ye[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uo,fo);ye[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uo,fo);ye[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});ye.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ye[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function _o(e,t,r,i){var l=ye.hasOwnProperty(t)?ye[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mu(t,r,l,i)&&(r=null),i||l===null?vu(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,i=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var gt=Da.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Si=Symbol.for("react.element"),tr=Symbol.for("react.portal"),rr=Symbol.for("react.fragment"),po=Symbol.for("react.strict_mode"),dn=Symbol.for("react.profiler"),Aa=Symbol.for("react.provider"),Pa=Symbol.for("react.context"),vo=Symbol.for("react.forward_ref"),fn=Symbol.for("react.suspense"),_n=Symbol.for("react.suspense_list"),go=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),Ma=Symbol.for("react.offscreen"),ul=Symbol.iterator;function Dr(e){return e===null||typeof e!="object"?null:(e=ul&&e[ul]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Is;function Hr(e){if(Is===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Is=t&&t[1]||""}return`
`+Is+e}var Hs=!1;function Fs(e,t){if(!e||Hs)return"";Hs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),f=i.stack.split(`
`),S=l.length-1,s=f.length-1;1<=S&&0<=s&&l[S]!==f[s];)s--;for(;1<=S&&0<=s;S--,s--)if(l[S]!==f[s]){if(S!==1||s!==1)do if(S--,s--,0>s||l[S]!==f[s]){var a=`
`+l[S].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=S&&0<=s);break}}}finally{Hs=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hr(e):""}function Su(e){switch(e.tag){case 5:return Hr(e.type);case 16:return Hr("Lazy");case 13:return Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 2:case 15:return e=Fs(e.type,!1),e;case 11:return e=Fs(e.type.render,!1),e;case 1:return e=Fs(e.type,!0),e;default:return""}}function pn(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rr:return"Fragment";case tr:return"Portal";case dn:return"Profiler";case po:return"StrictMode";case fn:return"Suspense";case _n:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pa:return(e.displayName||"Context")+".Consumer";case Aa:return(e._context.displayName||"Context")+".Provider";case vo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case go:return t=e.displayName||null,t!==null?t:pn(e.type)||"Memo";case St:t=e._payload,e=e._init;try{return pn(e(t))}catch{}}return null}function yu(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pn(t);case 8:return t===po?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ba(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cu(e){var t=Ba(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(S){i=""+S,f.call(this,S)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(S){i=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yi(e){e._valueTracker||(e._valueTracker=Cu(e))}function Oa(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=Ba(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vn(e,t){var r=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dl(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=Mt(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ia(e,t){t=t.checked,t!=null&&_o(e,"checked",t,!1)}function gn(e,t){Ia(e,t);var r=Mt(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mn(e,t.type,r):t.hasOwnProperty("defaultValue")&&mn(e,t.type,Mt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fl(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function mn(e,t,r){(t!=="number"||Gi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Fr=Array.isArray;function fr(e,t,r,i){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Mt(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Sn(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _l(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(U(92));if(Fr(r)){if(1<r.length)throw Error(U(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mt(r)}}function Ha(e,t){var r=Mt(t.value),i=Mt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function pl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fa(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fa(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ci,Na=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ci=Ci||document.createElement("div"),Ci.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ci.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wu=["Webkit","ms","Moz","O"];Object.keys(zr).forEach(function(e){wu.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zr[t]=zr[e]})});function Ua(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zr.hasOwnProperty(e)&&zr[e]?(""+t).trim():t+"px"}function za(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,l=Ua(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,l):e[r]=l}}var Eu=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cn(e,t){if(t){if(Eu[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function wn(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var En=null;function mo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kn=null,_r=null,pr=null;function vl(e){if(e=vi(e)){if(typeof kn!="function")throw Error(U(280));var t=e.stateNode;t&&(t=ks(t),kn(e.stateNode,e.type,t))}}function Wa(e){_r?pr?pr.push(e):pr=[e]:_r=e}function ja(){if(_r){var e=_r,t=pr;if(pr=_r=null,vl(e),t)for(e=0;e<t.length;e++)vl(t[e])}}function $a(e,t){return e(t)}function Ka(){}var Ns=!1;function Va(e,t,r){if(Ns)return e(t,r);Ns=!0;try{return $a(e,t,r)}finally{Ns=!1,(_r!==null||pr!==null)&&(Ka(),ja())}}function Jr(e,t){var r=e.stateNode;if(r===null)return null;var i=ks(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(U(231,t,typeof r));return r}var Ln=!1;if(ft)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Ln=!1}function ku(e,t,r,i,l,f,S,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(y){this.onError(y)}}var Wr=!1,Yi=null,Qi=!1,bn=null,Lu={onError:function(e){Wr=!0,Yi=e}};function bu(e,t,r,i,l,f,S,s,a){Wr=!1,Yi=null,ku.apply(Lu,arguments)}function xu(e,t,r,i,l,f,S,s,a){if(bu.apply(this,arguments),Wr){if(Wr){var u=Yi;Wr=!1,Yi=null}else throw Error(U(198));Qi||(Qi=!0,bn=u)}}function Jt(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qa(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gl(e){if(Jt(e)!==e)throw Error(U(188))}function Ru(e){var t=e.alternate;if(!t){if(t=Jt(e),t===null)throw Error(U(188));return t!==e?null:e}for(var r=e,i=t;;){var l=r.return;if(l===null)break;var f=l.alternate;if(f===null){if(i=l.return,i!==null){r=i;continue}break}if(l.child===f.child){for(f=l.child;f;){if(f===r)return gl(l),e;if(f===i)return gl(l),t;f=f.sibling}throw Error(U(188))}if(r.return!==i.return)r=l,i=f;else{for(var S=!1,s=l.child;s;){if(s===r){S=!0,r=l,i=f;break}if(s===i){S=!0,i=l,r=f;break}s=s.sibling}if(!S){for(s=f.child;s;){if(s===r){S=!0,r=f,i=l;break}if(s===i){S=!0,i=f,r=l;break}s=s.sibling}if(!S)throw Error(U(189))}}if(r.alternate!==i)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?e:t}function Xa(e){return e=Ru(e),e!==null?Ga(e):null}function Ga(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ga(e);if(t!==null)return t;e=e.sibling}return null}var Ya=Fe.unstable_scheduleCallback,ml=Fe.unstable_cancelCallback,Du=Fe.unstable_shouldYield,Tu=Fe.unstable_requestPaint,he=Fe.unstable_now,Au=Fe.unstable_getCurrentPriorityLevel,So=Fe.unstable_ImmediatePriority,Qa=Fe.unstable_UserBlockingPriority,Ji=Fe.unstable_NormalPriority,Pu=Fe.unstable_LowPriority,Ja=Fe.unstable_IdlePriority,ys=null,nt=null;function Mu(e){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(ys,e,void 0,(e.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:Iu,Bu=Math.log,Ou=Math.LN2;function Iu(e){return e>>>=0,e===0?32:31-(Bu(e)/Ou|0)|0}var wi=64,Ei=4194304;function Nr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zi(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,l=e.suspendedLanes,f=e.pingedLanes,S=r&268435455;if(S!==0){var s=S&~l;s!==0?i=Nr(s):(f&=S,f!==0&&(i=Nr(f)))}else S=r&~l,S!==0?i=Nr(S):f!==0&&(i=Nr(f));if(i===0)return 0;if(t!==0&&t!==i&&!(t&l)&&(l=i&-i,f=t&-t,l>=f||l===16&&(f&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-Ze(t),l=1<<r,i|=e[r],t&=~l;return i}function Hu(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fu(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,f=e.pendingLanes;0<f;){var S=31-Ze(f),s=1<<S,a=l[S];a===-1?(!(s&r)||s&i)&&(l[S]=Hu(s,t)):a<=t&&(e.expiredLanes|=s),f&=~s}}function xn(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Za(){var e=wi;return wi<<=1,!(wi&4194240)&&(wi=64),e}function Us(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _i(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ze(t),e[t]=r}function Nu(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-Ze(r),f=1<<l;t[l]=0,i[l]=-1,e[l]=-1,r&=~f}}function yo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-Ze(r),l=1<<i;l&t|e[i]&t&&(e[i]|=t),r&=~l}}var J=0;function ec(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tc,Co,rc,ic,sc,Rn=!1,ki=[],Lt=null,bt=null,xt=null,Zr=new Map,ei=new Map,Ct=[],Uu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sl(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":Zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ei.delete(t.pointerId)}}function Ar(e,t,r,i,l,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:f,targetContainers:[l]},t!==null&&(t=vi(t),t!==null&&Co(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function zu(e,t,r,i,l){switch(t){case"focusin":return Lt=Ar(Lt,e,t,r,i,l),!0;case"dragenter":return bt=Ar(bt,e,t,r,i,l),!0;case"mouseover":return xt=Ar(xt,e,t,r,i,l),!0;case"pointerover":var f=l.pointerId;return Zr.set(f,Ar(Zr.get(f)||null,e,t,r,i,l)),!0;case"gotpointercapture":return f=l.pointerId,ei.set(f,Ar(ei.get(f)||null,e,t,r,i,l)),!0}return!1}function nc(e){var t=zt(e.target);if(t!==null){var r=Jt(t);if(r!==null){if(t=r.tag,t===13){if(t=qa(r),t!==null){e.blockedOn=t,sc(e.priority,function(){rc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Dn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);En=i,r.target.dispatchEvent(i),En=null}else return t=vi(r),t!==null&&Co(t),e.blockedOn=r,!1;t.shift()}return!0}function yl(e,t,r){Ni(e)&&r.delete(t)}function Wu(){Rn=!1,Lt!==null&&Ni(Lt)&&(Lt=null),bt!==null&&Ni(bt)&&(bt=null),xt!==null&&Ni(xt)&&(xt=null),Zr.forEach(yl),ei.forEach(yl)}function Pr(e,t){e.blockedOn===t&&(e.blockedOn=null,Rn||(Rn=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,Wu)))}function ti(e){function t(l){return Pr(l,e)}if(0<ki.length){Pr(ki[0],e);for(var r=1;r<ki.length;r++){var i=ki[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Lt!==null&&Pr(Lt,e),bt!==null&&Pr(bt,e),xt!==null&&Pr(xt,e),Zr.forEach(t),ei.forEach(t),r=0;r<Ct.length;r++)i=Ct[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ct.length&&(r=Ct[0],r.blockedOn===null);)nc(r),r.blockedOn===null&&Ct.shift()}var vr=gt.ReactCurrentBatchConfig,es=!0;function ju(e,t,r,i){var l=J,f=vr.transition;vr.transition=null;try{J=1,wo(e,t,r,i)}finally{J=l,vr.transition=f}}function $u(e,t,r,i){var l=J,f=vr.transition;vr.transition=null;try{J=4,wo(e,t,r,i)}finally{J=l,vr.transition=f}}function wo(e,t,r,i){if(es){var l=Dn(e,t,r,i);if(l===null)Ys(e,t,i,ts,r),Sl(e,i);else if(zu(l,e,t,r,i))i.stopPropagation();else if(Sl(e,i),t&4&&-1<Uu.indexOf(e)){for(;l!==null;){var f=vi(l);if(f!==null&&tc(f),f=Dn(e,t,r,i),f===null&&Ys(e,t,i,ts,r),f===l)break;l=f}l!==null&&i.stopPropagation()}else Ys(e,t,i,null,r)}}var ts=null;function Dn(e,t,r,i){if(ts=null,e=mo(i),e=zt(e),e!==null)if(t=Jt(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qa(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ts=e,null}function oc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Au()){case So:return 1;case Qa:return 4;case Ji:case Pu:return 16;case Ja:return 536870912;default:return 16}default:return 16}}var Et=null,Eo=null,Ui=null;function lc(){if(Ui)return Ui;var e,t=Eo,r=t.length,i,l="value"in Et?Et.value:Et.textContent,f=l.length;for(e=0;e<r&&t[e]===l[e];e++);var S=r-e;for(i=1;i<=S&&t[r-i]===l[f-i];i++);return Ui=l.slice(e,1<i?1-i:void 0)}function zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Cl(){return!1}function Ue(e){function t(r,i,l,f,S){this._reactName=r,this._targetInst=l,this.type=i,this.nativeEvent=f,this.target=S,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(f):f[s]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Li:Cl,this.isPropagationStopped=Cl,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),t}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ko=Ue(xr),pi=le({},xr,{view:0,detail:0}),Ku=Ue(pi),zs,Ws,Mr,Cs=le({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mr&&(Mr&&e.type==="mousemove"?(zs=e.screenX-Mr.screenX,Ws=e.screenY-Mr.screenY):Ws=zs=0,Mr=e),zs)},movementY:function(e){return"movementY"in e?e.movementY:Ws}}),wl=Ue(Cs),Vu=le({},Cs,{dataTransfer:0}),qu=Ue(Vu),Xu=le({},pi,{relatedTarget:0}),js=Ue(Xu),Gu=le({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yu=Ue(Gu),Qu=le({},xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ju=Ue(Qu),Zu=le({},xr,{data:0}),El=Ue(Zu),ed={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function id(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rd[e])?!!t[e]:!1}function Lo(){return id}var sd=le({},pi,{key:function(e){if(e.key){var t=ed[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?td[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lo,charCode:function(e){return e.type==="keypress"?zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nd=Ue(sd),od=le({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=Ue(od),ld=le({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lo}),ad=Ue(ld),cd=le({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hd=Ue(cd),ud=le({},Cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dd=Ue(ud),fd=[9,13,27,32],bo=ft&&"CompositionEvent"in window,jr=null;ft&&"documentMode"in document&&(jr=document.documentMode);var _d=ft&&"TextEvent"in window&&!jr,ac=ft&&(!bo||jr&&8<jr&&11>=jr),Ll=String.fromCharCode(32),bl=!1;function cc(e,t){switch(e){case"keyup":return fd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ir=!1;function pd(e,t){switch(e){case"compositionend":return hc(t);case"keypress":return t.which!==32?null:(bl=!0,Ll);case"textInput":return e=t.data,e===Ll&&bl?null:e;default:return null}}function vd(e,t){if(ir)return e==="compositionend"||!bo&&cc(e,t)?(e=lc(),Ui=Eo=Et=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ac&&t.locale!=="ko"?null:t.data;default:return null}}var gd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gd[e.type]:t==="textarea"}function uc(e,t,r,i){Wa(i),t=rs(t,"onChange"),0<t.length&&(r=new ko("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var $r=null,ri=null;function md(e){wc(e,0)}function ws(e){var t=or(e);if(Oa(t))return e}function Sd(e,t){if(e==="change")return t}var dc=!1;if(ft){var $s;if(ft){var Ks="oninput"in document;if(!Ks){var Rl=document.createElement("div");Rl.setAttribute("oninput","return;"),Ks=typeof Rl.oninput=="function"}$s=Ks}else $s=!1;dc=$s&&(!document.documentMode||9<document.documentMode)}function Dl(){$r&&($r.detachEvent("onpropertychange",fc),ri=$r=null)}function fc(e){if(e.propertyName==="value"&&ws(ri)){var t=[];uc(t,ri,e,mo(e)),Va(md,t)}}function yd(e,t,r){e==="focusin"?(Dl(),$r=t,ri=r,$r.attachEvent("onpropertychange",fc)):e==="focusout"&&Dl()}function Cd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ws(ri)}function wd(e,t){if(e==="click")return ws(t)}function Ed(e,t){if(e==="input"||e==="change")return ws(t)}function kd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:kd;function ii(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var l=r[i];if(!un.call(t,l)||!tt(e[l],t[l]))return!1}return!0}function Tl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Al(e,t){var r=Tl(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tl(r)}}function _c(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_c(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pc(){for(var e=window,t=Gi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gi(e.document)}return t}function xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ld(e){var t=pc(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_c(r.ownerDocument.documentElement,r)){if(i!==null&&xo(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,f=Math.min(i.start,l);i=i.end===void 0?f:Math.min(i.end,l),!e.extend&&f>i&&(l=i,i=f,f=l),l=Al(r,f);var S=Al(r,i);l&&S&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==S.node||e.focusOffset!==S.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),f>i?(e.addRange(t),e.extend(S.node,S.offset)):(t.setEnd(S.node,S.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bd=ft&&"documentMode"in document&&11>=document.documentMode,sr=null,Tn=null,Kr=null,An=!1;function Pl(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;An||sr==null||sr!==Gi(i)||(i=sr,"selectionStart"in i&&xo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Kr&&ii(Kr,i)||(Kr=i,i=rs(Tn,"onSelect"),0<i.length&&(t=new ko("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=sr)))}function bi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var nr={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},Vs={},vc={};ft&&(vc=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function Es(e){if(Vs[e])return Vs[e];if(!nr[e])return e;var t=nr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in vc)return Vs[e]=t[r];return e}var gc=Es("animationend"),mc=Es("animationiteration"),Sc=Es("animationstart"),yc=Es("transitionend"),Cc=new Map,Ml="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ot(e,t){Cc.set(e,t),Qt(t,[e])}for(var qs=0;qs<Ml.length;qs++){var Xs=Ml[qs],xd=Xs.toLowerCase(),Rd=Xs[0].toUpperCase()+Xs.slice(1);Ot(xd,"on"+Rd)}Ot(gc,"onAnimationEnd");Ot(mc,"onAnimationIteration");Ot(Sc,"onAnimationStart");Ot("dblclick","onDoubleClick");Ot("focusin","onFocus");Ot("focusout","onBlur");Ot(yc,"onTransitionEnd");Sr("onMouseEnter",["mouseout","mouseover"]);Sr("onMouseLeave",["mouseout","mouseover"]);Sr("onPointerEnter",["pointerout","pointerover"]);Sr("onPointerLeave",["pointerout","pointerover"]);Qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Bl(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,xu(i,t,void 0,e),e.currentTarget=null}function wc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],l=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var S=i.length-1;0<=S;S--){var s=i[S],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==f&&l.isPropagationStopped())break e;Bl(l,s,u),f=a}else for(S=0;S<i.length;S++){if(s=i[S],a=s.instance,u=s.currentTarget,s=s.listener,a!==f&&l.isPropagationStopped())break e;Bl(l,s,u),f=a}}}if(Qi)throw e=bn,Qi=!1,bn=null,e}function te(e,t){var r=t[In];r===void 0&&(r=t[In]=new Set);var i=e+"__bubble";r.has(i)||(Ec(t,e,2,!1),r.add(i))}function Gs(e,t,r){var i=0;t&&(i|=4),Ec(r,e,i,t)}var xi="_reactListening"+Math.random().toString(36).slice(2);function si(e){if(!e[xi]){e[xi]=!0,Ta.forEach(function(r){r!=="selectionchange"&&(Dd.has(r)||Gs(r,!1,e),Gs(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xi]||(t[xi]=!0,Gs("selectionchange",!1,t))}}function Ec(e,t,r,i){switch(oc(t)){case 1:var l=ju;break;case 4:l=$u;break;default:l=wo}r=l.bind(null,t,r,e),l=void 0,!Ln||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function Ys(e,t,r,i,l){var f=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var S=i.tag;if(S===3||S===4){var s=i.stateNode.containerInfo;if(s===l||s.nodeType===8&&s.parentNode===l)break;if(S===4)for(S=i.return;S!==null;){var a=S.tag;if((a===3||a===4)&&(a=S.stateNode.containerInfo,a===l||a.nodeType===8&&a.parentNode===l))return;S=S.return}for(;s!==null;){if(S=zt(s),S===null)return;if(a=S.tag,a===5||a===6){i=f=S;continue e}s=s.parentNode}}i=i.return}Va(function(){var u=f,y=mo(r),p=[];e:{var v=Cc.get(e);if(v!==void 0){var E=ko,C=e;switch(e){case"keypress":if(zi(r)===0)break e;case"keydown":case"keyup":E=nd;break;case"focusin":C="focus",E=js;break;case"focusout":C="blur",E=js;break;case"beforeblur":case"afterblur":E=js;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=ad;break;case gc:case mc:case Sc:E=Yu;break;case yc:E=hd;break;case"scroll":E=Ku;break;case"wheel":E=dd;break;case"copy":case"cut":case"paste":E=Ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=kl}var g=(t&4)!==0,n=!g&&e==="scroll",c=g?v!==null?v+"Capture":null:v;g=[];for(var h=u,o;h!==null;){o=h;var d=o.stateNode;if(o.tag===5&&d!==null&&(o=d,c!==null&&(d=Jr(h,c),d!=null&&g.push(ni(h,d,o)))),n)break;h=h.return}0<g.length&&(v=new E(v,C,null,r,y),p.push({event:v,listeners:g}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",v&&r!==En&&(C=r.relatedTarget||r.fromElement)&&(zt(C)||C[_t]))break e;if((E||v)&&(v=y.window===y?y:(v=y.ownerDocument)?v.defaultView||v.parentWindow:window,E?(C=r.relatedTarget||r.toElement,E=u,C=C?zt(C):null,C!==null&&(n=Jt(C),C!==n||C.tag!==5&&C.tag!==6)&&(C=null)):(E=null,C=u),E!==C)){if(g=wl,d="onMouseLeave",c="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(g=kl,d="onPointerLeave",c="onPointerEnter",h="pointer"),n=E==null?v:or(E),o=C==null?v:or(C),v=new g(d,h+"leave",E,r,y),v.target=n,v.relatedTarget=o,d=null,zt(y)===u&&(g=new g(c,h+"enter",C,r,y),g.target=o,g.relatedTarget=n,d=g),n=d,E&&C)t:{for(g=E,c=C,h=0,o=g;o;o=Zt(o))h++;for(o=0,d=c;d;d=Zt(d))o++;for(;0<h-o;)g=Zt(g),h--;for(;0<o-h;)c=Zt(c),o--;for(;h--;){if(g===c||c!==null&&g===c.alternate)break t;g=Zt(g),c=Zt(c)}g=null}else g=null;E!==null&&Ol(p,v,E,g,!1),C!==null&&n!==null&&Ol(p,n,C,g,!0)}}e:{if(v=u?or(u):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var m=Sd;else if(xl(v))if(dc)m=Ed;else{m=Cd;var w=yd}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(m=wd);if(m&&(m=m(e,u))){uc(p,m,r,y);break e}w&&w(e,v,u),e==="focusout"&&(w=v._wrapperState)&&w.controlled&&v.type==="number"&&mn(v,"number",v.value)}switch(w=u?or(u):window,e){case"focusin":(xl(w)||w.contentEditable==="true")&&(sr=w,Tn=u,Kr=null);break;case"focusout":Kr=Tn=sr=null;break;case"mousedown":An=!0;break;case"contextmenu":case"mouseup":case"dragend":An=!1,Pl(p,r,y);break;case"selectionchange":if(bd)break;case"keydown":case"keyup":Pl(p,r,y)}var L;if(bo)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ir?cc(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(ac&&r.locale!=="ko"&&(ir||_!=="onCompositionStart"?_==="onCompositionEnd"&&ir&&(L=lc()):(Et=y,Eo="value"in Et?Et.value:Et.textContent,ir=!0)),w=rs(u,_),0<w.length&&(_=new El(_,e,null,r,y),p.push({event:_,listeners:w}),L?_.data=L:(L=hc(r),L!==null&&(_.data=L)))),(L=_d?pd(e,r):vd(e,r))&&(u=rs(u,"onBeforeInput"),0<u.length&&(y=new El("onBeforeInput","beforeinput",null,r,y),p.push({event:y,listeners:u}),y.data=L))}wc(p,t)})}function ni(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rs(e,t){for(var r=t+"Capture",i=[];e!==null;){var l=e,f=l.stateNode;l.tag===5&&f!==null&&(l=f,f=Jr(e,r),f!=null&&i.unshift(ni(e,f,l)),f=Jr(e,t),f!=null&&i.push(ni(e,f,l))),e=e.return}return i}function Zt(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ol(e,t,r,i,l){for(var f=t._reactName,S=[];r!==null&&r!==i;){var s=r,a=s.alternate,u=s.stateNode;if(a!==null&&a===i)break;s.tag===5&&u!==null&&(s=u,l?(a=Jr(r,f),a!=null&&S.unshift(ni(r,a,s))):l||(a=Jr(r,f),a!=null&&S.push(ni(r,a,s)))),r=r.return}S.length!==0&&e.push({event:t,listeners:S})}var Td=/\r\n?/g,Ad=/\u0000|\uFFFD/g;function Il(e){return(typeof e=="string"?e:""+e).replace(Td,`
`).replace(Ad,"")}function Ri(e,t,r){if(t=Il(t),Il(e)!==t&&r)throw Error(U(425))}function is(){}var Pn=null,Mn=null;function Bn(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var On=typeof setTimeout=="function"?setTimeout:void 0,Pd=typeof clearTimeout=="function"?clearTimeout:void 0,Hl=typeof Promise=="function"?Promise:void 0,Md=typeof queueMicrotask=="function"?queueMicrotask:typeof Hl<"u"?function(e){return Hl.resolve(null).then(e).catch(Bd)}:On;function Bd(e){setTimeout(function(){throw e})}function Qs(e,t){var r=t,i=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(i===0){e.removeChild(l),ti(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=l}while(r);ti(t)}function Rt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fl(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Rr=Math.random().toString(36).slice(2),st="__reactFiber$"+Rr,oi="__reactProps$"+Rr,_t="__reactContainer$"+Rr,In="__reactEvents$"+Rr,Od="__reactListeners$"+Rr,Id="__reactHandles$"+Rr;function zt(e){var t=e[st];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_t]||r[st]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Fl(e);e!==null;){if(r=e[st])return r;e=Fl(e)}return t}e=r,r=e.parentNode}return null}function vi(e){return e=e[st]||e[_t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function ks(e){return e[oi]||null}var Hn=[],lr=-1;function It(e){return{current:e}}function re(e){0>lr||(e.current=Hn[lr],Hn[lr]=null,lr--)}function Z(e,t){lr++,Hn[lr]=e.current,e.current=t}var Bt={},Le=It(Bt),Pe=It(!1),Vt=Bt;function yr(e,t){var r=e.type.contextTypes;if(!r)return Bt;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},f;for(f in r)l[f]=t[f];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Me(e){return e=e.childContextTypes,e!=null}function ss(){re(Pe),re(Le)}function Nl(e,t,r){if(Le.current!==Bt)throw Error(U(168));Z(Le,t),Z(Pe,r)}function kc(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(U(108,yu(e)||"Unknown",l));return le({},r,i)}function ns(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bt,Vt=Le.current,Z(Le,e),Z(Pe,Pe.current),!0}function Ul(e,t,r){var i=e.stateNode;if(!i)throw Error(U(169));r?(e=kc(e,t,Vt),i.__reactInternalMemoizedMergedChildContext=e,re(Pe),re(Le),Z(Le,e)):re(Pe),Z(Pe,r)}var at=null,Ls=!1,Js=!1;function Lc(e){at===null?at=[e]:at.push(e)}function Hd(e){Ls=!0,Lc(e)}function Ht(){if(!Js&&at!==null){Js=!0;var e=0,t=J;try{var r=at;for(J=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}at=null,Ls=!1}catch(l){throw at!==null&&(at=at.slice(e+1)),Ya(So,Ht),l}finally{J=t,Js=!1}}return null}var ar=[],cr=0,os=null,ls=0,ze=[],We=0,qt=null,ct=1,ht="";function Ft(e,t){ar[cr++]=ls,ar[cr++]=os,os=e,ls=t}function bc(e,t,r){ze[We++]=ct,ze[We++]=ht,ze[We++]=qt,qt=e;var i=ct;e=ht;var l=32-Ze(i)-1;i&=~(1<<l),r+=1;var f=32-Ze(t)+l;if(30<f){var S=l-l%5;f=(i&(1<<S)-1).toString(32),i>>=S,l-=S,ct=1<<32-Ze(t)+l|r<<l|i,ht=f+e}else ct=1<<f|r<<l|i,ht=e}function Ro(e){e.return!==null&&(Ft(e,1),bc(e,1,0))}function Do(e){for(;e===os;)os=ar[--cr],ar[cr]=null,ls=ar[--cr],ar[cr]=null;for(;e===qt;)qt=ze[--We],ze[We]=null,ht=ze[--We],ze[We]=null,ct=ze[--We],ze[We]=null}var He=null,Ie=null,ie=!1,Je=null;function xc(e,t){var r=je(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zl(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,He=e,Ie=Rt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,He=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=qt!==null?{id:ct,overflow:ht}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=je(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,He=e,Ie=null,!0):!1;default:return!1}}function Fn(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nn(e){if(ie){var t=Ie;if(t){var r=t;if(!zl(e,t)){if(Fn(e))throw Error(U(418));t=Rt(r.nextSibling);var i=He;t&&zl(e,t)?xc(i,r):(e.flags=e.flags&-4097|2,ie=!1,He=e)}}else{if(Fn(e))throw Error(U(418));e.flags=e.flags&-4097|2,ie=!1,He=e}}}function Wl(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;He=e}function Di(e){if(e!==He)return!1;if(!ie)return Wl(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bn(e.type,e.memoizedProps)),t&&(t=Ie)){if(Fn(e))throw Rc(),Error(U(418));for(;t;)xc(e,t),t=Rt(t.nextSibling)}if(Wl(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ie=Rt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=He?Rt(e.stateNode.nextSibling):null;return!0}function Rc(){for(var e=Ie;e;)e=Rt(e.nextSibling)}function Cr(){Ie=He=null,ie=!1}function To(e){Je===null?Je=[e]:Je.push(e)}var Fd=gt.ReactCurrentBatchConfig;function Ge(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var as=It(null),cs=null,hr=null,Ao=null;function Po(){Ao=hr=cs=null}function Mo(e){var t=as.current;re(as),e._currentValue=t}function Un(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function gr(e,t){cs=e,Ao=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ae=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},hr===null){if(cs===null)throw Error(U(308));hr=e,cs.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return t}var Wt=null;function Bo(e){Wt===null?Wt=[e]:Wt.push(e)}function Dc(e,t,r,i){var l=t.interleaved;return l===null?(r.next=r,Bo(t)):(r.next=l.next,l.next=r),t.interleaved=r,pt(e,i)}function pt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var yt=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dt(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Q&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,pt(e,r)}return l=i.interleaved,l===null?(t.next=t,Bo(i)):(t.next=l.next,l.next=t),i.interleaved=t,pt(e,r)}function Wi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,yo(e,r)}}function jl(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var l=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var S={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?l=f=S:f=f.next=S,r=r.next}while(r!==null);f===null?l=f=t:f=f.next=t}else l=f=t;r={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:f,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hs(e,t,r,i){var l=e.updateQueue;yt=!1;var f=l.firstBaseUpdate,S=l.lastBaseUpdate,s=l.shared.pending;if(s!==null){l.shared.pending=null;var a=s,u=a.next;a.next=null,S===null?f=u:S.next=u,S=a;var y=e.alternate;y!==null&&(y=y.updateQueue,s=y.lastBaseUpdate,s!==S&&(s===null?y.firstBaseUpdate=u:s.next=u,y.lastBaseUpdate=a))}if(f!==null){var p=l.baseState;S=0,y=u=a=null,s=f;do{var v=s.lane,E=s.eventTime;if((i&v)===v){y!==null&&(y=y.next={eventTime:E,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var C=e,g=s;switch(v=t,E=r,g.tag){case 1:if(C=g.payload,typeof C=="function"){p=C.call(E,p,v);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=g.payload,v=typeof C=="function"?C.call(E,p,v):C,v==null)break e;p=le({},p,v);break e;case 2:yt=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,v=l.effects,v===null?l.effects=[s]:v.push(s))}else E={eventTime:E,lane:v,tag:s.tag,payload:s.payload,callback:s.callback,next:null},y===null?(u=y=E,a=p):y=y.next=E,S|=v;if(s=s.next,s===null){if(s=l.shared.pending,s===null)break;v=s,s=v.next,v.next=null,l.lastBaseUpdate=v,l.shared.pending=null}}while(1);if(y===null&&(a=p),l.baseState=a,l.firstBaseUpdate=u,l.lastBaseUpdate=y,t=l.shared.interleaved,t!==null){l=t;do S|=l.lane,l=l.next;while(l!==t)}else f===null&&(l.shared.lanes=0);Gt|=S,e.lanes=S,e.memoizedState=p}}function $l(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=r,typeof l!="function")throw Error(U(191,l));l.call(i)}}}var Ac=new Da.Component().refs;function zn(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:le({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bs={isMounted:function(e){return(e=e._reactInternals)?Jt(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=xe(),l=At(e),f=ut(i,l);f.payload=t,r!=null&&(f.callback=r),t=Dt(e,f,l),t!==null&&(et(t,e,l,i),Wi(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=xe(),l=At(e),f=ut(i,l);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=Dt(e,f,l),t!==null&&(et(t,e,l,i),Wi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xe(),i=At(e),l=ut(r,i);l.tag=2,t!=null&&(l.callback=t),t=Dt(e,l,i),t!==null&&(et(t,e,i,r),Wi(t,e,i))}};function Kl(e,t,r,i,l,f,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,S):t.prototype&&t.prototype.isPureReactComponent?!ii(r,i)||!ii(l,f):!0}function Pc(e,t,r){var i=!1,l=Bt,f=t.contextType;return typeof f=="object"&&f!==null?f=Ke(f):(l=Me(t)?Vt:Le.current,i=t.contextTypes,f=(i=i!=null)?yr(e,l):Bt),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bs,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=f),t}function Vl(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&bs.enqueueReplaceState(t,t.state,null)}function Wn(e,t,r,i){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs=Ac,Oo(e);var f=t.contextType;typeof f=="object"&&f!==null?l.context=Ke(f):(f=Me(t)?Vt:Le.current,l.context=yr(e,f)),l.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(zn(e,t,f,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&bs.enqueueReplaceState(l,l.state,null),hs(e,r,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Br(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var i=r.stateNode}if(!i)throw Error(U(147,e));var l=i,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(S){var s=l.refs;s===Ac&&(s=l.refs={}),S===null?delete s[f]:s[f]=S},t._stringRef=f,t)}if(typeof e!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,e))}return e}function Ti(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ql(e){var t=e._init;return t(e._payload)}function Mc(e){function t(c,h){if(e){var o=c.deletions;o===null?(c.deletions=[h],c.flags|=16):o.push(h)}}function r(c,h){if(!e)return null;for(;h!==null;)t(c,h),h=h.sibling;return null}function i(c,h){for(c=new Map;h!==null;)h.key!==null?c.set(h.key,h):c.set(h.index,h),h=h.sibling;return c}function l(c,h){return c=Pt(c,h),c.index=0,c.sibling=null,c}function f(c,h,o){return c.index=o,e?(o=c.alternate,o!==null?(o=o.index,o<h?(c.flags|=2,h):o):(c.flags|=2,h)):(c.flags|=1048576,h)}function S(c){return e&&c.alternate===null&&(c.flags|=2),c}function s(c,h,o,d){return h===null||h.tag!==6?(h=on(o,c.mode,d),h.return=c,h):(h=l(h,o),h.return=c,h)}function a(c,h,o,d){var m=o.type;return m===rr?y(c,h,o.props.children,d,o.key):h!==null&&(h.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===St&&ql(m)===h.type)?(d=l(h,o.props),d.ref=Br(c,h,o),d.return=c,d):(d=Xi(o.type,o.key,o.props,null,c.mode,d),d.ref=Br(c,h,o),d.return=c,d)}function u(c,h,o,d){return h===null||h.tag!==4||h.stateNode.containerInfo!==o.containerInfo||h.stateNode.implementation!==o.implementation?(h=ln(o,c.mode,d),h.return=c,h):(h=l(h,o.children||[]),h.return=c,h)}function y(c,h,o,d,m){return h===null||h.tag!==7?(h=Kt(o,c.mode,d,m),h.return=c,h):(h=l(h,o),h.return=c,h)}function p(c,h,o){if(typeof h=="string"&&h!==""||typeof h=="number")return h=on(""+h,c.mode,o),h.return=c,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Si:return o=Xi(h.type,h.key,h.props,null,c.mode,o),o.ref=Br(c,null,h),o.return=c,o;case tr:return h=ln(h,c.mode,o),h.return=c,h;case St:var d=h._init;return p(c,d(h._payload),o)}if(Fr(h)||Dr(h))return h=Kt(h,c.mode,o,null),h.return=c,h;Ti(c,h)}return null}function v(c,h,o,d){var m=h!==null?h.key:null;if(typeof o=="string"&&o!==""||typeof o=="number")return m!==null?null:s(c,h,""+o,d);if(typeof o=="object"&&o!==null){switch(o.$$typeof){case Si:return o.key===m?a(c,h,o,d):null;case tr:return o.key===m?u(c,h,o,d):null;case St:return m=o._init,v(c,h,m(o._payload),d)}if(Fr(o)||Dr(o))return m!==null?null:y(c,h,o,d,null);Ti(c,o)}return null}function E(c,h,o,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return c=c.get(o)||null,s(h,c,""+d,m);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Si:return c=c.get(d.key===null?o:d.key)||null,a(h,c,d,m);case tr:return c=c.get(d.key===null?o:d.key)||null,u(h,c,d,m);case St:var w=d._init;return E(c,h,o,w(d._payload),m)}if(Fr(d)||Dr(d))return c=c.get(o)||null,y(h,c,d,m,null);Ti(h,d)}return null}function C(c,h,o,d){for(var m=null,w=null,L=h,_=h=0,k=null;L!==null&&_<o.length;_++){L.index>_?(k=L,L=null):k=L.sibling;var x=v(c,L,o[_],d);if(x===null){L===null&&(L=k);break}e&&L&&x.alternate===null&&t(c,L),h=f(x,h,_),w===null?m=x:w.sibling=x,w=x,L=k}if(_===o.length)return r(c,L),ie&&Ft(c,_),m;if(L===null){for(;_<o.length;_++)L=p(c,o[_],d),L!==null&&(h=f(L,h,_),w===null?m=L:w.sibling=L,w=L);return ie&&Ft(c,_),m}for(L=i(c,L);_<o.length;_++)k=E(L,c,_,o[_],d),k!==null&&(e&&k.alternate!==null&&L.delete(k.key===null?_:k.key),h=f(k,h,_),w===null?m=k:w.sibling=k,w=k);return e&&L.forEach(function(A){return t(c,A)}),ie&&Ft(c,_),m}function g(c,h,o,d){var m=Dr(o);if(typeof m!="function")throw Error(U(150));if(o=m.call(o),o==null)throw Error(U(151));for(var w=m=null,L=h,_=h=0,k=null,x=o.next();L!==null&&!x.done;_++,x=o.next()){L.index>_?(k=L,L=null):k=L.sibling;var A=v(c,L,x.value,d);if(A===null){L===null&&(L=k);break}e&&L&&A.alternate===null&&t(c,L),h=f(A,h,_),w===null?m=A:w.sibling=A,w=A,L=k}if(x.done)return r(c,L),ie&&Ft(c,_),m;if(L===null){for(;!x.done;_++,x=o.next())x=p(c,x.value,d),x!==null&&(h=f(x,h,_),w===null?m=x:w.sibling=x,w=x);return ie&&Ft(c,_),m}for(L=i(c,L);!x.done;_++,x=o.next())x=E(L,c,_,x.value,d),x!==null&&(e&&x.alternate!==null&&L.delete(x.key===null?_:x.key),h=f(x,h,_),w===null?m=x:w.sibling=x,w=x);return e&&L.forEach(function(P){return t(c,P)}),ie&&Ft(c,_),m}function n(c,h,o,d){if(typeof o=="object"&&o!==null&&o.type===rr&&o.key===null&&(o=o.props.children),typeof o=="object"&&o!==null){switch(o.$$typeof){case Si:e:{for(var m=o.key,w=h;w!==null;){if(w.key===m){if(m=o.type,m===rr){if(w.tag===7){r(c,w.sibling),h=l(w,o.props.children),h.return=c,c=h;break e}}else if(w.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===St&&ql(m)===w.type){r(c,w.sibling),h=l(w,o.props),h.ref=Br(c,w,o),h.return=c,c=h;break e}r(c,w);break}else t(c,w);w=w.sibling}o.type===rr?(h=Kt(o.props.children,c.mode,d,o.key),h.return=c,c=h):(d=Xi(o.type,o.key,o.props,null,c.mode,d),d.ref=Br(c,h,o),d.return=c,c=d)}return S(c);case tr:e:{for(w=o.key;h!==null;){if(h.key===w)if(h.tag===4&&h.stateNode.containerInfo===o.containerInfo&&h.stateNode.implementation===o.implementation){r(c,h.sibling),h=l(h,o.children||[]),h.return=c,c=h;break e}else{r(c,h);break}else t(c,h);h=h.sibling}h=ln(o,c.mode,d),h.return=c,c=h}return S(c);case St:return w=o._init,n(c,h,w(o._payload),d)}if(Fr(o))return C(c,h,o,d);if(Dr(o))return g(c,h,o,d);Ti(c,o)}return typeof o=="string"&&o!==""||typeof o=="number"?(o=""+o,h!==null&&h.tag===6?(r(c,h.sibling),h=l(h,o),h.return=c,c=h):(r(c,h),h=on(o,c.mode,d),h.return=c,c=h),S(c)):r(c,h)}return n}var wr=Mc(!0),Bc=Mc(!1),gi={},ot=It(gi),li=It(gi),ai=It(gi);function jt(e){if(e===gi)throw Error(U(174));return e}function Io(e,t){switch(Z(ai,t),Z(li,e),Z(ot,gi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yn(t,e)}re(ot),Z(ot,t)}function Er(){re(ot),re(li),re(ai)}function Oc(e){jt(ai.current);var t=jt(ot.current),r=yn(t,e.type);t!==r&&(Z(li,e),Z(ot,r))}function Ho(e){li.current===e&&(re(ot),re(li))}var ne=It(0);function us(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zs=[];function Fo(){for(var e=0;e<Zs.length;e++)Zs[e]._workInProgressVersionPrimary=null;Zs.length=0}var ji=gt.ReactCurrentDispatcher,en=gt.ReactCurrentBatchConfig,Xt=0,oe=null,de=null,ve=null,ds=!1,Vr=!1,ci=0,Nd=0;function we(){throw Error(U(321))}function No(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tt(e[r],t[r]))return!1;return!0}function Uo(e,t,r,i,l,f){if(Xt=f,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ji.current=e===null||e.memoizedState===null?jd:$d,e=r(i,l),Vr){f=0;do{if(Vr=!1,ci=0,25<=f)throw Error(U(301));f+=1,ve=de=null,t.updateQueue=null,ji.current=Kd,e=r(i,l)}while(Vr)}if(ji.current=fs,t=de!==null&&de.next!==null,Xt=0,ve=de=oe=null,ds=!1,t)throw Error(U(300));return e}function zo(){var e=ci!==0;return ci=0,e}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?oe.memoizedState=ve=e:ve=ve.next=e,ve}function Ve(){if(de===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=ve===null?oe.memoizedState:ve.next;if(t!==null)ve=t,de=e;else{if(e===null)throw Error(U(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},ve===null?oe.memoizedState=ve=e:ve=ve.next=e}return ve}function hi(e,t){return typeof t=="function"?t(e):t}function tn(e){var t=Ve(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var i=de,l=i.baseQueue,f=r.pending;if(f!==null){if(l!==null){var S=l.next;l.next=f.next,f.next=S}i.baseQueue=l=f,r.pending=null}if(l!==null){f=l.next,i=i.baseState;var s=S=null,a=null,u=f;do{var y=u.lane;if((Xt&y)===y)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var p={lane:y,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=p,S=i):a=a.next=p,oe.lanes|=y,Gt|=y}u=u.next}while(u!==null&&u!==f);a===null?S=i:a.next=s,tt(i,t.memoizedState)||(Ae=!0),t.memoizedState=i,t.baseState=S,t.baseQueue=a,r.lastRenderedState=i}if(e=r.interleaved,e!==null){l=e;do f=l.lane,oe.lanes|=f,Gt|=f,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function rn(e){var t=Ve(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var i=r.dispatch,l=r.pending,f=t.memoizedState;if(l!==null){r.pending=null;var S=l=l.next;do f=e(f,S.action),S=S.next;while(S!==l);tt(f,t.memoizedState)||(Ae=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,i]}function Ic(){}function Hc(e,t){var r=oe,i=Ve(),l=t(),f=!tt(i.memoizedState,l);if(f&&(i.memoizedState=l,Ae=!0),i=i.queue,Wo(Uc.bind(null,r,i,e),[e]),i.getSnapshot!==t||f||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,ui(9,Nc.bind(null,r,i,l,t),void 0,null),ge===null)throw Error(U(349));Xt&30||Fc(r,t,l)}return l}function Fc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Nc(e,t,r,i){t.value=r,t.getSnapshot=i,zc(t)&&Wc(e)}function Uc(e,t,r){return r(function(){zc(t)&&Wc(e)})}function zc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tt(e,r)}catch{return!0}}function Wc(e){var t=pt(e,1);t!==null&&et(t,e,1,-1)}function Xl(e){var t=it();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:e},t.queue=e,e=e.dispatch=Wd.bind(null,oe,e),[t.memoizedState,e]}function ui(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function jc(){return Ve().memoizedState}function $i(e,t,r,i){var l=it();oe.flags|=e,l.memoizedState=ui(1|t,r,void 0,i===void 0?null:i)}function xs(e,t,r,i){var l=Ve();i=i===void 0?null:i;var f=void 0;if(de!==null){var S=de.memoizedState;if(f=S.destroy,i!==null&&No(i,S.deps)){l.memoizedState=ui(t,r,f,i);return}}oe.flags|=e,l.memoizedState=ui(1|t,r,f,i)}function Gl(e,t){return $i(8390656,8,e,t)}function Wo(e,t){return xs(2048,8,e,t)}function $c(e,t){return xs(4,2,e,t)}function Kc(e,t){return xs(4,4,e,t)}function Vc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qc(e,t,r){return r=r!=null?r.concat([e]):null,xs(4,4,Vc.bind(null,t,e),r)}function jo(){}function Xc(e,t){var r=Ve();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&No(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Gc(e,t){var r=Ve();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&No(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function Yc(e,t,r){return Xt&21?(tt(r,t)||(r=Za(),oe.lanes|=r,Gt|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ae=!0),e.memoizedState=r)}function Ud(e,t){var r=J;J=r!==0&&4>r?r:4,e(!0);var i=en.transition;en.transition={};try{e(!1),t()}finally{J=r,en.transition=i}}function Qc(){return Ve().memoizedState}function zd(e,t,r){var i=At(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Jc(e))Zc(t,r);else if(r=Dc(e,t,r,i),r!==null){var l=xe();et(r,e,i,l),eh(r,t,i)}}function Wd(e,t,r){var i=At(e),l={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jc(e))Zc(t,l);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var S=t.lastRenderedState,s=f(S,r);if(l.hasEagerState=!0,l.eagerState=s,tt(s,S)){var a=t.interleaved;a===null?(l.next=l,Bo(t)):(l.next=a.next,a.next=l),t.interleaved=l;return}}catch{}finally{}r=Dc(e,t,l,i),r!==null&&(l=xe(),et(r,e,i,l),eh(r,t,i))}}function Jc(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function Zc(e,t){Vr=ds=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function eh(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,yo(e,r)}}var fs={readContext:Ke,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},jd={readContext:Ke,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:Gl,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$i(4194308,4,Vc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $i(4194308,4,e,t)},useInsertionEffect:function(e,t){return $i(4,2,e,t)},useMemo:function(e,t){var r=it();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=it();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=zd.bind(null,oe,e),[i.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:Xl,useDebugValue:jo,useDeferredValue:function(e){return it().memoizedState=e},useTransition:function(){var e=Xl(!1),t=e[0];return e=Ud.bind(null,e[1]),it().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=oe,l=it();if(ie){if(r===void 0)throw Error(U(407));r=r()}else{if(r=t(),ge===null)throw Error(U(349));Xt&30||Fc(i,t,r)}l.memoizedState=r;var f={value:r,getSnapshot:t};return l.queue=f,Gl(Uc.bind(null,i,f,e),[e]),i.flags|=2048,ui(9,Nc.bind(null,i,f,r,t),void 0,null),r},useId:function(){var e=it(),t=ge.identifierPrefix;if(ie){var r=ht,i=ct;r=(i&~(1<<32-Ze(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=ci++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Nd++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$d={readContext:Ke,useCallback:Xc,useContext:Ke,useEffect:Wo,useImperativeHandle:qc,useInsertionEffect:$c,useLayoutEffect:Kc,useMemo:Gc,useReducer:tn,useRef:jc,useState:function(){return tn(hi)},useDebugValue:jo,useDeferredValue:function(e){var t=Ve();return Yc(t,de.memoizedState,e)},useTransition:function(){var e=tn(hi)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:Ic,useSyncExternalStore:Hc,useId:Qc,unstable_isNewReconciler:!1},Kd={readContext:Ke,useCallback:Xc,useContext:Ke,useEffect:Wo,useImperativeHandle:qc,useInsertionEffect:$c,useLayoutEffect:Kc,useMemo:Gc,useReducer:rn,useRef:jc,useState:function(){return rn(hi)},useDebugValue:jo,useDeferredValue:function(e){var t=Ve();return de===null?t.memoizedState=e:Yc(t,de.memoizedState,e)},useTransition:function(){var e=rn(hi)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:Ic,useSyncExternalStore:Hc,useId:Qc,unstable_isNewReconciler:!1};function kr(e,t){try{var r="",i=t;do r+=Su(i),i=i.return;while(i);var l=r}catch(f){l=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:l,digest:null}}function sn(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jn(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Vd=typeof WeakMap=="function"?WeakMap:Map;function th(e,t,r){r=ut(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){ps||(ps=!0,Zn=i),jn(e,t)},r}function rh(e,t,r){r=ut(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;r.payload=function(){return i(l)},r.callback=function(){jn(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){jn(e,t),typeof i!="function"&&(Tt===null?Tt=new Set([this]):Tt.add(this));var S=t.stack;this.componentDidCatch(t.value,{componentStack:S!==null?S:""})}),r}function Yl(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Vd;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(r)||(l.add(r),e=lf.bind(null,e,t,r),t.then(e,e))}function Ql(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jl(e,t,r,i,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ut(-1,1),t.tag=2,Dt(r,t,1))),r.lanes|=1),e)}var qd=gt.ReactCurrentOwner,Ae=!1;function be(e,t,r,i){t.child=e===null?Bc(t,null,r,i):wr(t,e.child,r,i)}function Zl(e,t,r,i,l){r=r.render;var f=t.ref;return gr(t,l),i=Uo(e,t,r,i,f,l),r=zo(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,vt(e,t,l)):(ie&&r&&Ro(t),t.flags|=1,be(e,t,i,l),t.child)}function ea(e,t,r,i,l){if(e===null){var f=r.type;return typeof f=="function"&&!Qo(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,ih(e,t,f,i,l)):(e=Xi(r.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&l)){var S=f.memoizedProps;if(r=r.compare,r=r!==null?r:ii,r(S,i)&&e.ref===t.ref)return vt(e,t,l)}return t.flags|=1,e=Pt(f,i),e.ref=t.ref,e.return=t,t.child=e}function ih(e,t,r,i,l){if(e!==null){var f=e.memoizedProps;if(ii(f,i)&&e.ref===t.ref)if(Ae=!1,t.pendingProps=i=f,(e.lanes&l)!==0)e.flags&131072&&(Ae=!0);else return t.lanes=e.lanes,vt(e,t,l)}return $n(e,t,r,i,l)}function sh(e,t,r){var i=t.pendingProps,l=i.children,f=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(dr,Oe),Oe|=r;else{if(!(r&1073741824))return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(dr,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=f!==null?f.baseLanes:r,Z(dr,Oe),Oe|=i}else f!==null?(i=f.baseLanes|r,t.memoizedState=null):i=r,Z(dr,Oe),Oe|=i;return be(e,t,l,r),t.child}function nh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function $n(e,t,r,i,l){var f=Me(r)?Vt:Le.current;return f=yr(t,f),gr(t,l),r=Uo(e,t,r,i,f,l),i=zo(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,vt(e,t,l)):(ie&&i&&Ro(t),t.flags|=1,be(e,t,r,l),t.child)}function ta(e,t,r,i,l){if(Me(r)){var f=!0;ns(t)}else f=!1;if(gr(t,l),t.stateNode===null)Ki(e,t),Pc(t,r,i),Wn(t,r,i,l),i=!0;else if(e===null){var S=t.stateNode,s=t.memoizedProps;S.props=s;var a=S.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ke(u):(u=Me(r)?Vt:Le.current,u=yr(t,u));var y=r.getDerivedStateFromProps,p=typeof y=="function"||typeof S.getSnapshotBeforeUpdate=="function";p||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(s!==i||a!==u)&&Vl(t,S,i,u),yt=!1;var v=t.memoizedState;S.state=v,hs(t,i,S,l),a=t.memoizedState,s!==i||v!==a||Pe.current||yt?(typeof y=="function"&&(zn(t,r,y,i),a=t.memoizedState),(s=yt||Kl(t,r,s,i,v,a,u))?(p||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(t.flags|=4194308)):(typeof S.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=a),S.props=i,S.state=a,S.context=u,i=s):(typeof S.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{S=t.stateNode,Tc(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Ge(t.type,s),S.props=u,p=t.pendingProps,v=S.context,a=r.contextType,typeof a=="object"&&a!==null?a=Ke(a):(a=Me(r)?Vt:Le.current,a=yr(t,a));var E=r.getDerivedStateFromProps;(y=typeof E=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(s!==p||v!==a)&&Vl(t,S,i,a),yt=!1,v=t.memoizedState,S.state=v,hs(t,i,S,l);var C=t.memoizedState;s!==p||v!==C||Pe.current||yt?(typeof E=="function"&&(zn(t,r,E,i),C=t.memoizedState),(u=yt||Kl(t,r,u,i,v,C,a)||!1)?(y||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(i,C,a),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(i,C,a)),typeof S.componentDidUpdate=="function"&&(t.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof S.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=C),S.props=i,S.state=C,S.context=a,i=u):(typeof S.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),i=!1)}return Kn(e,t,r,i,f,l)}function Kn(e,t,r,i,l,f){nh(e,t);var S=(t.flags&128)!==0;if(!i&&!S)return l&&Ul(t,r,!1),vt(e,t,f);i=t.stateNode,qd.current=t;var s=S&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&S?(t.child=wr(t,e.child,null,f),t.child=wr(t,null,s,f)):be(e,t,s,f),t.memoizedState=i.state,l&&Ul(t,r,!0),t.child}function oh(e){var t=e.stateNode;t.pendingContext?Nl(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nl(e,t.context,!1),Io(e,t.containerInfo)}function ra(e,t,r,i,l){return Cr(),To(l),t.flags|=256,be(e,t,r,i),t.child}var Vn={dehydrated:null,treeContext:null,retryLane:0};function qn(e){return{baseLanes:e,cachePool:null,transitions:null}}function lh(e,t,r){var i=t.pendingProps,l=ne.current,f=!1,S=(t.flags&128)!==0,s;if((s=S)||(s=e!==null&&e.memoizedState===null?!1:(l&2)!==0),s?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Z(ne,l&1),e===null)return Nn(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(S=i.children,e=i.fallback,f?(i=t.mode,f=t.child,S={mode:"hidden",children:S},!(i&1)&&f!==null?(f.childLanes=0,f.pendingProps=S):f=Ts(S,i,0,null),e=Kt(e,i,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=qn(r),t.memoizedState=Vn,e):$o(t,S));if(l=e.memoizedState,l!==null&&(s=l.dehydrated,s!==null))return Xd(e,t,S,i,s,l,r);if(f){f=i.fallback,S=t.mode,l=e.child,s=l.sibling;var a={mode:"hidden",children:i.children};return!(S&1)&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=a,t.deletions=null):(i=Pt(l,a),i.subtreeFlags=l.subtreeFlags&14680064),s!==null?f=Pt(s,f):(f=Kt(f,S,r,null),f.flags|=2),f.return=t,i.return=t,i.sibling=f,t.child=i,i=f,f=t.child,S=e.child.memoizedState,S=S===null?qn(r):{baseLanes:S.baseLanes|r,cachePool:null,transitions:S.transitions},f.memoizedState=S,f.childLanes=e.childLanes&~r,t.memoizedState=Vn,i}return f=e.child,e=f.sibling,i=Pt(f,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function $o(e,t){return t=Ts({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ai(e,t,r,i){return i!==null&&To(i),wr(t,e.child,null,r),e=$o(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xd(e,t,r,i,l,f,S){if(r)return t.flags&256?(t.flags&=-257,i=sn(Error(U(422))),Ai(e,t,S,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=i.fallback,l=t.mode,i=Ts({mode:"visible",children:i.children},l,0,null),f=Kt(f,l,S,null),f.flags|=2,i.return=t,f.return=t,i.sibling=f,t.child=i,t.mode&1&&wr(t,e.child,null,S),t.child.memoizedState=qn(S),t.memoizedState=Vn,f);if(!(t.mode&1))return Ai(e,t,S,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var s=i.dgst;return i=s,f=Error(U(419)),i=sn(f,i,void 0),Ai(e,t,S,i)}if(s=(S&e.childLanes)!==0,Ae||s){if(i=ge,i!==null){switch(S&-S){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(i.suspendedLanes|S)?0:l,l!==0&&l!==f.retryLane&&(f.retryLane=l,pt(e,l),et(i,e,l,-1))}return Yo(),i=sn(Error(U(421))),Ai(e,t,S,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=af.bind(null,e),l._reactRetry=t,null):(e=f.treeContext,Ie=Rt(l.nextSibling),He=t,ie=!0,Je=null,e!==null&&(ze[We++]=ct,ze[We++]=ht,ze[We++]=qt,ct=e.id,ht=e.overflow,qt=t),t=$o(t,i.children),t.flags|=4096,t)}function ia(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Un(e.return,t,r)}function nn(e,t,r,i,l){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:l}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=r,f.tailMode=l)}function ah(e,t,r){var i=t.pendingProps,l=i.revealOrder,f=i.tail;if(be(e,t,i.children,r),i=ne.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ia(e,r,t);else if(e.tag===19)ia(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Z(ne,i),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&us(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),nn(t,!1,l,r,f);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&us(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}nn(t,!0,r,null,f);break;case"together":nn(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ki(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Gt|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,r=Pt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Pt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Gd(e,t,r){switch(t.tag){case 3:oh(t),Cr();break;case 5:Oc(t);break;case 1:Me(t.type)&&ns(t);break;case 4:Io(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;Z(as,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Z(ne,ne.current&1),t.flags|=128,null):r&t.child.childLanes?lh(e,t,r):(Z(ne,ne.current&1),e=vt(e,t,r),e!==null?e.sibling:null);Z(ne,ne.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return ah(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Z(ne,ne.current),i)break;return null;case 22:case 23:return t.lanes=0,sh(e,t,r)}return vt(e,t,r)}var ch,Xn,hh,uh;ch=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xn=function(){};hh=function(e,t,r,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,jt(ot.current);var f=null;switch(r){case"input":l=vn(e,l),i=vn(e,i),f=[];break;case"select":l=le({},l,{value:void 0}),i=le({},i,{value:void 0}),f=[];break;case"textarea":l=Sn(e,l),i=Sn(e,i),f=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=is)}Cn(r,i);var S;r=null;for(u in l)if(!i.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var s=l[u];for(S in s)s.hasOwnProperty(S)&&(r||(r={}),r[S]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yr.hasOwnProperty(u)?f||(f=[]):(f=f||[]).push(u,null));for(u in i){var a=i[u];if(s=l!=null?l[u]:void 0,i.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(S in s)!s.hasOwnProperty(S)||a&&a.hasOwnProperty(S)||(r||(r={}),r[S]="");for(S in a)a.hasOwnProperty(S)&&s[S]!==a[S]&&(r||(r={}),r[S]=a[S])}else r||(f||(f=[]),f.push(u,r)),r=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(f=f||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(f=f||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&te("scroll",e),f||s===a||(f=[])):(f=f||[]).push(u,a))}r&&(f=f||[]).push("style",r);var u=f;(t.updateQueue=u)&&(t.flags|=4)}};uh=function(e,t,r,i){r!==i&&(t.flags|=4)};function Or(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Yd(e,t,r){var i=t.pendingProps;switch(Do(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return Me(t.type)&&ss(),Ee(t),null;case 3:return i=t.stateNode,Er(),re(Pe),re(Le),Fo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Di(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Je!==null&&(ro(Je),Je=null))),Xn(e,t),Ee(t),null;case 5:Ho(t);var l=jt(ai.current);if(r=t.type,e!==null&&t.stateNode!=null)hh(e,t,r,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(U(166));return Ee(t),null}if(e=jt(ot.current),Di(t)){i=t.stateNode,r=t.type;var f=t.memoizedProps;switch(i[st]=t,i[oi]=f,e=(t.mode&1)!==0,r){case"dialog":te("cancel",i),te("close",i);break;case"iframe":case"object":case"embed":te("load",i);break;case"video":case"audio":for(l=0;l<Ur.length;l++)te(Ur[l],i);break;case"source":te("error",i);break;case"img":case"image":case"link":te("error",i),te("load",i);break;case"details":te("toggle",i);break;case"input":dl(i,f),te("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!f.multiple},te("invalid",i);break;case"textarea":_l(i,f),te("invalid",i)}Cn(r,f),l=null;for(var S in f)if(f.hasOwnProperty(S)){var s=f[S];S==="children"?typeof s=="string"?i.textContent!==s&&(f.suppressHydrationWarning!==!0&&Ri(i.textContent,s,e),l=["children",s]):typeof s=="number"&&i.textContent!==""+s&&(f.suppressHydrationWarning!==!0&&Ri(i.textContent,s,e),l=["children",""+s]):Yr.hasOwnProperty(S)&&s!=null&&S==="onScroll"&&te("scroll",i)}switch(r){case"input":yi(i),fl(i,f,!0);break;case"textarea":yi(i),pl(i);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(i.onclick=is)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{S=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fa(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=S.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=S.createElement(r,{is:i.is}):(e=S.createElement(r),r==="select"&&(S=e,i.multiple?S.multiple=!0:i.size&&(S.size=i.size))):e=S.createElementNS(e,r),e[st]=t,e[oi]=i,ch(e,t,!1,!1),t.stateNode=e;e:{switch(S=wn(r,i),r){case"dialog":te("cancel",e),te("close",e),l=i;break;case"iframe":case"object":case"embed":te("load",e),l=i;break;case"video":case"audio":for(l=0;l<Ur.length;l++)te(Ur[l],e);l=i;break;case"source":te("error",e),l=i;break;case"img":case"image":case"link":te("error",e),te("load",e),l=i;break;case"details":te("toggle",e),l=i;break;case"input":dl(e,i),l=vn(e,i),te("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=le({},i,{value:void 0}),te("invalid",e);break;case"textarea":_l(e,i),l=Sn(e,i),te("invalid",e);break;default:l=i}Cn(r,l),s=l;for(f in s)if(s.hasOwnProperty(f)){var a=s[f];f==="style"?za(e,a):f==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Na(e,a)):f==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&Qr(e,a):typeof a=="number"&&Qr(e,""+a):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Yr.hasOwnProperty(f)?a!=null&&f==="onScroll"&&te("scroll",e):a!=null&&_o(e,f,a,S))}switch(r){case"input":yi(e),fl(e,i,!1);break;case"textarea":yi(e),pl(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Mt(i.value));break;case"select":e.multiple=!!i.multiple,f=i.value,f!=null?fr(e,!!i.multiple,f,!1):i.defaultValue!=null&&fr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=is)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)uh(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(U(166));if(r=jt(ai.current),jt(ot.current),Di(t)){if(i=t.stateNode,r=t.memoizedProps,i[st]=t,(f=i.nodeValue!==r)&&(e=He,e!==null))switch(e.tag){case 3:Ri(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ri(i.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[st]=t,t.stateNode=i}return Ee(t),null;case 13:if(re(ne),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&Ie!==null&&t.mode&1&&!(t.flags&128))Rc(),Cr(),t.flags|=98560,f=!1;else if(f=Di(t),i!==null&&i.dehydrated!==null){if(e===null){if(!f)throw Error(U(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(U(317));f[st]=t}else Cr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),f=!1}else Je!==null&&(ro(Je),Je=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?fe===0&&(fe=3):Yo())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return Er(),Xn(e,t),e===null&&si(t.stateNode.containerInfo),Ee(t),null;case 10:return Mo(t.type._context),Ee(t),null;case 17:return Me(t.type)&&ss(),Ee(t),null;case 19:if(re(ne),f=t.memoizedState,f===null)return Ee(t),null;if(i=(t.flags&128)!==0,S=f.rendering,S===null)if(i)Or(f,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(S=us(e),S!==null){for(t.flags|=128,Or(f,!1),i=S.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)f=r,e=i,f.flags&=14680066,S=f.alternate,S===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=S.childLanes,f.lanes=S.lanes,f.child=S.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=S.memoizedProps,f.memoizedState=S.memoizedState,f.updateQueue=S.updateQueue,f.type=S.type,e=S.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Z(ne,ne.current&1|2),t.child}e=e.sibling}f.tail!==null&&he()>Lr&&(t.flags|=128,i=!0,Or(f,!1),t.lanes=4194304)}else{if(!i)if(e=us(S),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Or(f,!0),f.tail===null&&f.tailMode==="hidden"&&!S.alternate&&!ie)return Ee(t),null}else 2*he()-f.renderingStartTime>Lr&&r!==1073741824&&(t.flags|=128,i=!0,Or(f,!1),t.lanes=4194304);f.isBackwards?(S.sibling=t.child,t.child=S):(r=f.last,r!==null?r.sibling=S:t.child=S,f.last=S)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=he(),t.sibling=null,r=ne.current,Z(ne,i?r&1|2:r&1),t):(Ee(t),null);case 22:case 23:return Go(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Oe&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Qd(e,t){switch(Do(t),t.tag){case 1:return Me(t.type)&&ss(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Er(),re(Pe),re(Le),Fo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ho(t),null;case 13:if(re(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ne),null;case 4:return Er(),null;case 10:return Mo(t.type._context),null;case 22:case 23:return Go(),null;case 24:return null;default:return null}}var Pi=!1,ke=!1,Jd=typeof WeakSet=="function"?WeakSet:Set,q=null;function ur(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){ce(e,t,i)}else r.current=null}function Gn(e,t,r){try{r()}catch(i){ce(e,t,i)}}var sa=!1;function Zd(e,t){if(Pn=es,e=pc(),xo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var l=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var S=0,s=-1,a=-1,u=0,y=0,p=e,v=null;t:for(;;){for(var E;p!==r||l!==0&&p.nodeType!==3||(s=S+l),p!==f||i!==0&&p.nodeType!==3||(a=S+i),p.nodeType===3&&(S+=p.nodeValue.length),(E=p.firstChild)!==null;)v=p,p=E;for(;;){if(p===e)break t;if(v===r&&++u===l&&(s=S),v===f&&++y===i&&(a=S),(E=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=E}r=s===-1||a===-1?null:{start:s,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mn={focusedElem:e,selectionRange:r},es=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var g=C.memoizedProps,n=C.memoizedState,c=t.stateNode,h=c.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ge(t.type,g),n);c.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var o=t.stateNode.containerInfo;o.nodeType===1?o.textContent="":o.nodeType===9&&o.documentElement&&o.removeChild(o.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(d){ce(t,t.return,d)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return C=sa,sa=!1,C}function qr(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var f=l.destroy;l.destroy=void 0,f!==void 0&&Gn(t,r,f)}l=l.next}while(l!==i)}}function Rs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function Yn(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function dh(e){var t=e.alternate;t!==null&&(e.alternate=null,dh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[st],delete t[oi],delete t[In],delete t[Od],delete t[Id])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fh(e){return e.tag===5||e.tag===3||e.tag===4}function na(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qn(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=is));else if(i!==4&&(e=e.child,e!==null))for(Qn(e,t,r),e=e.sibling;e!==null;)Qn(e,t,r),e=e.sibling}function Jn(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Jn(e,t,r),e=e.sibling;e!==null;)Jn(e,t,r),e=e.sibling}var me=null,Ye=!1;function mt(e,t,r){for(r=r.child;r!==null;)_h(e,t,r),r=r.sibling}function _h(e,t,r){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(ys,r)}catch{}switch(r.tag){case 5:ke||ur(r,t);case 6:var i=me,l=Ye;me=null,mt(e,t,r),me=i,Ye=l,me!==null&&(Ye?(e=me,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):me.removeChild(r.stateNode));break;case 18:me!==null&&(Ye?(e=me,r=r.stateNode,e.nodeType===8?Qs(e.parentNode,r):e.nodeType===1&&Qs(e,r),ti(e)):Qs(me,r.stateNode));break;case 4:i=me,l=Ye,me=r.stateNode.containerInfo,Ye=!0,mt(e,t,r),me=i,Ye=l;break;case 0:case 11:case 14:case 15:if(!ke&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var f=l,S=f.destroy;f=f.tag,S!==void 0&&(f&2||f&4)&&Gn(r,t,S),l=l.next}while(l!==i)}mt(e,t,r);break;case 1:if(!ke&&(ur(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(s){ce(r,t,s)}mt(e,t,r);break;case 21:mt(e,t,r);break;case 22:r.mode&1?(ke=(i=ke)||r.memoizedState!==null,mt(e,t,r),ke=i):mt(e,t,r);break;default:mt(e,t,r)}}function oa(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Jd),t.forEach(function(i){var l=cf.bind(null,e,i);r.has(i)||(r.add(i),i.then(l,l))})}}function Xe(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var l=r[i];try{var f=e,S=t,s=S;e:for(;s!==null;){switch(s.tag){case 5:me=s.stateNode,Ye=!1;break e;case 3:me=s.stateNode.containerInfo,Ye=!0;break e;case 4:me=s.stateNode.containerInfo,Ye=!0;break e}s=s.return}if(me===null)throw Error(U(160));_h(f,S,l),me=null,Ye=!1;var a=l.alternate;a!==null&&(a.return=null),l.return=null}catch(u){ce(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ph(t,e),t=t.sibling}function ph(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xe(t,e),rt(e),i&4){try{qr(3,e,e.return),Rs(3,e)}catch(g){ce(e,e.return,g)}try{qr(5,e,e.return)}catch(g){ce(e,e.return,g)}}break;case 1:Xe(t,e),rt(e),i&512&&r!==null&&ur(r,r.return);break;case 5:if(Xe(t,e),rt(e),i&512&&r!==null&&ur(r,r.return),e.flags&32){var l=e.stateNode;try{Qr(l,"")}catch(g){ce(e,e.return,g)}}if(i&4&&(l=e.stateNode,l!=null)){var f=e.memoizedProps,S=r!==null?r.memoizedProps:f,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&f.type==="radio"&&f.name!=null&&Ia(l,f),wn(s,S);var u=wn(s,f);for(S=0;S<a.length;S+=2){var y=a[S],p=a[S+1];y==="style"?za(l,p):y==="dangerouslySetInnerHTML"?Na(l,p):y==="children"?Qr(l,p):_o(l,y,p,u)}switch(s){case"input":gn(l,f);break;case"textarea":Ha(l,f);break;case"select":var v=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!f.multiple;var E=f.value;E!=null?fr(l,!!f.multiple,E,!1):v!==!!f.multiple&&(f.defaultValue!=null?fr(l,!!f.multiple,f.defaultValue,!0):fr(l,!!f.multiple,f.multiple?[]:"",!1))}l[oi]=f}catch(g){ce(e,e.return,g)}}break;case 6:if(Xe(t,e),rt(e),i&4){if(e.stateNode===null)throw Error(U(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(g){ce(e,e.return,g)}}break;case 3:if(Xe(t,e),rt(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{ti(t.containerInfo)}catch(g){ce(e,e.return,g)}break;case 4:Xe(t,e),rt(e);break;case 13:Xe(t,e),rt(e),l=e.child,l.flags&8192&&(f=l.memoizedState!==null,l.stateNode.isHidden=f,!f||l.alternate!==null&&l.alternate.memoizedState!==null||(qo=he())),i&4&&oa(e);break;case 22:if(y=r!==null&&r.memoizedState!==null,e.mode&1?(ke=(u=ke)||y,Xe(t,e),ke=u):Xe(t,e),rt(e),i&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!y&&e.mode&1)for(q=e,y=e.child;y!==null;){for(p=q=y;q!==null;){switch(v=q,E=v.child,v.tag){case 0:case 11:case 14:case 15:qr(4,v,v.return);break;case 1:ur(v,v.return);var C=v.stateNode;if(typeof C.componentWillUnmount=="function"){i=v,r=v.return;try{t=i,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(g){ce(i,r,g)}}break;case 5:ur(v,v.return);break;case 22:if(v.memoizedState!==null){aa(p);continue}}E!==null?(E.return=v,q=E):aa(p)}y=y.sibling}e:for(y=null,p=e;;){if(p.tag===5){if(y===null){y=p;try{l=p.stateNode,u?(f=l.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(s=p.stateNode,a=p.memoizedProps.style,S=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=Ua("display",S))}catch(g){ce(e,e.return,g)}}}else if(p.tag===6){if(y===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){ce(e,e.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;y===p&&(y=null),p=p.return}y===p&&(y=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Xe(t,e),rt(e),i&4&&oa(e);break;case 21:break;default:Xe(t,e),rt(e)}}function rt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(fh(r)){var i=r;break e}r=r.return}throw Error(U(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(Qr(l,""),i.flags&=-33);var f=na(e);Jn(e,f,l);break;case 3:case 4:var S=i.stateNode.containerInfo,s=na(e);Qn(e,s,S);break;default:throw Error(U(161))}}catch(a){ce(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ef(e,t,r){q=e,vh(e)}function vh(e,t,r){for(var i=(e.mode&1)!==0;q!==null;){var l=q,f=l.child;if(l.tag===22&&i){var S=l.memoizedState!==null||Pi;if(!S){var s=l.alternate,a=s!==null&&s.memoizedState!==null||ke;s=Pi;var u=ke;if(Pi=S,(ke=a)&&!u)for(q=l;q!==null;)S=q,a=S.child,S.tag===22&&S.memoizedState!==null?ca(l):a!==null?(a.return=S,q=a):ca(l);for(;f!==null;)q=f,vh(f),f=f.sibling;q=l,Pi=s,ke=u}la(e)}else l.subtreeFlags&8772&&f!==null?(f.return=l,q=f):la(e)}}function la(e){for(;q!==null;){var t=q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ke||Rs(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!ke)if(r===null)i.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:Ge(t.type,r.memoizedProps);i.componentDidUpdate(l,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&$l(t,f,i);break;case 3:var S=t.updateQueue;if(S!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$l(t,S,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var y=u.memoizedState;if(y!==null){var p=y.dehydrated;p!==null&&ti(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ke||t.flags&512&&Yn(t)}catch(v){ce(t,t.return,v)}}if(t===e){q=null;break}if(r=t.sibling,r!==null){r.return=t.return,q=r;break}q=t.return}}function aa(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,q=r;break}q=t.return}}function ca(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Rs(4,t)}catch(a){ce(t,r,a)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(a){ce(t,l,a)}}var f=t.return;try{Yn(t)}catch(a){ce(t,f,a)}break;case 5:var S=t.return;try{Yn(t)}catch(a){ce(t,S,a)}}}catch(a){ce(t,t.return,a)}if(t===e){q=null;break}var s=t.sibling;if(s!==null){s.return=t.return,q=s;break}q=t.return}}var tf=Math.ceil,_s=gt.ReactCurrentDispatcher,Ko=gt.ReactCurrentOwner,$e=gt.ReactCurrentBatchConfig,Q=0,ge=null,ue=null,Se=0,Oe=0,dr=It(0),fe=0,di=null,Gt=0,Ds=0,Vo=0,Xr=null,Te=null,qo=0,Lr=1/0,lt=null,ps=!1,Zn=null,Tt=null,Mi=!1,kt=null,vs=0,Gr=0,eo=null,Vi=-1,qi=0;function xe(){return Q&6?he():Vi!==-1?Vi:Vi=he()}function At(e){return e.mode&1?Q&2&&Se!==0?Se&-Se:Fd.transition!==null?(qi===0&&(qi=Za()),qi):(e=J,e!==0||(e=window.event,e=e===void 0?16:oc(e.type)),e):1}function et(e,t,r,i){if(50<Gr)throw Gr=0,eo=null,Error(U(185));_i(e,r,i),(!(Q&2)||e!==ge)&&(e===ge&&(!(Q&2)&&(Ds|=r),fe===4&&wt(e,Se)),Be(e,i),r===1&&Q===0&&!(t.mode&1)&&(Lr=he()+500,Ls&&Ht()))}function Be(e,t){var r=e.callbackNode;Fu(e,t);var i=Zi(e,e===ge?Se:0);if(i===0)r!==null&&ml(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&ml(r),t===1)e.tag===0?Hd(ha.bind(null,e)):Lc(ha.bind(null,e)),Md(function(){!(Q&6)&&Ht()}),r=null;else{switch(ec(i)){case 1:r=So;break;case 4:r=Qa;break;case 16:r=Ji;break;case 536870912:r=Ja;break;default:r=Ji}r=kh(r,gh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function gh(e,t){if(Vi=-1,qi=0,Q&6)throw Error(U(327));var r=e.callbackNode;if(mr()&&e.callbackNode!==r)return null;var i=Zi(e,e===ge?Se:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=gs(e,i);else{t=i;var l=Q;Q|=2;var f=Sh();(ge!==e||Se!==t)&&(lt=null,Lr=he()+500,$t(e,t));do try{nf();break}catch(s){mh(e,s)}while(1);Po(),_s.current=f,Q=l,ue!==null?t=0:(ge=null,Se=0,t=fe)}if(t!==0){if(t===2&&(l=xn(e),l!==0&&(i=l,t=to(e,l))),t===1)throw r=di,$t(e,0),wt(e,i),Be(e,he()),r;if(t===6)wt(e,i);else{if(l=e.current.alternate,!(i&30)&&!rf(l)&&(t=gs(e,i),t===2&&(f=xn(e),f!==0&&(i=f,t=to(e,f))),t===1))throw r=di,$t(e,0),wt(e,i),Be(e,he()),r;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(U(345));case 2:Nt(e,Te,lt);break;case 3:if(wt(e,i),(i&130023424)===i&&(t=qo+500-he(),10<t)){if(Zi(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){xe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=On(Nt.bind(null,e,Te,lt),t);break}Nt(e,Te,lt);break;case 4:if(wt(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var S=31-Ze(i);f=1<<S,S=t[S],S>l&&(l=S),i&=~f}if(i=l,i=he()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*tf(i/1960))-i,10<i){e.timeoutHandle=On(Nt.bind(null,e,Te,lt),i);break}Nt(e,Te,lt);break;case 5:Nt(e,Te,lt);break;default:throw Error(U(329))}}}return Be(e,he()),e.callbackNode===r?gh.bind(null,e):null}function to(e,t){var r=Xr;return e.current.memoizedState.isDehydrated&&($t(e,t).flags|=256),e=gs(e,t),e!==2&&(t=Te,Te=r,t!==null&&ro(t)),e}function ro(e){Te===null?Te=e:Te.push.apply(Te,e)}function rf(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var l=r[i],f=l.getSnapshot;l=l.value;try{if(!tt(f(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wt(e,t){for(t&=~Vo,t&=~Ds,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ze(t),i=1<<r;e[r]=-1,t&=~i}}function ha(e){if(Q&6)throw Error(U(327));mr();var t=Zi(e,0);if(!(t&1))return Be(e,he()),null;var r=gs(e,t);if(e.tag!==0&&r===2){var i=xn(e);i!==0&&(t=i,r=to(e,i))}if(r===1)throw r=di,$t(e,0),wt(e,t),Be(e,he()),r;if(r===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nt(e,Te,lt),Be(e,he()),null}function Xo(e,t){var r=Q;Q|=1;try{return e(t)}finally{Q=r,Q===0&&(Lr=he()+500,Ls&&Ht())}}function Yt(e){kt!==null&&kt.tag===0&&!(Q&6)&&mr();var t=Q;Q|=1;var r=$e.transition,i=J;try{if($e.transition=null,J=1,e)return e()}finally{J=i,$e.transition=r,Q=t,!(Q&6)&&Ht()}}function Go(){Oe=dr.current,re(dr)}function $t(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Pd(r)),ue!==null)for(r=ue.return;r!==null;){var i=r;switch(Do(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ss();break;case 3:Er(),re(Pe),re(Le),Fo();break;case 5:Ho(i);break;case 4:Er();break;case 13:re(ne);break;case 19:re(ne);break;case 10:Mo(i.type._context);break;case 22:case 23:Go()}r=r.return}if(ge=e,ue=e=Pt(e.current,null),Se=Oe=t,fe=0,di=null,Vo=Ds=Gt=0,Te=Xr=null,Wt!==null){for(t=0;t<Wt.length;t++)if(r=Wt[t],i=r.interleaved,i!==null){r.interleaved=null;var l=i.next,f=r.pending;if(f!==null){var S=f.next;f.next=l,i.next=S}r.pending=i}Wt=null}return e}function mh(e,t){do{var r=ue;try{if(Po(),ji.current=fs,ds){for(var i=oe.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}ds=!1}if(Xt=0,ve=de=oe=null,Vr=!1,ci=0,Ko.current=null,r===null||r.return===null){fe=1,di=t,ue=null;break}e:{var f=e,S=r.return,s=r,a=t;if(t=Se,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,y=s,p=y.tag;if(!(y.mode&1)&&(p===0||p===11||p===15)){var v=y.alternate;v?(y.updateQueue=v.updateQueue,y.memoizedState=v.memoizedState,y.lanes=v.lanes):(y.updateQueue=null,y.memoizedState=null)}var E=Ql(S);if(E!==null){E.flags&=-257,Jl(E,S,s,f,t),E.mode&1&&Yl(f,u,t),t=E,a=u;var C=t.updateQueue;if(C===null){var g=new Set;g.add(a),t.updateQueue=g}else C.add(a);break e}else{if(!(t&1)){Yl(f,u,t),Yo();break e}a=Error(U(426))}}else if(ie&&s.mode&1){var n=Ql(S);if(n!==null){!(n.flags&65536)&&(n.flags|=256),Jl(n,S,s,f,t),To(kr(a,s));break e}}f=a=kr(a,s),fe!==4&&(fe=2),Xr===null?Xr=[f]:Xr.push(f),f=S;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var c=th(f,a,t);jl(f,c);break e;case 1:s=a;var h=f.type,o=f.stateNode;if(!(f.flags&128)&&(typeof h.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Tt===null||!Tt.has(o)))){f.flags|=65536,t&=-t,f.lanes|=t;var d=rh(f,s,t);jl(f,d);break e}}f=f.return}while(f!==null)}Ch(r)}catch(m){t=m,ue===r&&r!==null&&(ue=r=r.return);continue}break}while(1)}function Sh(){var e=_s.current;return _s.current=fs,e===null?fs:e}function Yo(){(fe===0||fe===3||fe===2)&&(fe=4),ge===null||!(Gt&268435455)&&!(Ds&268435455)||wt(ge,Se)}function gs(e,t){var r=Q;Q|=2;var i=Sh();(ge!==e||Se!==t)&&(lt=null,$t(e,t));do try{sf();break}catch(l){mh(e,l)}while(1);if(Po(),Q=r,_s.current=i,ue!==null)throw Error(U(261));return ge=null,Se=0,fe}function sf(){for(;ue!==null;)yh(ue)}function nf(){for(;ue!==null&&!Du();)yh(ue)}function yh(e){var t=Eh(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?Ch(e):ue=t,Ko.current=null}function Ch(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Qd(r,t),r!==null){r.flags&=32767,ue=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,ue=null;return}}else if(r=Yd(r,t,Oe),r!==null){ue=r;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);fe===0&&(fe=5)}function Nt(e,t,r){var i=J,l=$e.transition;try{$e.transition=null,J=1,of(e,t,r,i)}finally{$e.transition=l,J=i}return null}function of(e,t,r,i){do mr();while(kt!==null);if(Q&6)throw Error(U(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(Nu(e,f),e===ge&&(ue=ge=null,Se=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Mi||(Mi=!0,kh(Ji,function(){return mr(),null})),f=(r.flags&15990)!==0,r.subtreeFlags&15990||f){f=$e.transition,$e.transition=null;var S=J;J=1;var s=Q;Q|=4,Ko.current=null,Zd(e,r),ph(r,e),Ld(Mn),es=!!Pn,Mn=Pn=null,e.current=r,ef(r),Tu(),Q=s,J=S,$e.transition=f}else e.current=r;if(Mi&&(Mi=!1,kt=e,vs=l),f=e.pendingLanes,f===0&&(Tt=null),Mu(r.stateNode),Be(e,he()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],i(l.value,{componentStack:l.stack,digest:l.digest});if(ps)throw ps=!1,e=Zn,Zn=null,e;return vs&1&&e.tag!==0&&mr(),f=e.pendingLanes,f&1?e===eo?Gr++:(Gr=0,eo=e):Gr=0,Ht(),null}function mr(){if(kt!==null){var e=ec(vs),t=$e.transition,r=J;try{if($e.transition=null,J=16>e?16:e,kt===null)var i=!1;else{if(e=kt,kt=null,vs=0,Q&6)throw Error(U(331));var l=Q;for(Q|=4,q=e.current;q!==null;){var f=q,S=f.child;if(q.flags&16){var s=f.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(q=u;q!==null;){var y=q;switch(y.tag){case 0:case 11:case 15:qr(8,y,f)}var p=y.child;if(p!==null)p.return=y,q=p;else for(;q!==null;){y=q;var v=y.sibling,E=y.return;if(dh(y),y===u){q=null;break}if(v!==null){v.return=E,q=v;break}q=E}}}var C=f.alternate;if(C!==null){var g=C.child;if(g!==null){C.child=null;do{var n=g.sibling;g.sibling=null,g=n}while(g!==null)}}q=f}}if(f.subtreeFlags&2064&&S!==null)S.return=f,q=S;else e:for(;q!==null;){if(f=q,f.flags&2048)switch(f.tag){case 0:case 11:case 15:qr(9,f,f.return)}var c=f.sibling;if(c!==null){c.return=f.return,q=c;break e}q=f.return}}var h=e.current;for(q=h;q!==null;){S=q;var o=S.child;if(S.subtreeFlags&2064&&o!==null)o.return=S,q=o;else e:for(S=h;q!==null;){if(s=q,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Rs(9,s)}}catch(m){ce(s,s.return,m)}if(s===S){q=null;break e}var d=s.sibling;if(d!==null){d.return=s.return,q=d;break e}q=s.return}}if(Q=l,Ht(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(ys,e)}catch{}i=!0}return i}finally{J=r,$e.transition=t}}return!1}function ua(e,t,r){t=kr(r,t),t=th(e,t,1),e=Dt(e,t,1),t=xe(),e!==null&&(_i(e,1,t),Be(e,t))}function ce(e,t,r){if(e.tag===3)ua(e,e,r);else for(;t!==null;){if(t.tag===3){ua(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Tt===null||!Tt.has(i))){e=kr(r,e),e=rh(t,e,1),t=Dt(t,e,1),e=xe(),t!==null&&(_i(t,1,e),Be(t,e));break}}t=t.return}}function lf(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=xe(),e.pingedLanes|=e.suspendedLanes&r,ge===e&&(Se&r)===r&&(fe===4||fe===3&&(Se&130023424)===Se&&500>he()-qo?$t(e,0):Vo|=r),Be(e,t)}function wh(e,t){t===0&&(e.mode&1?(t=Ei,Ei<<=1,!(Ei&130023424)&&(Ei=4194304)):t=1);var r=xe();e=pt(e,t),e!==null&&(_i(e,t,r),Be(e,r))}function af(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),wh(e,r)}function cf(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(U(314))}i!==null&&i.delete(t),wh(e,r)}var Eh;Eh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)Ae=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ae=!1,Gd(e,t,r);Ae=!!(e.flags&131072)}else Ae=!1,ie&&t.flags&1048576&&bc(t,ls,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ki(e,t),e=t.pendingProps;var l=yr(t,Le.current);gr(t,r),l=Uo(null,t,i,e,l,r);var f=zo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Me(i)?(f=!0,ns(t)):f=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Oo(t),l.updater=bs,t.stateNode=l,l._reactInternals=t,Wn(t,i,e,r),t=Kn(null,t,i,!0,f,r)):(t.tag=0,ie&&f&&Ro(t),be(null,t,l,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Ki(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=uf(i),e=Ge(i,e),l){case 0:t=$n(null,t,i,e,r);break e;case 1:t=ta(null,t,i,e,r);break e;case 11:t=Zl(null,t,i,e,r);break e;case 14:t=ea(null,t,i,Ge(i.type,e),r);break e}throw Error(U(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ge(i,l),$n(e,t,i,l,r);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ge(i,l),ta(e,t,i,l,r);case 3:e:{if(oh(t),e===null)throw Error(U(387));i=t.pendingProps,f=t.memoizedState,l=f.element,Tc(e,t),hs(t,i,null,r);var S=t.memoizedState;if(i=S.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){l=kr(Error(U(423)),t),t=ra(e,t,i,r,l);break e}else if(i!==l){l=kr(Error(U(424)),t),t=ra(e,t,i,r,l);break e}else for(Ie=Rt(t.stateNode.containerInfo.firstChild),He=t,ie=!0,Je=null,r=Bc(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Cr(),i===l){t=vt(e,t,r);break e}be(e,t,i,r)}t=t.child}return t;case 5:return Oc(t),e===null&&Nn(t),i=t.type,l=t.pendingProps,f=e!==null?e.memoizedProps:null,S=l.children,Bn(i,l)?S=null:f!==null&&Bn(i,f)&&(t.flags|=32),nh(e,t),be(e,t,S,r),t.child;case 6:return e===null&&Nn(t),null;case 13:return lh(e,t,r);case 4:return Io(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=wr(t,null,i,r):be(e,t,i,r),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ge(i,l),Zl(e,t,i,l,r);case 7:return be(e,t,t.pendingProps,r),t.child;case 8:return be(e,t,t.pendingProps.children,r),t.child;case 12:return be(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,f=t.memoizedProps,S=l.value,Z(as,i._currentValue),i._currentValue=S,f!==null)if(tt(f.value,S)){if(f.children===l.children&&!Pe.current){t=vt(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var s=f.dependencies;if(s!==null){S=f.child;for(var a=s.firstContext;a!==null;){if(a.context===i){if(f.tag===1){a=ut(-1,r&-r),a.tag=2;var u=f.updateQueue;if(u!==null){u=u.shared;var y=u.pending;y===null?a.next=a:(a.next=y.next,y.next=a),u.pending=a}}f.lanes|=r,a=f.alternate,a!==null&&(a.lanes|=r),Un(f.return,r,t),s.lanes|=r;break}a=a.next}}else if(f.tag===10)S=f.type===t.type?null:f.child;else if(f.tag===18){if(S=f.return,S===null)throw Error(U(341));S.lanes|=r,s=S.alternate,s!==null&&(s.lanes|=r),Un(S,r,t),S=f.sibling}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===t){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}be(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,gr(t,r),l=Ke(l),i=i(l),t.flags|=1,be(e,t,i,r),t.child;case 14:return i=t.type,l=Ge(i,t.pendingProps),l=Ge(i.type,l),ea(e,t,i,l,r);case 15:return ih(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ge(i,l),Ki(e,t),t.tag=1,Me(i)?(e=!0,ns(t)):e=!1,gr(t,r),Pc(t,i,l),Wn(t,i,l,r),Kn(null,t,i,!0,e,r);case 19:return ah(e,t,r);case 22:return sh(e,t,r)}throw Error(U(156,t.tag))};function kh(e,t){return Ya(e,t)}function hf(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function je(e,t,r,i){return new hf(e,t,r,i)}function Qo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uf(e){if(typeof e=="function")return Qo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vo)return 11;if(e===go)return 14}return 2}function Pt(e,t){var r=e.alternate;return r===null?(r=je(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Xi(e,t,r,i,l,f){var S=2;if(i=e,typeof e=="function")Qo(e)&&(S=1);else if(typeof e=="string")S=5;else e:switch(e){case rr:return Kt(r.children,l,f,t);case po:S=8,l|=8;break;case dn:return e=je(12,r,t,l|2),e.elementType=dn,e.lanes=f,e;case fn:return e=je(13,r,t,l),e.elementType=fn,e.lanes=f,e;case _n:return e=je(19,r,t,l),e.elementType=_n,e.lanes=f,e;case Ma:return Ts(r,l,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Aa:S=10;break e;case Pa:S=9;break e;case vo:S=11;break e;case go:S=14;break e;case St:S=16,i=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=je(S,r,t,l),t.elementType=e,t.type=i,t.lanes=f,t}function Kt(e,t,r,i){return e=je(7,e,i,t),e.lanes=r,e}function Ts(e,t,r,i){return e=je(22,e,i,t),e.elementType=Ma,e.lanes=r,e.stateNode={isHidden:!1},e}function on(e,t,r){return e=je(6,e,null,t),e.lanes=r,e}function ln(e,t,r){return t=je(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function df(e,t,r,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Us(0),this.expirationTimes=Us(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Jo(e,t,r,i,l,f,S,s,a){return e=new df(e,t,r,s,a),t===1?(t=1,f===!0&&(t|=8)):t=0,f=je(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(f),e}function ff(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tr,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Lh(e){if(!e)return Bt;e=e._reactInternals;e:{if(Jt(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Me(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var r=e.type;if(Me(r))return kc(e,r,t)}return t}function bh(e,t,r,i,l,f,S,s,a){return e=Jo(r,i,!0,e,l,f,S,s,a),e.context=Lh(null),r=e.current,i=xe(),l=At(r),f=ut(i,l),f.callback=t??null,Dt(r,f,l),e.current.lanes=l,_i(e,l,i),Be(e,i),e}function As(e,t,r,i){var l=t.current,f=xe(),S=At(l);return r=Lh(r),t.context===null?t.context=r:t.pendingContext=r,t=ut(f,S),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Dt(l,t,S),e!==null&&(et(e,l,S,f),Wi(e,l,S)),S}function ms(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function da(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Zo(e,t){da(e,t),(e=e.alternate)&&da(e,t)}function _f(){return null}var xh=typeof reportError=="function"?reportError:function(e){console.error(e)};function el(e){this._internalRoot=e}Ps.prototype.render=el.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));As(e,t,null,null)};Ps.prototype.unmount=el.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yt(function(){As(null,e,null,null)}),t[_t]=null}};function Ps(e){this._internalRoot=e}Ps.prototype.unstable_scheduleHydration=function(e){if(e){var t=ic();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ct.length&&t!==0&&t<Ct[r].priority;r++);Ct.splice(r,0,e),r===0&&nc(e)}};function tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ms(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fa(){}function pf(e,t,r,i,l){if(l){if(typeof i=="function"){var f=i;i=function(){var u=ms(S);f.call(u)}}var S=bh(t,i,e,0,null,!1,!1,"",fa);return e._reactRootContainer=S,e[_t]=S.current,si(e.nodeType===8?e.parentNode:e),Yt(),S}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var s=i;i=function(){var u=ms(a);s.call(u)}}var a=Jo(e,0,!1,null,null,!1,!1,"",fa);return e._reactRootContainer=a,e[_t]=a.current,si(e.nodeType===8?e.parentNode:e),Yt(function(){As(t,a,r,i)}),a}function Bs(e,t,r,i,l){var f=r._reactRootContainer;if(f){var S=f;if(typeof l=="function"){var s=l;l=function(){var a=ms(S);s.call(a)}}As(t,S,e,l)}else S=pf(r,t,e,l,i);return ms(S)}tc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Nr(t.pendingLanes);r!==0&&(yo(t,r|1),Be(t,he()),!(Q&6)&&(Lr=he()+500,Ht()))}break;case 13:Yt(function(){var i=pt(e,1);if(i!==null){var l=xe();et(i,e,1,l)}}),Zo(e,1)}};Co=function(e){if(e.tag===13){var t=pt(e,134217728);if(t!==null){var r=xe();et(t,e,134217728,r)}Zo(e,134217728)}};rc=function(e){if(e.tag===13){var t=At(e),r=pt(e,t);if(r!==null){var i=xe();et(r,e,t,i)}Zo(e,t)}};ic=function(){return J};sc=function(e,t){var r=J;try{return J=e,t()}finally{J=r}};kn=function(e,t,r){switch(t){case"input":if(gn(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var l=ks(i);if(!l)throw Error(U(90));Oa(i),gn(i,l)}}}break;case"textarea":Ha(e,r);break;case"select":t=r.value,t!=null&&fr(e,!!r.multiple,t,!1)}};$a=Xo;Ka=Yt;var vf={usingClientEntryPoint:!1,Events:[vi,or,ks,Wa,ja,Xo]},Ir={findFiberByHostInstance:zt,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gf={bundleType:Ir.bundleType,version:Ir.version,rendererPackageName:Ir.rendererPackageName,rendererConfig:Ir.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xa(e),e===null?null:e.stateNode},findFiberByHostInstance:Ir.findFiberByHostInstance||_f,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bi.isDisabled&&Bi.supportsFiber)try{ys=Bi.inject(gf),nt=Bi}catch{}}Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vf;Ne.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tl(t))throw Error(U(200));return ff(e,t,null,r)};Ne.createRoot=function(e,t){if(!tl(e))throw Error(U(299));var r=!1,i="",l=xh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Jo(e,1,!1,null,null,r,!1,i,l),e[_t]=t.current,si(e.nodeType===8?e.parentNode:e),new el(t)};Ne.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Xa(t),e=e===null?null:e.stateNode,e};Ne.flushSync=function(e){return Yt(e)};Ne.hydrate=function(e,t,r){if(!Ms(t))throw Error(U(200));return Bs(null,e,t,!0,r)};Ne.hydrateRoot=function(e,t,r){if(!tl(e))throw Error(U(405));var i=r!=null&&r.hydratedSources||null,l=!1,f="",S=xh;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(S=r.onRecoverableError)),t=bh(t,null,e,1,r??null,l,!1,f,S),e[_t]=t.current,si(e),i)for(e=0;e<i.length;e++)r=i[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new Ps(t)};Ne.render=function(e,t,r){if(!Ms(t))throw Error(U(200));return Bs(null,e,t,!1,r)};Ne.unmountComponentAtNode=function(e){if(!Ms(e))throw Error(U(40));return e._reactRootContainer?(Yt(function(){Bs(null,null,e,!1,function(){e._reactRootContainer=null,e[_t]=null})}),!0):!1};Ne.unstable_batchedUpdates=Xo;Ne.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Ms(r))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Bs(e,t,r,!1,i)};Ne.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=Ne})(fu);var _a=cn;an.createRoot=_a.createRoot,an.hydrateRoot=_a.hydrateRoot;function Rh(e){const t={d:{}};for(const r of Object.keys(e)){const i=e[r];if("file"in i){const f=i.file.contents,S=typeof f=="string"?f:mf(f),s=typeof f=="string"?{}:{b:!0};t.d[r]={f:{c:S,...s}};continue}const l=Rh(i.directory);t.d[r]=l}return t}function mf(e){let t="";for(const r of e)t+=String.fromCharCode(r);return t}var Sf=Object.defineProperty,yf=(e,t)=>{for(var r in t)Sf(e,r,{get:t[r],enumerable:!0})},dt={};yf(dt,{createEndpoint:()=>Dh,expose:()=>sl,proxy:()=>Ih,proxyMarker:()=>rl,releaseProxy:()=>Th,transfer:()=>Oh,transferHandlers:()=>il,windowEndpoint:()=>Lf,wrap:()=>Mh});var rl=Symbol("Comlink.proxy"),Dh=Symbol("Comlink.endpoint"),Th=Symbol("Comlink.releaseProxy"),io=Symbol("Comlink.thrown"),Ah=e=>typeof e=="object"&&e!==null||typeof e=="function",Cf={canHandle:e=>Ah(e)&&e[rl],serialize(e){const{port1:t,port2:r}=new MessageChannel;return sl(e,t),[r,[r]]},deserialize(e){return e.start(),Mh(e)}},wf={canHandle:e=>Ah(e)&&io in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},il=new Map([["proxy",Cf],["throw",wf]]);function sl(e,t=self){t.addEventListener("message",function r(i){if(!i||!i.data)return;const{id:l,type:f,path:S}=Object.assign({path:[]},i.data),s=(i.data.argumentList||[]).map(Ut);let a;try{const u=S.slice(0,-1).reduce((p,v)=>p[v],e),y=S.reduce((p,v)=>p[v],e);switch(f){case 0:a=y;break;case 1:u[S.slice(-1)[0]]=Ut(i.data.value),a=!0;break;case 2:a=y.apply(u,s);break;case 3:{const p=new y(...s);a=Ih(p)}break;case 4:{const{port1:p,port2:v}=new MessageChannel;sl(e,v),a=Oh(p,[p])}break;case 5:a=void 0;break}}catch(u){a={value:u,[io]:0}}Promise.resolve(a).catch(u=>({value:u,[io]:0})).then(u=>{const[y,p]=nl(u);t.postMessage(Object.assign(Object.assign({},y),{id:l}),p),f===5&&(t.removeEventListener("message",r),Ph(t))})}),t.start&&t.start()}function Ef(e){return e.constructor.name==="MessagePort"}function Ph(e){Ef(e)&&e.close()}function Mh(e,t){return so(e,[],t)}function Oi(e){if(e)throw new Error("Proxy has been released and is not useable")}function so(e,t=[],r=function(){}){let i=!1;const l=new Proxy(r,{get(f,S){if(Oi(i),S===Th)return()=>er(e,{type:5,path:t.map(s=>s.toString())}).then(()=>{Ph(e),i=!0});if(S==="then"){if(t.length===0)return{then:()=>l};const s=er(e,{type:0,path:t.map(a=>a.toString())}).then(Ut);return s.then.bind(s)}return so(e,[...t,S])},set(f,S,s){Oi(i);const[a,u]=nl(s);return er(e,{type:1,path:[...t,S].map(y=>y.toString()),value:a},u).then(Ut)},apply(f,S,s){Oi(i);const a=t[t.length-1];if(a===Dh)return er(e,{type:4}).then(Ut);if(a==="bind")return so(e,t.slice(0,-1));const[u,y]=pa(s);return er(e,{type:2,path:t.map(p=>p.toString()),argumentList:u},y).then(Ut)},construct(f,S){Oi(i);const[s,a]=pa(S);return er(e,{type:3,path:t.map(u=>u.toString()),argumentList:s},a).then(Ut)}});return l}function kf(e){return Array.prototype.concat.apply([],e)}function pa(e){const t=e.map(nl);return[t.map(r=>r[0]),kf(t.map(r=>r[1]))]}var Bh=new WeakMap;function Oh(e,t){return Bh.set(e,t),e}function Ih(e){return Object.assign(e,{[rl]:!0})}function Lf(e,t=self,r="*"){return{postMessage:(i,l)=>e.postMessage(i,r,l),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function nl(e){for(const[t,r]of il)if(r.canHandle(e)){const[i,l]=r.serialize(e);return[{type:3,name:t,value:i},l]}return[{type:0,value:e},Bh.get(e)||[]]}function Ut(e){switch(e.type){case 3:return il.get(e.name).deserialize(e.value);case 0:return e.value}}function er(e,t,r){return new Promise(i=>{const l=bf();e.addEventListener("message",function f(S){!S.data||!S.data.id||S.data.id!==l||(e.removeEventListener("message",f),i(S.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:l},t),r)})}function bf(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const xf="https://stackblitz.com/headless";let Ii=null,va=!1,ga=!1;const Rf=new TextDecoder,Df=new TextEncoder;class Hh{constructor(t,r,i,l){qe(this,"_instance");qe(this,"_runtimeInfo");qe(this,"_iframe");qe(this,"fs");this._instance=t,this._runtimeInfo=i,this._iframe=l,this.fs=new Bf(r)}async spawn(t,r,i){let l=[];Array.isArray(r)?l=r:i=r;let f=new ReadableStream,S;(i==null?void 0:i.output)!==!1&&(f=new ReadableStream({start(u){S=y=>u.enqueue(y)}}));const s=Hf(If(S)),a=await this._instance.run({command:t,args:l,env:i==null?void 0:i.env,terminal:i==null?void 0:i.terminal},void 0,void 0,s);return new Mf(a,f)}on(t,r){let i=!1,l=()=>{};const f=(...S)=>{i||r(...S)};return this._instance.on(t,dt.proxy(f)).then(S=>{l=S,i&&l()}),()=>{i=!0,l()}}mount(t,r){const i=Df.encode(JSON.stringify(Rh(t)));return this._instance.loadFiles(dt.transfer(i,[i.buffer]),{mountPoints:r==null?void 0:r.mountPoint})}get path(){return this._runtimeInfo.path}get workdir(){return this._runtimeInfo.cwd}teardown(){if(ga)throw new Error("WebContainer already torn down");ga=!0,this.fs._teardown(),this._instance.teardown(),this._instance[dt.releaseProxy](),this._iframe.remove()}static async boot(t={}){const{workdirName:r}=t;if(r!=null&&r.includes("/")||r===".."||r===".")throw new Error("workdirName should be a valid folder name");for(;Ii;)await Ii;if(va)throw new Error("WebContainer already booted");const i=Of(t);Ii=i.catch(()=>{});try{const l=await i;return va=!0,l}finally{Ii=null}}}const Tf=1,Af=2;class Pf{constructor(t,r){qe(this,"name");qe(this,"_type");this.name=t,this._type=r}isFile(){return this._type===Tf}isDirectory(){return this._type===Af}}class Mf{constructor(t,r){qe(this,"_process");qe(this,"output");qe(this,"input");this._process=t,this.output=r,this.input=new WritableStream({write:i=>{this._process.write(i).catch(()=>{})}})}get exit(){return this._process.onExit}kill(){this._process.kill()}resize(t){this._process.resize(t)}}class Bf{constructor(t){qe(this,"_fs");this._fs=t}rm(...t){return this._fs.rm(...t)}async readFile(t,r){return await this._fs.readFile(t,r)}async writeFile(t,r,i){if(r instanceof Uint8Array){const l=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength);r=dt.transfer(new Uint8Array(l),[l])}await this._fs.writeFile(t,r,i)}async readdir(t,r){const i=await this._fs.readdir(t,r);return Nf(i)||Uf(i)?i:i.map(f=>new Pf(f.name,f["Symbol(type)"]))}async mkdir(t,r){return await this._fs.mkdir(t,r)}_teardown(){this._fs[dt.releaseProxy]()}}async function Of(e){const{iframe:t,serverPromise:r}=Ff(e),i=await r,l=await i.build({host:window.location.host,version:"1.1.3",workdirName:e.workdirName}),f=await l.fs(),S=await l.runtimeInfo();return i[dt.releaseProxy](),new Hh(l,f,S,t)}function If(e){if(e!=null)return t=>{t instanceof Uint8Array&&e(Rf.decode(t))}}function Hf(e){if(e!=null)return dt.proxy(e)}function Ff(e){const t=document.createElement("iframe");t.style.display="none",t.setAttribute("allow","cross-origin-isolated");const r=zf();r.searchParams.set("version","1.1.3"),e.coep&&r.searchParams.set("coep",e.coep),t.src=r.toString();const{origin:i}=r,l=new Promise(f=>{const S=s=>{if(s.origin!==i)return;const{data:a}=s;if(a.type==="init"){f(dt.wrap(s.ports[0]));return}if(a.type==="warning"){console[a.level].call(console,a.message);return}};window.addEventListener("message",S)});return document.body.insertBefore(t,null),{iframe:t,serverPromise:l}}function Nf(e){return typeof e[0]=="string"}function Uf(e){return e[0]instanceof Uint8Array}function zf(){return new URL(window.WEBCONTAINER_API_IFRAME_URL??xf)}var no={},Wf={get exports(){return no},set exports(e){no=e}};(function(e,t){(function(r,i){e.exports=i()})(self,function(){return(()=>{var r={4567:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AccessibilityManager=void 0;const u=a(9042),y=a(6114),p=a(9924),v=a(3656),E=a(844),C=a(5596),g=a(9631);class n extends E.Disposable{constructor(h,o){super(),this._terminal=h,this._renderService=o,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityTreeRoot=document.createElement("div"),this._accessibilityTreeRoot.classList.add("xterm-accessibility"),this._accessibilityTreeRoot.tabIndex=0,this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let d=0;d<this._terminal.rows;d++)this._rowElements[d]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[d]);if(this._topBoundaryFocusListener=d=>this._handleBoundaryFocus(d,0),this._bottomBoundaryFocusListener=d=>this._handleBoundaryFocus(d,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityTreeRoot.appendChild(this._rowContainer),this._renderRowsDebouncer=new p.TimeBasedDebouncer(this._renderRows.bind(this)),this._refreshRows(),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityTreeRoot.appendChild(this._liveRegion),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityTreeRoot),this.register(this._renderRowsDebouncer),this.register(this._terminal.onResize(d=>this._handleResize(d.rows))),this.register(this._terminal.onRender(d=>this._refreshRows(d.start,d.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(d=>this._handleChar(d))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(d=>this._handleTab(d))),this.register(this._terminal.onKey(d=>this._handleKey(d.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new C.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,v.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this.register((0,E.toDisposable)(()=>{(0,g.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0}))}_handleBoundaryFocus(h,o){const d=h.target,m=this._rowElements[o===0?1:this._rowElements.length-2];if(d.getAttribute("aria-posinset")===(o===0?"1":`${this._terminal.buffer.lines.length}`)||h.relatedTarget!==m)return;let w,L;if(o===0?(w=d,L=this._rowElements.pop(),this._rowContainer.removeChild(L)):(w=this._rowElements.shift(),L=d,this._rowContainer.removeChild(w)),w.removeEventListener("focus",this._topBoundaryFocusListener),L.removeEventListener("focus",this._bottomBoundaryFocusListener),o===0){const _=this._createAccessibilityTreeNode();this._rowElements.unshift(_),this._rowContainer.insertAdjacentElement("afterbegin",_)}else{const _=this._createAccessibilityTreeNode();this._rowElements.push(_),this._rowContainer.appendChild(_)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(o===0?-1:1),this._rowElements[o===0?1:this._rowElements.length-2].focus(),h.preventDefault(),h.stopImmediatePropagation()}_handleResize(h){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let o=this._rowContainer.children.length;o<this._terminal.rows;o++)this._rowElements[o]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[o]);for(;this._rowElements.length>h;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const h=document.createElement("div");return h.setAttribute("role","listitem"),h.tabIndex=-1,this._refreshRowDimensions(h),h}_handleTab(h){for(let o=0;o<h;o++)this._handleChar(" ")}_handleChar(h){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==h&&(this._charsToAnnounce+=h):this._charsToAnnounce+=h,h===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=u.tooMuchOutput)),y.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityTreeRoot.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,y.isMac&&(0,g.removeElementFromParent)(this._liveRegion)}_handleKey(h){this._clearLiveRegion(),/\p{Control}/u.test(h)||this._charsToConsume.push(h)}_refreshRows(h,o){this._renderRowsDebouncer.refresh(h,o,this._terminal.rows)}_renderRows(h,o){const d=this._terminal.buffer,m=d.lines.length.toString();for(let w=h;w<=o;w++){const L=d.translateBufferLineToString(d.ydisp+w,!0),_=(d.ydisp+w+1).toString(),k=this._rowElements[w];k&&(L.length===0?k.innerText=" ":k.textContent=L,k.setAttribute("aria-posinset",_),k.setAttribute("aria-setsize",m))}this._announceCharacters()}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityTreeRoot.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let h=0;h<this._terminal.rows;h++)this._refreshRowDimensions(this._rowElements[h])}}_refreshRowDimensions(h){h.style.height=`${this._renderService.dimensions.css.cell.height}px`}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}}s.AccessibilityManager=n},3614:(S,s)=>{function a(v){return v.replace(/\r?\n/g,"\r")}function u(v,E){return E?"\x1B[200~"+v+"\x1B[201~":v}function y(v,E,C){v=u(v=a(v),C.decPrivateModes.bracketedPasteMode),C.triggerDataEvent(v,!0),E.value=""}function p(v,E,C){const g=C.getBoundingClientRect(),n=v.clientX-g.left-10,c=v.clientY-g.top-10;E.style.width="20px",E.style.height="20px",E.style.left=`${n}px`,E.style.top=`${c}px`,E.style.zIndex="1000",E.focus()}Object.defineProperty(s,"__esModule",{value:!0}),s.rightClickHandler=s.moveTextAreaUnderMouseCursor=s.paste=s.handlePasteEvent=s.copyHandler=s.bracketTextForPaste=s.prepareTextForTerminal=void 0,s.prepareTextForTerminal=a,s.bracketTextForPaste=u,s.copyHandler=function(v,E){v.clipboardData&&v.clipboardData.setData("text/plain",E.selectionText),v.preventDefault()},s.handlePasteEvent=function(v,E,C){v.stopPropagation(),v.clipboardData&&y(v.clipboardData.getData("text/plain"),E,C)},s.paste=y,s.moveTextAreaUnderMouseCursor=p,s.rightClickHandler=function(v,E,C,g,n){p(v,E,C),n&&g.rightClickSelect(v),E.value=g.selectionText,E.select()}},7239:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorContrastCache=void 0;const u=a(1505);s.ColorContrastCache=class{constructor(){this._color=new u.TwoKeyMap,this._css=new u.TwoKeyMap}setCss(y,p,v){this._css.set(y,p,v)}getCss(y,p){return this._css.get(y,p)}setColor(y,p,v){this._color.set(y,p,v)}getColor(y,p){return this._color.get(y,p)}clear(){this._color.clear(),this._css.clear()}}},9631:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeElementFromParent=void 0,s.removeElementFromParent=function(...a){var u;for(const y of a)(u=y==null?void 0:y.parentElement)===null||u===void 0||u.removeChild(y)}},3656:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addDisposableDomListener=void 0,s.addDisposableDomListener=function(a,u,y,p){a.addEventListener(u,y,p);let v=!1;return{dispose:()=>{v||(v=!0,a.removeEventListener(u,y,p))}}}},6465:function(S,s,a){var u=this&&this.__decorate||function(n,c,h,o){var d,m=arguments.length,w=m<3?c:o===null?o=Object.getOwnPropertyDescriptor(c,h):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(n,c,h,o);else for(var L=n.length-1;L>=0;L--)(d=n[L])&&(w=(m<3?d(w):m>3?d(c,h,w):d(c,h))||w);return m>3&&w&&Object.defineProperty(c,h,w),w},y=this&&this.__param||function(n,c){return function(h,o){c(h,o,n)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Linkifier2=void 0;const p=a(2585),v=a(8460),E=a(844),C=a(3656);let g=class extends E.Disposable{constructor(n){super(),this._bufferService=n,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._activeLine=-1,this._onShowLinkUnderline=this.register(new v.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new v.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,E.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,E.toDisposable)(()=>{this._lastMouseEvent=void 0}))}get currentLink(){return this._currentLink}registerLinkProvider(n){return this._linkProviders.push(n),{dispose:()=>{const c=this._linkProviders.indexOf(n);c!==-1&&this._linkProviders.splice(c,1)}}}attachToDom(n,c,h){this._element=n,this._mouseService=c,this._renderService=h,this.register((0,C.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,C.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,C.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,C.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(n){if(this._lastMouseEvent=n,!this._element||!this._mouseService)return;const c=this._positionFromMouseEvent(n,this._element,this._mouseService);if(!c)return;this._isMouseOut=!1;const h=n.composedPath();for(let o=0;o<h.length;o++){const d=h[o];if(d.classList.contains("xterm"))break;if(d.classList.contains("xterm-hover"))return}this._lastBufferCell&&c.x===this._lastBufferCell.x&&c.y===this._lastBufferCell.y||(this._handleHover(c),this._lastBufferCell=c)}_handleHover(n){if(this._activeLine!==n.y)return this._clearCurrentLink(),void this._askForLink(n,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,n)||(this._clearCurrentLink(),this._askForLink(n,!0))}_askForLink(n,c){var h,o;this._activeProviderReplies&&c||((h=this._activeProviderReplies)===null||h===void 0||h.forEach(m=>{m==null||m.forEach(w=>{w.link.dispose&&w.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=n.y);let d=!1;for(const[m,w]of this._linkProviders.entries())c?!((o=this._activeProviderReplies)===null||o===void 0)&&o.get(m)&&(d=this._checkLinkProviderResult(m,n,d)):w.provideLinks(n.y,L=>{var _,k;if(this._isMouseOut)return;const x=L==null?void 0:L.map(A=>({link:A}));(_=this._activeProviderReplies)===null||_===void 0||_.set(m,x),d=this._checkLinkProviderResult(m,n,d),((k=this._activeProviderReplies)===null||k===void 0?void 0:k.size)===this._linkProviders.length&&this._removeIntersectingLinks(n.y,this._activeProviderReplies)})}_removeIntersectingLinks(n,c){const h=new Set;for(let o=0;o<c.size;o++){const d=c.get(o);if(d)for(let m=0;m<d.length;m++){const w=d[m],L=w.link.range.start.y<n?0:w.link.range.start.x,_=w.link.range.end.y>n?this._bufferService.cols:w.link.range.end.x;for(let k=L;k<=_;k++){if(h.has(k)){d.splice(m--,1);break}h.add(k)}}}}_checkLinkProviderResult(n,c,h){var o;if(!this._activeProviderReplies)return h;const d=this._activeProviderReplies.get(n);let m=!1;for(let w=0;w<n;w++)this._activeProviderReplies.has(w)&&!this._activeProviderReplies.get(w)||(m=!0);if(!m&&d){const w=d.find(L=>this._linkAtPosition(L.link,c));w&&(h=!0,this._handleNewLink(w))}if(this._activeProviderReplies.size===this._linkProviders.length&&!h)for(let w=0;w<this._activeProviderReplies.size;w++){const L=(o=this._activeProviderReplies.get(w))===null||o===void 0?void 0:o.find(_=>this._linkAtPosition(_.link,c));if(L){h=!0,this._handleNewLink(L);break}}return h}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(n){if(!this._element||!this._mouseService||!this._currentLink)return;const c=this._positionFromMouseEvent(n,this._element,this._mouseService);c&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,c)&&this._currentLink.link.activate(n,this._currentLink.link.text)}_clearCurrentLink(n,c){this._element&&this._currentLink&&this._lastMouseEvent&&(!n||!c||this._currentLink.link.range.start.y>=n&&this._currentLink.link.range.end.y<=c)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,E.disposeArray)(this._linkCacheDisposables))}_handleNewLink(n){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const c=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);c&&this._linkAtPosition(n.link,c)&&(this._currentLink=n,this._currentLink.state={decorations:{underline:n.link.decorations===void 0||n.link.decorations.underline,pointerCursor:n.link.decorations===void 0||n.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,n.link,this._lastMouseEvent),n.link.decorations={},Object.defineProperties(n.link.decorations,{pointerCursor:{get:()=>{var h,o;return(o=(h=this._currentLink)===null||h===void 0?void 0:h.state)===null||o===void 0?void 0:o.decorations.pointerCursor},set:h=>{var o,d;!((o=this._currentLink)===null||o===void 0)&&o.state&&this._currentLink.state.decorations.pointerCursor!==h&&(this._currentLink.state.decorations.pointerCursor=h,this._currentLink.state.isHovered&&((d=this._element)===null||d===void 0||d.classList.toggle("xterm-cursor-pointer",h)))}},underline:{get:()=>{var h,o;return(o=(h=this._currentLink)===null||h===void 0?void 0:h.state)===null||o===void 0?void 0:o.decorations.underline},set:h=>{var o,d,m;!((o=this._currentLink)===null||o===void 0)&&o.state&&((m=(d=this._currentLink)===null||d===void 0?void 0:d.state)===null||m===void 0?void 0:m.decorations.underline)!==h&&(this._currentLink.state.decorations.underline=h,this._currentLink.state.isHovered&&this._fireUnderlineEvent(n.link,h))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(h=>{const o=h.start===0?0:h.start+1+this._bufferService.buffer.ydisp,d=this._currentLink?this._lastMouseEvent:void 0;if(this._clearCurrentLink(o,h.end+1+this._bufferService.buffer.ydisp),d&&this._element){const m=this._positionFromMouseEvent(d,this._element,this._mouseService);m&&this._askForLink(m,!1)}})))}_linkHover(n,c,h){var o;!((o=this._currentLink)===null||o===void 0)&&o.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(c,!0),this._currentLink.state.decorations.pointerCursor&&n.classList.add("xterm-cursor-pointer")),c.hover&&c.hover(h,c.text)}_fireUnderlineEvent(n,c){const h=n.range,o=this._bufferService.buffer.ydisp,d=this._createLinkUnderlineEvent(h.start.x-1,h.start.y-o-1,h.end.x,h.end.y-o-1,void 0);(c?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(d)}_linkLeave(n,c,h){var o;!((o=this._currentLink)===null||o===void 0)&&o.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(c,!1),this._currentLink.state.decorations.pointerCursor&&n.classList.remove("xterm-cursor-pointer")),c.leave&&c.leave(h,c.text)}_linkAtPosition(n,c){const h=n.range.start.y*this._bufferService.cols+n.range.start.x,o=n.range.end.y*this._bufferService.cols+n.range.end.x,d=c.y*this._bufferService.cols+c.x;return h<=d&&d<=o}_positionFromMouseEvent(n,c,h){const o=h.getCoords(n,c,this._bufferService.cols,this._bufferService.rows);if(o)return{x:o[0],y:o[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(n,c,h,o,d){return{x1:n,y1:c,x2:h,y2:o,cols:this._bufferService.cols,fg:d}}};g=u([y(0,p.IBufferService)],g),s.Linkifier2=g},9042:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.tooMuchOutput=s.promptLabel=void 0,s.promptLabel="Terminal input",s.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(S,s,a){var u=this&&this.__decorate||function(g,n,c,h){var o,d=arguments.length,m=d<3?n:h===null?h=Object.getOwnPropertyDescriptor(n,c):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(g,n,c,h);else for(var w=g.length-1;w>=0;w--)(o=g[w])&&(m=(d<3?o(m):d>3?o(n,c,m):o(n,c))||m);return d>3&&m&&Object.defineProperty(n,c,m),m},y=this&&this.__param||function(g,n){return function(c,h){n(c,h,g)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkProvider=void 0;const p=a(511),v=a(2585);let E=class{constructor(g,n,c){this._bufferService=g,this._optionsService=n,this._oscLinkService=c}provideLinks(g,n){var c;const h=this._bufferService.buffer.lines.get(g-1);if(!h)return void n(void 0);const o=[],d=this._optionsService.rawOptions.linkHandler,m=new p.CellData,w=h.getTrimmedLength();let L=-1,_=-1,k=!1;for(let x=0;x<w;x++)if(_!==-1||h.hasContent(x)){if(h.loadCell(x,m),m.hasExtendedAttrs()&&m.extended.urlId){if(_===-1){_=x,L=m.extended.urlId;continue}k=m.extended.urlId!==L}else _!==-1&&(k=!0);if(k||_!==-1&&x===w-1){const A=(c=this._oscLinkService.getLinkData(L))===null||c===void 0?void 0:c.uri;if(A){const P={start:{x:_+1,y:g},end:{x:x+(k||x!==w-1?0:1),y:g}};let O=!1;if(!(d!=null&&d.allowNonHttpProtocols))try{const H=new URL(A);["http:","https:"].includes(H.protocol)||(O=!0)}catch{O=!0}O||o.push({text:A,range:P,activate:(H,j)=>d?d.activate(H,j,P):C(0,j),hover:(H,j)=>{var $;return($=d==null?void 0:d.hover)===null||$===void 0?void 0:$.call(d,H,j,P)},leave:(H,j)=>{var $;return($=d==null?void 0:d.leave)===null||$===void 0?void 0:$.call(d,H,j,P)}})}k=!1,m.hasExtendedAttrs()&&m.extended.urlId?(_=x,L=m.extended.urlId):(_=-1,L=-1)}}n(o)}};function C(g,n){if(confirm(`Do you want to navigate to ${n}?

WARNING: This link could potentially be dangerous`)){const c=window.open();if(c){try{c.opener=null}catch{}c.location.href=n}else console.warn("Opening link blocked as opener could not be cleared")}}E=u([y(0,v.IBufferService),y(1,v.IOptionsService),y(2,v.IOscLinkService)],E),s.OscLinkProvider=E},6193:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.RenderDebouncer=void 0,s.RenderDebouncer=class{constructor(a,u){this._parentWindow=a,this._renderCallback=u,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(a){return this._refreshCallbacks.push(a),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(a,u,y){this._rowCount=y,a=a!==void 0?a:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const a=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,u),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const a of this._refreshCallbacks)a(0);this._refreshCallbacks=[]}}},5596:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ScreenDprMonitor=void 0;const u=a(844);class y extends u.Disposable{constructor(v){super(),this._parentWindow=v,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,u.toDisposable)(()=>{this.clearListener()}))}setListener(v){this._listener&&this.clearListener(),this._listener=v,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var v;this._outerListener&&((v=this._resolutionMediaMatchList)===null||v===void 0||v.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}s.ScreenDprMonitor=y},3236:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Terminal=void 0;const u=a(2950),y=a(1680),p=a(3614),v=a(2584),E=a(5435),C=a(9312),g=a(6114),n=a(3656),c=a(9042),h=a(4567),o=a(1296),d=a(7399),m=a(8460),w=a(8437),L=a(3230),_=a(4725),k=a(428),x=a(8934),A=a(6465),P=a(5114),O=a(8969),H=a(8055),j=a(4269),$=a(5941),b=a(3107),R=a(5744),D=a(9074),T=a(2585),F=a(3730),z=a(844),G=a(6731),W=typeof window<"u"?window.document:null;class X extends O.CoreTerminal{constructor(M={}){super(M),this.browser=g,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._onCursorMove=this.register(new m.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new m.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new m.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new m.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new m.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new m.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new m.EventEmitter),this._onBlur=this.register(new m.EventEmitter),this._onA11yCharEmitter=this.register(new m.EventEmitter),this._onA11yTabEmitter=this.register(new m.EventEmitter),this._onWillOpen=this.register(new m.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(A.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(F.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(D.DecorationService),this._instantiationService.setService(T.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((I,N)=>this.refresh(I,N))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(I=>this._reportWindowsOptions(I))),this.register(this._inputHandler.onColor(I=>this._handleColorEvent(I))),this.register((0,m.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,m.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,m.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,m.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(I=>this._afterResize(I.cols,I.rows))),this.register((0,z.toDisposable)(()=>{var I,N;this._customKeyEventHandler=void 0,(N=(I=this.element)===null||I===void 0?void 0:I.parentNode)===null||N===void 0||N.removeChild(this.element)}))}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(M){if(this._themeService)for(const I of M){let N,K="";switch(I.index){case 256:N="foreground",K="10";break;case 257:N="background",K="11";break;case 258:N="cursor",K="12";break;default:N="ansi",K="4;"+I.index}switch(I.type){case 0:const se=H.color.toColorRGB(N==="ansi"?this._themeService.colors.ansi[I.index]:this._themeService.colors[N]);this.coreService.triggerDataEvent(`${v.C0.ESC}]${K};${(0,$.toRgbString)(se)}${v.C1_ESCAPED.ST}`);break;case 1:if(N==="ansi")this._themeService.modifyColors(V=>V.ansi[I.index]=H.rgba.toColor(...I.color));else{const V=N;this._themeService.modifyColors(_e=>_e[V]=H.rgba.toColor(...I.color))}break;case 2:this._themeService.restoreColor(I.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(M){var I;M?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new h.AccessibilityManager(this,this._renderService)):((I=this._accessibilityManager)===null||I===void 0||I.dispose(),this._accessibilityManager=void 0)}_handleTextAreaFocus(M){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(v.C0.ESC+"[I"),this.updateCursorStyle(M),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var M;return(M=this.textarea)===null||M===void 0?void 0:M.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(v.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const M=this.buffer.ybase+this.buffer.y,I=this.buffer.lines.get(M);if(!I)return;const N=Math.min(this.buffer.x,this.cols-1),K=this._renderService.dimensions.css.cell.height,se=I.getWidth(N),V=this._renderService.dimensions.css.cell.width*se,_e=this.buffer.y*this._renderService.dimensions.css.cell.height,Ce=N*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Ce+"px",this.textarea.style.top=_e+"px",this.textarea.style.width=V+"px",this.textarea.style.height=K+"px",this.textarea.style.lineHeight=K+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,n.addDisposableDomListener)(this.element,"copy",I=>{this.hasSelection()&&(0,p.copyHandler)(I,this._selectionService)}));const M=I=>(0,p.handlePasteEvent)(I,this.textarea,this.coreService);this.register((0,n.addDisposableDomListener)(this.textarea,"paste",M)),this.register((0,n.addDisposableDomListener)(this.element,"paste",M)),g.isFirefox?this.register((0,n.addDisposableDomListener)(this.element,"mousedown",I=>{I.button===2&&(0,p.rightClickHandler)(I,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,n.addDisposableDomListener)(this.element,"contextmenu",I=>{(0,p.rightClickHandler)(I,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),g.isLinux&&this.register((0,n.addDisposableDomListener)(this.element,"auxclick",I=>{I.button===1&&(0,p.moveTextAreaUnderMouseCursor)(I,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,n.addDisposableDomListener)(this.textarea,"keyup",M=>this._keyUp(M),!0)),this.register((0,n.addDisposableDomListener)(this.textarea,"keydown",M=>this._keyDown(M),!0)),this.register((0,n.addDisposableDomListener)(this.textarea,"keypress",M=>this._keyPress(M),!0)),this.register((0,n.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,n.addDisposableDomListener)(this.textarea,"compositionupdate",M=>this._compositionHelper.compositionupdate(M))),this.register((0,n.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,n.addDisposableDomListener)(this.textarea,"input",M=>this._inputEvent(M),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(M){var I;if(!M)throw new Error("Terminal requires a parent element.");M.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=M.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),M.appendChild(this.element);const N=W.createDocumentFragment();this._viewportElement=W.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),N.appendChild(this._viewportElement),this._viewportScrollArea=W.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=W.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=W.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),N.appendChild(this.screenElement),this.textarea=W.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",c.promptLabel),g.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(P.CoreBrowserService,this.textarea,(I=this._document.defaultView)!==null&&I!==void 0?I:window),this._instantiationService.setService(_.ICoreBrowserService,this._coreBrowserService),this.register((0,n.addDisposableDomListener)(this.textarea,"focus",K=>this._handleTextAreaFocus(K))),this.register((0,n.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(k.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(_.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(G.ThemeService),this._instantiationService.setService(_.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(j.CharacterJoinerService),this._instantiationService.setService(_.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(L.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(_.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(K=>this._onRender.fire(K))),this.onResize(K=>this._renderService.resize(K.cols,K.rows)),this._compositionView=W.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(u.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(N);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(x.MouseService),this._instantiationService.setService(_.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(y.Viewport,K=>this.scrollLines(K,!0,1),this._viewportElement,this._viewportScrollArea),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(C.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(_.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(K=>this.scrollLines(K.amount,K.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(K=>this._renderService.handleSelectionChanged(K.start,K.end,K.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(K=>{this.textarea.value=K,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(K=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,n.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(b.BufferDecorationRenderer,this.screenElement)),this.register((0,n.addDisposableDomListener)(this.element,"mousedown",K=>this._selectionService.handleMouseDown(K))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new h.AccessibilityManager(this,this._renderService)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",K=>this._handleScreenReaderModeOptionChange(K))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(R.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",K=>{!this._overviewRulerRenderer&&K&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(R.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(o.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const M=this,I=this.element;function N(V){const _e=M._mouseService.getMouseReportCoords(V,M.screenElement);if(!_e)return!1;let Ce,pe;switch(V.overrideType||V.type){case"mousemove":pe=32,V.buttons===void 0?(Ce=3,V.button!==void 0&&(Ce=V.button<3?V.button:3)):Ce=1&V.buttons?0:4&V.buttons?1:2&V.buttons?2:3;break;case"mouseup":pe=0,Ce=V.button<3?V.button:3;break;case"mousedown":pe=1,Ce=V.button<3?V.button:3;break;case"wheel":if(M.viewport.getLinesScrolled(V)===0)return!1;pe=V.deltaY<0?0:1,Ce=4;break;default:return!1}return!(pe===void 0||Ce===void 0||Ce>4)&&M.coreMouseService.triggerMouseEvent({col:_e.col,row:_e.row,x:_e.x,y:_e.y,button:Ce,action:pe,ctrl:V.ctrlKey,alt:V.altKey,shift:V.shiftKey})}const K={mouseup:null,wheel:null,mousedrag:null,mousemove:null},se={mouseup:V=>(N(V),V.buttons||(this._document.removeEventListener("mouseup",K.mouseup),K.mousedrag&&this._document.removeEventListener("mousemove",K.mousedrag)),this.cancel(V)),wheel:V=>(N(V),this.cancel(V,!0)),mousedrag:V=>{V.buttons&&N(V)},mousemove:V=>{V.buttons||N(V)}};this.register(this.coreMouseService.onProtocolChange(V=>{V?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(V)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&V?K.mousemove||(I.addEventListener("mousemove",se.mousemove),K.mousemove=se.mousemove):(I.removeEventListener("mousemove",K.mousemove),K.mousemove=null),16&V?K.wheel||(I.addEventListener("wheel",se.wheel,{passive:!1}),K.wheel=se.wheel):(I.removeEventListener("wheel",K.wheel),K.wheel=null),2&V?K.mouseup||(K.mouseup=se.mouseup):(this._document.removeEventListener("mouseup",K.mouseup),K.mouseup=null),4&V?K.mousedrag||(K.mousedrag=se.mousedrag):(this._document.removeEventListener("mousemove",K.mousedrag),K.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,n.addDisposableDomListener)(I,"mousedown",V=>{if(V.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(V))return N(V),K.mouseup&&this._document.addEventListener("mouseup",K.mouseup),K.mousedrag&&this._document.addEventListener("mousemove",K.mousedrag),this.cancel(V)})),this.register((0,n.addDisposableDomListener)(I,"wheel",V=>{if(!K.wheel){if(!this.buffer.hasScrollback){const _e=this.viewport.getLinesScrolled(V);if(_e===0)return;const Ce=v.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(V.deltaY<0?"A":"B");let pe="";for(let ee=0;ee<Math.abs(_e);ee++)pe+=Ce;return this.coreService.triggerDataEvent(pe,!0),this.cancel(V,!0)}return this.viewport.handleWheel(V)?this.cancel(V):void 0}},{passive:!1})),this.register((0,n.addDisposableDomListener)(I,"touchstart",V=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(V),this.cancel(V)},{passive:!0})),this.register((0,n.addDisposableDomListener)(I,"touchmove",V=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(V)?void 0:this.cancel(V)},{passive:!1}))}refresh(M,I){var N;(N=this._renderService)===null||N===void 0||N.refreshRows(M,I)}updateCursorStyle(M){var I;!((I=this._selectionService)===null||I===void 0)&&I.shouldColumnSelect(M)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(M,I,N=0){super.scrollLines(M,I,N),this.refresh(0,this.rows-1)}paste(M){(0,p.paste)(M,this.textarea,this.coreService)}attachCustomKeyEventHandler(M){this._customKeyEventHandler=M}registerLinkProvider(M){return this.linkifier2.registerLinkProvider(M)}registerCharacterJoiner(M){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const I=this._characterJoinerService.register(M);return this.refresh(0,this.rows-1),I}deregisterCharacterJoiner(M){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(M)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}addMarker(M){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+M)}registerDecoration(M){return this._decorationService.registerDecoration(M)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(M,I,N){this._selectionService.setSelection(M,I,N)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var M;(M=this._selectionService)===null||M===void 0||M.clearSelection()}selectAll(){var M;(M=this._selectionService)===null||M===void 0||M.selectAll()}selectLines(M,I){var N;(N=this._selectionService)===null||N===void 0||N.selectLines(M,I)}_keyDown(M){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(M)===!1)return!1;const I=this.browser.isMac&&this.options.macOptionIsMeta&&M.altKey;if(!I&&!this._compositionHelper.keydown(M))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;I||M.key!=="Dead"&&M.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const N=(0,d.evaluateKeyboardEvent)(M,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(M),N.type===3||N.type===2){const K=this.rows-1;return this.scrollLines(N.type===2?-K:K),this.cancel(M,!0)}return N.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,M)||(N.cancel&&this.cancel(M,!0),!N.key||!!(M.key&&!M.ctrlKey&&!M.altKey&&!M.metaKey&&M.key.length===1&&M.key.charCodeAt(0)>=65&&M.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(N.key!==v.C0.ETX&&N.key!==v.C0.CR||(this.textarea.value=""),this._onKey.fire({key:N.key,domEvent:M}),this._showCursor(),this.coreService.triggerDataEvent(N.key,!0),!this.optionsService.rawOptions.screenReaderMode||M.altKey||M.ctrlKey?this.cancel(M,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(M,I){const N=M.isMac&&!this.options.macOptionIsMeta&&I.altKey&&!I.ctrlKey&&!I.metaKey||M.isWindows&&I.altKey&&I.ctrlKey&&!I.metaKey||M.isWindows&&I.getModifierState("AltGraph");return I.type==="keypress"?N:N&&(!I.keyCode||I.keyCode>47)}_keyUp(M){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(M)===!1||(function(I){return I.keyCode===16||I.keyCode===17||I.keyCode===18}(M)||this.focus(),this.updateCursorStyle(M),this._keyPressHandled=!1)}_keyPress(M){let I;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(M)===!1)return!1;if(this.cancel(M),M.charCode)I=M.charCode;else if(M.which===null||M.which===void 0)I=M.keyCode;else{if(M.which===0||M.charCode===0)return!1;I=M.which}return!(!I||(M.altKey||M.ctrlKey||M.metaKey)&&!this._isThirdLevelShift(this.browser,M)||(I=String.fromCharCode(I),this._onKey.fire({key:I,domEvent:M}),this._showCursor(),this.coreService.triggerDataEvent(I,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(M){if(M.data&&M.inputType==="insertText"&&(!M.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const I=M.data;return this.coreService.triggerDataEvent(I,!0),this.cancel(M),!0}return!1}resize(M,I){M!==this.cols||I!==this.rows?super.resize(M,I):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(M,I){var N,K;(N=this._charSizeService)===null||N===void 0||N.measure(),(K=this.viewport)===null||K===void 0||K.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let M=1;M<this.rows;M++)this.buffer.lines.push(this.buffer.getBlankLine(w.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}}reset(){var M,I;this.options.rows=this.rows,this.options.cols=this.cols;const N=this._customKeyEventHandler;this._setup(),super.reset(),(M=this._selectionService)===null||M===void 0||M.reset(),this._decorationService.reset(),this._customKeyEventHandler=N,this.refresh(0,this.rows-1),(I=this.viewport)===null||I===void 0||I.syncScrollArea()}clearTextureAtlas(){var M;(M=this._renderService)===null||M===void 0||M.clearTextureAtlas()}_reportFocus(){var M;!((M=this.element)===null||M===void 0)&&M.classList.contains("focus")?this.coreService.triggerDataEvent(v.C0.ESC+"[I"):this.coreService.triggerDataEvent(v.C0.ESC+"[O")}_reportWindowsOptions(M){if(this._renderService)switch(M){case E.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const I=this._renderService.dimensions.css.canvas.width.toFixed(0),N=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${v.C0.ESC}[4;${N};${I}t`);break;case E.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const K=this._renderService.dimensions.css.cell.width.toFixed(0),se=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${v.C0.ESC}[6;${se};${K}t`)}}cancel(M,I){if(this.options.cancelEvents||I)return M.preventDefault(),M.stopPropagation(),!1}}s.Terminal=X},9924:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TimeBasedDebouncer=void 0,s.TimeBasedDebouncer=class{constructor(a,u=1e3){this._renderCallback=a,this._debounceThresholdMS=u,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(a,u,y){this._rowCount=y,a=a!==void 0?a:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u;const p=Date.now();if(p-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=p,this._innerRefresh();else if(!this._additionalRefreshRequested){const v=p-this._lastRefreshMs,E=this._debounceThresholdMS-v;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},E)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const a=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,u)}}},1680:function(S,s,a){var u=this&&this.__decorate||function(n,c,h,o){var d,m=arguments.length,w=m<3?c:o===null?o=Object.getOwnPropertyDescriptor(c,h):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(n,c,h,o);else for(var L=n.length-1;L>=0;L--)(d=n[L])&&(w=(m<3?d(w):m>3?d(c,h,w):d(c,h))||w);return m>3&&w&&Object.defineProperty(c,h,w),w},y=this&&this.__param||function(n,c){return function(h,o){c(h,o,n)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Viewport=void 0;const p=a(844),v=a(3656),E=a(4725),C=a(2585);let g=class extends p.Disposable{constructor(n,c,h,o,d,m,w,L,_){super(),this._scrollLines=n,this._viewportElement=c,this._scrollArea=h,this._bufferService=o,this._optionsService=d,this._charSizeService=m,this._renderService=w,this._coreBrowserService=L,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,v.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(k=>this._activeBuffer=k.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(k=>this._renderDimensions=k)),this._handleThemeChange(_.colors),this.register(_.onChangeColors(k=>this._handleThemeChange(k))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea(),0)}_handleThemeChange(n){this._viewportElement.style.backgroundColor=n.background.css}_refresh(n){if(n)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const c=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==c&&(this._lastRecordedBufferHeight=c,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const n=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==n&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=n),this._refreshAnimationFrame=null}syncScrollArea(n=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(n);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(n)}_handleScroll(n){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);const c=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(c)}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const n=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(n*(this._smoothScrollState.target-this._smoothScrollState.origin)),n<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(n,c){const h=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(c<0&&this._viewportElement.scrollTop!==0||c>0&&h<this._lastRecordedBufferHeight)||(n.cancelable&&n.preventDefault(),!1)}handleWheel(n){const c=this._getPixelsScrolled(n);return c!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+c:this._smoothScrollState.target+=c,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=c,this._bubbleScroll(n,c))}_getPixelsScrolled(n){if(n.deltaY===0||n.shiftKey)return 0;let c=this._applyScrollModifier(n.deltaY,n);return n.deltaMode===WheelEvent.DOM_DELTA_LINE?c*=this._currentRowHeight:n.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._currentRowHeight*this._bufferService.rows),c}getLinesScrolled(n){if(n.deltaY===0||n.shiftKey)return 0;let c=this._applyScrollModifier(n.deltaY,n);return n.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(c/=this._currentRowHeight+0,this._wheelPartialScroll+=c,c=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):n.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._bufferService.rows),c}_applyScrollModifier(n,c){const h=this._optionsService.rawOptions.fastScrollModifier;return h==="alt"&&c.altKey||h==="ctrl"&&c.ctrlKey||h==="shift"&&c.shiftKey?n*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:n*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(n){this._lastTouchY=n.touches[0].pageY}handleTouchMove(n){const c=this._lastTouchY-n.touches[0].pageY;return this._lastTouchY=n.touches[0].pageY,c!==0&&(this._viewportElement.scrollTop+=c,this._bubbleScroll(n,c))}};g=u([y(3,C.IBufferService),y(4,C.IOptionsService),y(5,E.ICharSizeService),y(6,E.IRenderService),y(7,E.ICoreBrowserService),y(8,E.IThemeService)],g),s.Viewport=g},3107:function(S,s,a){var u=this&&this.__decorate||function(n,c,h,o){var d,m=arguments.length,w=m<3?c:o===null?o=Object.getOwnPropertyDescriptor(c,h):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(n,c,h,o);else for(var L=n.length-1;L>=0;L--)(d=n[L])&&(w=(m<3?d(w):m>3?d(c,h,w):d(c,h))||w);return m>3&&w&&Object.defineProperty(c,h,w),w},y=this&&this.__param||function(n,c){return function(h,o){c(h,o,n)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferDecorationRenderer=void 0;const p=a(3656),v=a(4725),E=a(844),C=a(2585);let g=class extends E.Disposable{constructor(n,c,h,o){super(),this._screenElement=n,this._bufferService=c,this._decorationService=h,this._renderService=o,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,p.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(d=>this._removeDecoration(d))),this.register((0,E.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const n of this._decorationService.decorations)this._renderDecoration(n);this._dimensionsChanged=!1}_renderDecoration(n){this._refreshStyle(n),this._dimensionsChanged&&this._refreshXPosition(n)}_createElement(n){var c;const h=document.createElement("div");h.classList.add("xterm-decoration"),h.style.width=`${Math.round((n.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,h.style.height=(n.options.height||1)*this._renderService.dimensions.css.cell.height+"px",h.style.top=(n.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",h.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const o=(c=n.options.x)!==null&&c!==void 0?c:0;return o&&o>this._bufferService.cols&&(h.style.display="none"),this._refreshXPosition(n,h),h}_refreshStyle(n){const c=n.marker.line-this._bufferService.buffers.active.ydisp;if(c<0||c>=this._bufferService.rows)n.element&&(n.element.style.display="none",n.onRenderEmitter.fire(n.element));else{let h=this._decorationElements.get(n);h||(h=this._createElement(n),n.element=h,this._decorationElements.set(n,h),this._container.appendChild(h)),h.style.top=c*this._renderService.dimensions.css.cell.height+"px",h.style.display=this._altBufferIsActive?"none":"block",n.onRenderEmitter.fire(h)}}_refreshXPosition(n,c=n.element){var h;if(!c)return;const o=(h=n.options.x)!==null&&h!==void 0?h:0;(n.options.anchor||"left")==="right"?c.style.right=o?o*this._renderService.dimensions.css.cell.width+"px":"":c.style.left=o?o*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(n){var c;(c=this._decorationElements.get(n))===null||c===void 0||c.remove(),this._decorationElements.delete(n),n.dispose()}};g=u([y(1,C.IBufferService),y(2,C.IDecorationService),y(3,v.IRenderService)],g),s.BufferDecorationRenderer=g},5871:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorZoneStore=void 0,s.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(a){if(a.options.overviewRulerOptions){for(const u of this._zones)if(u.color===a.options.overviewRulerOptions.color&&u.position===a.options.overviewRulerOptions.position){if(this._lineIntersectsZone(u,a.marker.line))return;if(this._lineAdjacentToZone(u,a.marker.line,a.options.overviewRulerOptions.position))return void this._addLineToZone(u,a.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=a.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=a.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=a.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=a.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:a.options.overviewRulerOptions.color,position:a.options.overviewRulerOptions.position,startBufferLine:a.marker.line,endBufferLine:a.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(a){this._linePadding=a}_lineIntersectsZone(a,u){return u>=a.startBufferLine&&u<=a.endBufferLine}_lineAdjacentToZone(a,u,y){return u>=a.startBufferLine-this._linePadding[y||"full"]&&u<=a.endBufferLine+this._linePadding[y||"full"]}_addLineToZone(a,u){a.startBufferLine=Math.min(a.startBufferLine,u),a.endBufferLine=Math.max(a.endBufferLine,u)}}},5744:function(S,s,a){var u=this&&this.__decorate||function(d,m,w,L){var _,k=arguments.length,x=k<3?m:L===null?L=Object.getOwnPropertyDescriptor(m,w):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,m,w,L);else for(var A=d.length-1;A>=0;A--)(_=d[A])&&(x=(k<3?_(x):k>3?_(m,w,x):_(m,w))||x);return k>3&&x&&Object.defineProperty(m,w,x),x},y=this&&this.__param||function(d,m){return function(w,L){m(w,L,d)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OverviewRulerRenderer=void 0;const p=a(5871),v=a(3656),E=a(4725),C=a(844),g=a(2585),n={full:0,left:0,center:0,right:0},c={full:0,left:0,center:0,right:0},h={full:0,left:0,center:0,right:0};let o=class extends C.Disposable{constructor(d,m,w,L,_,k,x){var A;super(),this._viewportElement=d,this._screenElement=m,this._bufferService=w,this._decorationService=L,this._renderService=_,this._optionsService=k,this._coreBrowseService=x,this._colorZoneStore=new p.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(A=this._viewportElement.parentElement)===null||A===void 0||A.insertBefore(this._canvas,this._viewportElement);const P=this._canvas.getContext("2d");if(!P)throw new Error("Ctx cannot be null");this._ctx=P,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,C.toDisposable)(()=>{var O;(O=this._canvas)===null||O===void 0||O.remove()}))}get _width(){return this._optionsService.options.overviewRulerWidth||0}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,v.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const d=Math.floor(this._canvas.width/3),m=Math.ceil(this._canvas.width/3);c.full=this._canvas.width,c.left=d,c.center=m,c.right=d,this._refreshDrawHeightConstants(),h.full=0,h.left=0,h.center=c.left,h.right=c.left+c.center}_refreshDrawHeightConstants(){n.full=Math.round(2*this._coreBrowseService.dpr);const d=this._canvas.height/this._bufferService.buffer.lines.length,m=Math.round(Math.max(Math.min(d,12),6)*this._coreBrowseService.dpr);n.left=m,n.center=m,n.right=m}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*n.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*n.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*n.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*n.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const m of this._decorationService.decorations)this._colorZoneStore.addDecoration(m);this._ctx.lineWidth=1;const d=this._colorZoneStore.zones;for(const m of d)m.position!=="full"&&this._renderColorZone(m);for(const m of d)m.position==="full"&&this._renderColorZone(m);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(d){this._ctx.fillStyle=d.color,this._ctx.fillRect(h[d.position||"full"],Math.round((this._canvas.height-1)*(d.startBufferLine/this._bufferService.buffers.active.lines.length)-n[d.position||"full"]/2),c[d.position||"full"],Math.round((this._canvas.height-1)*((d.endBufferLine-d.startBufferLine)/this._bufferService.buffers.active.lines.length)+n[d.position||"full"]))}_queueRefresh(d,m){this._shouldUpdateDimensions=d||this._shouldUpdateDimensions,this._shouldUpdateAnchor=m||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};o=u([y(2,g.IBufferService),y(3,g.IDecorationService),y(4,E.IRenderService),y(5,g.IOptionsService),y(6,E.ICoreBrowserService)],o),s.OverviewRulerRenderer=o},2950:function(S,s,a){var u=this&&this.__decorate||function(g,n,c,h){var o,d=arguments.length,m=d<3?n:h===null?h=Object.getOwnPropertyDescriptor(n,c):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(g,n,c,h);else for(var w=g.length-1;w>=0;w--)(o=g[w])&&(m=(d<3?o(m):d>3?o(n,c,m):o(n,c))||m);return d>3&&m&&Object.defineProperty(n,c,m),m},y=this&&this.__param||function(g,n){return function(c,h){n(c,h,g)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CompositionHelper=void 0;const p=a(4725),v=a(2585),E=a(2584);let C=class{constructor(g,n,c,h,o,d){this._textarea=g,this._compositionView=n,this._bufferService=c,this._optionsService=h,this._coreService=o,this._renderService=d,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(g){this._compositionView.textContent=g.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(g){if(this._isComposing||this._isSendingComposition){if(g.keyCode===229||g.keyCode===16||g.keyCode===17||g.keyCode===18)return!1;this._finalizeComposition(!1)}return g.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(g){if(this._compositionView.classList.remove("active"),this._isComposing=!1,g){const n={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let c;this._isSendingComposition=!1,n.start+=this._dataAlreadySent.length,c=this._isComposing?this._textarea.value.substring(n.start,n.end):this._textarea.value.substring(n.start),c.length>0&&this._coreService.triggerDataEvent(c,!0)}},0)}else{this._isSendingComposition=!1;const n=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(n,!0)}}_handleAnyTextareaChanges(){const g=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const n=this._textarea.value,c=n.replace(g,"");this._dataAlreadySent=c,n.length>g.length?this._coreService.triggerDataEvent(c,!0):n.length<g.length?this._coreService.triggerDataEvent(`${E.C0.DEL}`,!0):n.length===g.length&&n!==g&&this._coreService.triggerDataEvent(n,!0)}},0)}updateCompositionElements(g){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const n=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),c=this._renderService.dimensions.css.cell.height,h=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,o=n*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=o+"px",this._compositionView.style.top=h+"px",this._compositionView.style.height=c+"px",this._compositionView.style.lineHeight=c+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const d=this._compositionView.getBoundingClientRect();this._textarea.style.left=o+"px",this._textarea.style.top=h+"px",this._textarea.style.width=Math.max(d.width,1)+"px",this._textarea.style.height=Math.max(d.height,1)+"px",this._textarea.style.lineHeight=d.height+"px"}g||setTimeout(()=>this.updateCompositionElements(!0),0)}}};C=u([y(2,v.IBufferService),y(3,v.IOptionsService),y(4,v.ICoreService),y(5,p.IRenderService)],C),s.CompositionHelper=C},9806:(S,s)=>{function a(u,y,p){const v=p.getBoundingClientRect(),E=u.getComputedStyle(p),C=parseInt(E.getPropertyValue("padding-left")),g=parseInt(E.getPropertyValue("padding-top"));return[y.clientX-v.left-C,y.clientY-v.top-g]}Object.defineProperty(s,"__esModule",{value:!0}),s.getCoords=s.getCoordsRelativeToElement=void 0,s.getCoordsRelativeToElement=a,s.getCoords=function(u,y,p,v,E,C,g,n,c){if(!C)return;const h=a(u,y,p);return h?(h[0]=Math.ceil((h[0]+(c?g/2:0))/g),h[1]=Math.ceil(h[1]/n),h[0]=Math.min(Math.max(h[0],1),v+(c?1:0)),h[1]=Math.min(Math.max(h[1],1),E),h):void 0}},9504:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.moveToCellSequence=void 0;const u=a(2584);function y(n,c,h,o){const d=n-p(n,h),m=c-p(c,h),w=Math.abs(d-m)-function(L,_,k){let x=0;const A=L-p(L,k),P=_-p(_,k);for(let O=0;O<Math.abs(A-P);O++){const H=v(L,_)==="A"?-1:1,j=k.buffer.lines.get(A+H*O);j!=null&&j.isWrapped&&x++}return x}(n,c,h);return g(w,C(v(n,c),o))}function p(n,c){let h=0,o=c.buffer.lines.get(n),d=o==null?void 0:o.isWrapped;for(;d&&n>=0&&n<c.rows;)h++,o=c.buffer.lines.get(--n),d=o==null?void 0:o.isWrapped;return h}function v(n,c){return n>c?"A":"B"}function E(n,c,h,o,d,m){let w=n,L=c,_="";for(;w!==h||L!==o;)w+=d?1:-1,d&&w>m.cols-1?(_+=m.buffer.translateBufferLineToString(L,!1,n,w),w=0,n=0,L++):!d&&w<0&&(_+=m.buffer.translateBufferLineToString(L,!1,0,n+1),w=m.cols-1,n=w,L--);return _+m.buffer.translateBufferLineToString(L,!1,n,w)}function C(n,c){const h=c?"O":"[";return u.C0.ESC+h+n}function g(n,c){n=Math.floor(n);let h="";for(let o=0;o<n;o++)h+=c;return h}s.moveToCellSequence=function(n,c,h,o){const d=h.buffer.x,m=h.buffer.y;if(!h.buffer.hasScrollback)return function(_,k,x,A,P,O){return y(k,A,P,O).length===0?"":g(E(_,k,_,k-p(k,P),!1,P).length,C("D",O))}(d,m,0,c,h,o)+y(m,c,h,o)+function(_,k,x,A,P,O){let H;H=y(k,A,P,O).length>0?A-p(A,P):k;const j=A,$=function(b,R,D,T,F,z){let G;return G=y(D,T,F,z).length>0?T-p(T,F):R,b<D&&G<=T||b>=D&&G<T?"C":"D"}(_,k,x,A,P,O);return g(E(_,H,x,j,$==="C",P).length,C($,O))}(d,m,n,c,h,o);let w;if(m===c)return w=d>n?"D":"C",g(Math.abs(d-n),C(w,o));w=m>c?"D":"C";const L=Math.abs(m-c);return g(function(_,k){return k.cols-_}(m>c?n:d,h)+(L-1)*h.cols+1+((m>c?d:n)-1),C(w,o))}},1296:function(S,s,a){var u=this&&this.__decorate||function(_,k,x,A){var P,O=arguments.length,H=O<3?k:A===null?A=Object.getOwnPropertyDescriptor(k,x):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(_,k,x,A);else for(var j=_.length-1;j>=0;j--)(P=_[j])&&(H=(O<3?P(H):O>3?P(k,x,H):P(k,x))||H);return O>3&&H&&Object.defineProperty(k,x,H),H},y=this&&this.__param||function(_,k){return function(x,A){k(x,A,_)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRenderer=void 0;const p=a(9631),v=a(3787),E=a(2223),C=a(6171),g=a(4725),n=a(8055),c=a(8460),h=a(844),o=a(2585),d="xterm-dom-renderer-owner-",m="xterm-focus";let w=1,L=class extends h.Disposable{constructor(_,k,x,A,P,O,H,j,$,b){super(),this._element=_,this._screenElement=k,this._viewportElement=x,this._linkifier2=A,this._charSizeService=O,this._optionsService=H,this._bufferService=j,this._coreBrowserService=$,this._terminalClass=w++,this._rowElements=[],this._cellToRowElements=[],this.onRequestRedraw=this.register(new c.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add("xterm-rows"),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add("xterm-selection"),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,C.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(b.onChangeColors(R=>this._injectCss(R))),this._injectCss(b.colors),this._rowFactory=P.createInstance(v.DomRendererRowFactory,document),this._element.classList.add(d+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(R=>this._handleLinkHover(R))),this.register(this._linkifier2.onHideLinkUnderline(R=>this._handleLinkLeave(R))),this.register((0,h.toDisposable)(()=>{this._element.classList.remove(d+this._terminalClass),(0,p.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement)}))}_updateDimensions(){const _=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*_,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*_),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/_),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/_),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const x of this._rowElements)x.style.width=`${this.dimensions.css.canvas.width}px`,x.style.height=`${this.dimensions.css.cell.height}px`,x.style.lineHeight=`${this.dimensions.css.cell.height}px`,x.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const k=`${this._terminalSelector} .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: ${this.dimensions.css.cell.width}px}`;this._dimensionsStyleElement.textContent=k,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(_){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let k=`${this._terminalSelector} .xterm-rows { color: ${_.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px;}`;k+=`${this._terminalSelector} span:not(.${v.BOLD_CLASS}) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.${v.BOLD_CLASS} { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.${v.ITALIC_CLASS} { font-style: italic;}`,k+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",k+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${_.cursor.css};  color: ${_.cursorAccent.css}; } 50% {  background-color: ${_.cursorAccent.css};  color: ${_.cursor.css}; }}`,k+=`${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${v.CURSOR_CLASS}.${v.CURSOR_STYLE_BLOCK_CLASS} { outline: 1px solid ${_.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .xterm-rows.xterm-focus .${v.CURSOR_CLASS}.${v.CURSOR_BLINK_CLASS}:not(.${v.CURSOR_STYLE_BLOCK_CLASS}) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${v.CURSOR_CLASS}.${v.CURSOR_BLINK_CLASS}.${v.CURSOR_STYLE_BLOCK_CLASS} { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${v.CURSOR_CLASS}.${v.CURSOR_STYLE_BLOCK_CLASS} { background-color: ${_.cursor.css}; color: ${_.cursorAccent.css};}${this._terminalSelector} .xterm-rows .${v.CURSOR_CLASS}.${v.CURSOR_STYLE_BAR_CLASS} { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${_.cursor.css} inset;}${this._terminalSelector} .xterm-rows .${v.CURSOR_CLASS}.${v.CURSOR_STYLE_UNDERLINE_CLASS} { box-shadow: 0 -1px 0 ${_.cursor.css} inset;}`,k+=`${this._terminalSelector} .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .xterm-selection div { position: absolute; background-color: ${_.selectionBackgroundOpaque.css};}${this._terminalSelector} .xterm-selection div { position: absolute; background-color: ${_.selectionInactiveBackgroundOpaque.css};}`;for(const[x,A]of _.ansi.entries())k+=`${this._terminalSelector} .xterm-fg-${x} { color: ${A.css}; }${this._terminalSelector} .xterm-bg-${x} { background-color: ${A.css}; }`;k+=`${this._terminalSelector} .xterm-fg-${E.INVERTED_DEFAULT_COLOR} { color: ${n.color.opaque(_.background).css}; }${this._terminalSelector} .xterm-bg-${E.INVERTED_DEFAULT_COLOR} { background-color: ${_.foreground.css}; }`,this._themeStyleElement.textContent=k}handleDevicePixelRatioChange(){this._updateDimensions()}_refreshRowElements(_,k){for(let x=this._rowElements.length;x<=k;x++){const A=document.createElement("div");this._rowContainer.appendChild(A),this._rowElements.push(A)}for(;this._rowElements.length>k;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(_,k){this._refreshRowElements(_,k),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions()}handleBlur(){this._rowContainer.classList.remove(m)}handleFocus(){this._rowContainer.classList.add(m)}handleSelectionChanged(_,k,x){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.handleSelectionChanged(_,k,x),this.renderRows(0,this._bufferService.rows-1),!_||!k)return;const A=_[1]-this._bufferService.buffer.ydisp,P=k[1]-this._bufferService.buffer.ydisp,O=Math.max(A,0),H=Math.min(P,this._bufferService.rows-1);if(O>=this._bufferService.rows||H<0)return;const j=document.createDocumentFragment();if(x){const $=_[0]>k[0];j.appendChild(this._createSelectionElement(O,$?k[0]:_[0],$?_[0]:k[0],H-O+1))}else{const $=A===O?_[0]:0,b=O===P?k[0]:this._bufferService.cols;j.appendChild(this._createSelectionElement(O,$,b));const R=H-O-1;if(j.appendChild(this._createSelectionElement(O+1,0,this._bufferService.cols,R)),O!==H){const D=P===H?k[0]:this._bufferService.cols;j.appendChild(this._createSelectionElement(H,0,D))}}this._selectionContainer.appendChild(j)}_createSelectionElement(_,k,x,A=1){const P=document.createElement("div");return P.style.height=A*this.dimensions.css.cell.height+"px",P.style.top=_*this.dimensions.css.cell.height+"px",P.style.left=k*this.dimensions.css.cell.width+"px",P.style.width=this.dimensions.css.cell.width*(x-k)+"px",P}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions()}clear(){for(const _ of this._rowElements)_.replaceChildren()}renderRows(_,k){const x=this._bufferService.buffer.ybase+this._bufferService.buffer.y,A=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),P=this._optionsService.rawOptions.cursorBlink;for(let O=_;O<=k;O++){const H=this._rowElements[O],j=O+this._bufferService.buffer.ydisp,$=this._bufferService.buffer.lines.get(j),b=this._optionsService.rawOptions.cursorStyle;this._cellToRowElements[O]&&this._cellToRowElements[O].length===this._bufferService.cols||(this._cellToRowElements[O]=new Int16Array(this._bufferService.cols)),H.replaceChildren(this._rowFactory.createRow($,j,j===x,b,A,P,this.dimensions.css.cell.width,this._bufferService.cols,this._cellToRowElements[O]))}}get _terminalSelector(){return`.${d}${this._terminalClass}`}_handleLinkHover(_){this._setCellUnderline(_.x1,_.x2,_.y1,_.y2,_.cols,!0)}_handleLinkLeave(_){this._setCellUnderline(_.x1,_.x2,_.y1,_.y2,_.cols,!1)}_setCellUnderline(_,k,x,A,P,O){if(_=this._cellToRowElements[x][_],k=this._cellToRowElements[A][k],_!==-1&&k!==-1)for(;_!==k||x!==A;){const H=this._rowElements[x];if(!H)return;const j=H.children[_];j&&(j.style.textDecoration=O?"underline":"none"),++_>=P&&(_=0,x++)}}};L=u([y(4,o.IInstantiationService),y(5,g.ICharSizeService),y(6,o.IOptionsService),y(7,o.IBufferService),y(8,g.ICoreBrowserService),y(9,g.IThemeService)],L),s.DomRenderer=L},3787:function(S,s,a){var u=this&&this.__decorate||function(w,L,_,k){var x,A=arguments.length,P=A<3?L:k===null?k=Object.getOwnPropertyDescriptor(L,_):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(w,L,_,k);else for(var O=w.length-1;O>=0;O--)(x=w[O])&&(P=(A<3?x(P):A>3?x(L,_,P):x(L,_))||P);return A>3&&P&&Object.defineProperty(L,_,P),P},y=this&&this.__param||function(w,L){return function(_,k){L(_,k,w)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRendererRowFactory=s.CURSOR_STYLE_UNDERLINE_CLASS=s.CURSOR_STYLE_BAR_CLASS=s.CURSOR_STYLE_BLOCK_CLASS=s.CURSOR_BLINK_CLASS=s.CURSOR_CLASS=s.STRIKETHROUGH_CLASS=s.UNDERLINE_CLASS=s.ITALIC_CLASS=s.DIM_CLASS=s.BOLD_CLASS=void 0;const p=a(2223),v=a(643),E=a(511),C=a(2585),g=a(8055),n=a(4725),c=a(4269),h=a(6171),o=a(3734);s.BOLD_CLASS="xterm-bold",s.DIM_CLASS="xterm-dim",s.ITALIC_CLASS="xterm-italic",s.UNDERLINE_CLASS="xterm-underline",s.STRIKETHROUGH_CLASS="xterm-strikethrough",s.CURSOR_CLASS="xterm-cursor",s.CURSOR_BLINK_CLASS="xterm-cursor-blink",s.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",s.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",s.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";let d=class{constructor(w,L,_,k,x,A,P){this._document=w,this._characterJoinerService=L,this._optionsService=_,this._coreBrowserService=k,this._coreService=x,this._decorationService=A,this._themeService=P,this._workCell=new E.CellData,this._columnSelectMode=!1}handleSelectionChanged(w,L,_){this._selectionStart=w,this._selectionEnd=L,this._columnSelectMode=_}createRow(w,L,_,k,x,A,P,O,H){const j=this._document.createDocumentFragment(),$=this._characterJoinerService.getJoinedCharacters(L);let b=0;for(let F=Math.min(w.length,O)-1;F>=0;F--)if(w.loadCell(F,this._workCell).getCode()!==v.NULL_CELL_CODE||_&&F===x){b=F+1;break}const R=this._themeService.colors;let D=-1,T=0;for(;T<b;T++){w.loadCell(T,this._workCell);let F=this._workCell.getWidth();if(F===0){H[T]=D;continue}let z=!1,G=T,W=this._workCell;if($.length>0&&T===$[0][0]){z=!0;const ee=$.shift();W=new c.JoinedCellData(this._workCell,w.translateToString(!0,ee[0],ee[1]),ee[1]-ee[0]),G=ee[1]-1,F=W.getWidth()}const X=this._document.createElement("span");if(F>1&&(X.style.width=P*F+"px"),z&&(X.style.display="inline",x>=T&&x<=G&&(x=T)),!this._coreService.isCursorHidden&&_&&T===x)switch(X.classList.add(s.CURSOR_CLASS),A&&X.classList.add(s.CURSOR_BLINK_CLASS),k){case"bar":X.classList.add(s.CURSOR_STYLE_BAR_CLASS);break;case"underline":X.classList.add(s.CURSOR_STYLE_UNDERLINE_CLASS);break;default:X.classList.add(s.CURSOR_STYLE_BLOCK_CLASS)}if(W.isBold()&&X.classList.add(s.BOLD_CLASS),W.isItalic()&&X.classList.add(s.ITALIC_CLASS),W.isDim()&&X.classList.add(s.DIM_CLASS),W.isInvisible()?X.textContent=v.WHITESPACE_CELL_CHAR:X.textContent=W.getChars()||v.WHITESPACE_CELL_CHAR,W.isUnderline()&&(X.classList.add(`${s.UNDERLINE_CLASS}-${W.extended.underlineStyle}`),X.textContent===" "&&(X.textContent=" "),!W.isUnderlineColorDefault()))if(W.isUnderlineColorRGB())X.style.textDecorationColor=`rgb(${o.AttributeData.toColorRGB(W.getUnderlineColor()).join(",")})`;else{let ee=W.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&W.isBold()&&ee<8&&(ee+=8),X.style.textDecorationColor=R.ansi[ee].css}W.isStrikethrough()&&X.classList.add(s.STRIKETHROUGH_CLASS);let B=W.getFgColor(),M=W.getFgColorMode(),I=W.getBgColor(),N=W.getBgColorMode();const K=!!W.isInverse();if(K){const ee=B;B=I,I=ee;const Nh=M;M=N,N=Nh}let se,V,_e=!1;this._decorationService.forEachDecorationAtCell(T,L,void 0,ee=>{ee.options.layer!=="top"&&_e||(ee.backgroundColorRGB&&(N=50331648,I=ee.backgroundColorRGB.rgba>>8&16777215,se=ee.backgroundColorRGB),ee.foregroundColorRGB&&(M=50331648,B=ee.foregroundColorRGB.rgba>>8&16777215,V=ee.foregroundColorRGB),_e=ee.options.layer==="top")});const Ce=this._isCellInSelection(T,L);let pe;switch(_e||R.selectionForeground&&Ce&&(M=50331648,B=R.selectionForeground.rgba>>8&16777215,V=R.selectionForeground),Ce&&(se=this._coreBrowserService.isFocused?R.selectionBackgroundOpaque:R.selectionInactiveBackgroundOpaque,_e=!0),_e&&X.classList.add("xterm-decoration-top"),N){case 16777216:case 33554432:pe=R.ansi[I],X.classList.add(`xterm-bg-${I}`);break;case 50331648:pe=g.rgba.toColor(I>>16,I>>8&255,255&I),this._addStyle(X,`background-color:#${m((I>>>0).toString(16),"0",6)}`);break;default:K?(pe=R.foreground,X.classList.add(`xterm-bg-${p.INVERTED_DEFAULT_COLOR}`)):pe=R.background}switch(se||W.isDim()&&(se=g.color.multiplyOpacity(pe,.5)),M){case 16777216:case 33554432:W.isBold()&&B<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(B+=8),this._applyMinimumContrast(X,pe,R.ansi[B],W,se,void 0)||X.classList.add(`xterm-fg-${B}`);break;case 50331648:const ee=g.rgba.toColor(B>>16&255,B>>8&255,255&B);this._applyMinimumContrast(X,pe,ee,W,se,V)||this._addStyle(X,`color:#${m(B.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(X,pe,R.foreground,W,se,void 0)||K&&X.classList.add(`xterm-fg-${p.INVERTED_DEFAULT_COLOR}`)}j.appendChild(X),H[T]=++D,T=G}return T<O-1&&H.subarray(T).fill(++D),j}_applyMinimumContrast(w,L,_,k,x,A){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,h.excludeFromContrastRatioDemands)(k.getCode()))return!1;let P;return x||A||(P=this._themeService.colors.contrastCache.getColor(L.rgba,_.rgba)),P===void 0&&(P=g.color.ensureContrastRatio(x||L,A||_,this._optionsService.rawOptions.minimumContrastRatio),this._themeService.colors.contrastCache.setColor((x||L).rgba,(A||_).rgba,P??null)),!!P&&(this._addStyle(w,`color:${P.css}`),!0)}_addStyle(w,L){w.setAttribute("style",`${w.getAttribute("style")||""}${L};`)}_isCellInSelection(w,L){const _=this._selectionStart,k=this._selectionEnd;return!(!_||!k)&&(this._columnSelectMode?_[0]<=k[0]?w>=_[0]&&L>=_[1]&&w<k[0]&&L<=k[1]:w<_[0]&&L>=_[1]&&w>=k[0]&&L<=k[1]:L>_[1]&&L<k[1]||_[1]===k[1]&&L===_[1]&&w>=_[0]&&w<k[0]||_[1]<k[1]&&L===k[1]&&w<k[0]||_[1]<k[1]&&L===_[1]&&w>=_[0])}};function m(w,L,_){for(;w.length<_;)w=L+w;return w}d=u([y(1,n.ICharacterJoinerService),y(2,C.IOptionsService),y(3,n.ICoreBrowserService),y(4,C.ICoreService),y(5,C.IDecorationService),y(6,n.IThemeService)],d),s.DomRendererRowFactory=d},2223:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TEXT_BASELINE=s.DIM_OPACITY=s.INVERTED_DEFAULT_COLOR=void 0;const u=a(6114);s.INVERTED_DEFAULT_COLOR=257,s.DIM_OPACITY=.5,s.TEXT_BASELINE=u.isFirefox||u.isLegacyEdge?"bottom":"ideographic"},6171:(S,s)=>{function a(u){return 57508<=u&&u<=57558}Object.defineProperty(s,"__esModule",{value:!0}),s.createRenderDimensions=s.excludeFromContrastRatioDemands=s.isRestrictedPowerlineGlyph=s.isPowerlineGlyph=s.throwIfFalsy=void 0,s.throwIfFalsy=function(u){if(!u)throw new Error("value must not be falsy");return u},s.isPowerlineGlyph=a,s.isRestrictedPowerlineGlyph=function(u){return 57520<=u&&u<=57527},s.excludeFromContrastRatioDemands=function(u){return a(u)||function(y){return 9472<=y&&y<=9631}(u)},s.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionModel=void 0,s.SelectionModel=class{constructor(a){this._bufferService=a,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?a%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)-1]:[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[a,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[Math.max(a,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const a=this.selectionStart,u=this.selectionEnd;return!(!a||!u)&&(a[1]>u[1]||a[1]===u[1]&&a[0]>u[0])}handleTrim(a){return this.selectionStart&&(this.selectionStart[1]-=a),this.selectionEnd&&(this.selectionEnd[1]-=a),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(S,s,a){var u=this&&this.__decorate||function(n,c,h,o){var d,m=arguments.length,w=m<3?c:o===null?o=Object.getOwnPropertyDescriptor(c,h):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(n,c,h,o);else for(var L=n.length-1;L>=0;L--)(d=n[L])&&(w=(m<3?d(w):m>3?d(c,h,w):d(c,h))||w);return m>3&&w&&Object.defineProperty(c,h,w),w},y=this&&this.__param||function(n,c){return function(h,o){c(h,o,n)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharSizeService=void 0;const p=a(2585),v=a(8460),E=a(844);let C=class extends E.Disposable{constructor(n,c,h){super(),this._optionsService=h,this.width=0,this.height=0,this._onCharSizeChange=this.register(new v.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new g(n,c,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){const n=this._measureStrategy.measure();n.width===this.width&&n.height===this.height||(this.width=n.width,this.height=n.height,this._onCharSizeChange.fire())}};C=u([y(2,p.IOptionsService)],C),s.CharSizeService=C;class g{constructor(c,h,o){this._document=c,this._parentElement=h,this._optionsService=o,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const c=this._measureElement.getBoundingClientRect();return c.width!==0&&c.height!==0&&(this._result.width=c.width,this._result.height=Math.ceil(c.height)),this._result}}},4269:function(S,s,a){var u=this&&this.__decorate||function(c,h,o,d){var m,w=arguments.length,L=w<3?h:d===null?d=Object.getOwnPropertyDescriptor(h,o):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(c,h,o,d);else for(var _=c.length-1;_>=0;_--)(m=c[_])&&(L=(w<3?m(L):w>3?m(h,o,L):m(h,o))||L);return w>3&&L&&Object.defineProperty(h,o,L),L},y=this&&this.__param||function(c,h){return function(o,d){h(o,d,c)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterJoinerService=s.JoinedCellData=void 0;const p=a(3734),v=a(643),E=a(511),C=a(2585);class g extends p.AttributeData{constructor(h,o,d){super(),this.content=0,this.combinedData="",this.fg=h.fg,this.bg=h.bg,this.combinedData=o,this._width=d}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(h){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.JoinedCellData=g;let n=class Fh{constructor(h){this._bufferService=h,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new E.CellData}register(h){const o={id:this._nextCharacterJoinerId++,handler:h};return this._characterJoiners.push(o),o.id}deregister(h){for(let o=0;o<this._characterJoiners.length;o++)if(this._characterJoiners[o].id===h)return this._characterJoiners.splice(o,1),!0;return!1}getJoinedCharacters(h){if(this._characterJoiners.length===0)return[];const o=this._bufferService.buffer.lines.get(h);if(!o||o.length===0)return[];const d=[],m=o.translateToString(!0);let w=0,L=0,_=0,k=o.getFg(0),x=o.getBg(0);for(let A=0;A<o.getTrimmedLength();A++)if(o.loadCell(A,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==k||this._workCell.bg!==x){if(A-w>1){const P=this._getJoinedRanges(m,_,L,o,w);for(let O=0;O<P.length;O++)d.push(P[O])}w=A,_=L,k=this._workCell.fg,x=this._workCell.bg}L+=this._workCell.getChars().length||v.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-w>1){const A=this._getJoinedRanges(m,_,L,o,w);for(let P=0;P<A.length;P++)d.push(A[P])}return d}_getJoinedRanges(h,o,d,m,w){const L=h.substring(o,d);let _=[];try{_=this._characterJoiners[0].handler(L)}catch(k){console.error(k)}for(let k=1;k<this._characterJoiners.length;k++)try{const x=this._characterJoiners[k].handler(L);for(let A=0;A<x.length;A++)Fh._mergeRanges(_,x[A])}catch(x){console.error(x)}return this._stringRangesToCellRanges(_,m,w),_}_stringRangesToCellRanges(h,o,d){let m=0,w=!1,L=0,_=h[m];if(_){for(let k=d;k<this._bufferService.cols;k++){const x=o.getWidth(k),A=o.getString(k).length||v.WHITESPACE_CELL_CHAR.length;if(x!==0){if(!w&&_[0]<=L&&(_[0]=k,w=!0),_[1]<=L){if(_[1]=k,_=h[++m],!_)break;_[0]<=L?(_[0]=k,w=!0):w=!1}L+=A}}_&&(_[1]=this._bufferService.cols)}}static _mergeRanges(h,o){let d=!1;for(let m=0;m<h.length;m++){const w=h[m];if(d){if(o[1]<=w[0])return h[m-1][1]=o[1],h;if(o[1]<=w[1])return h[m-1][1]=Math.max(o[1],w[1]),h.splice(m,1),h;h.splice(m,1),m--}else{if(o[1]<=w[0])return h.splice(m,0,o),h;if(o[1]<=w[1])return w[0]=Math.min(o[0],w[0]),h;o[0]<w[1]&&(w[0]=Math.min(o[0],w[0]),d=!0)}}return d?h[h.length-1][1]=o[1]:h.push(o),h}};n=u([y(0,C.IBufferService)],n),s.CharacterJoinerService=n},5114:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreBrowserService=void 0,s.CoreBrowserService=class{constructor(a,u){this._textarea=a,this.window=u,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(S,s,a){var u=this&&this.__decorate||function(C,g,n,c){var h,o=arguments.length,d=o<3?g:c===null?c=Object.getOwnPropertyDescriptor(g,n):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(C,g,n,c);else for(var m=C.length-1;m>=0;m--)(h=C[m])&&(d=(o<3?h(d):o>3?h(g,n,d):h(g,n))||d);return o>3&&d&&Object.defineProperty(g,n,d),d},y=this&&this.__param||function(C,g){return function(n,c){g(n,c,C)}};Object.defineProperty(s,"__esModule",{value:!0}),s.MouseService=void 0;const p=a(4725),v=a(9806);let E=class{constructor(C,g){this._renderService=C,this._charSizeService=g}getCoords(C,g,n,c,h){return(0,v.getCoords)(window,C,g,n,c,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,h)}getMouseReportCoords(C,g){const n=(0,v.getCoordsRelativeToElement)(window,C,g);if(!(!this._charSizeService.hasValidSize||n[0]<0||n[1]<0||n[0]>=this._renderService.dimensions.css.canvas.width||n[1]>=this._renderService.dimensions.css.canvas.height))return{col:Math.floor(n[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(n[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(n[0]),y:Math.floor(n[1])}}};E=u([y(0,p.IRenderService),y(1,p.ICharSizeService)],E),s.MouseService=E},3230:function(S,s,a){var u=this&&this.__decorate||function(d,m,w,L){var _,k=arguments.length,x=k<3?m:L===null?L=Object.getOwnPropertyDescriptor(m,w):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,m,w,L);else for(var A=d.length-1;A>=0;A--)(_=d[A])&&(x=(k<3?_(x):k>3?_(m,w,x):_(m,w))||x);return k>3&&x&&Object.defineProperty(m,w,x),x},y=this&&this.__param||function(d,m){return function(w,L){m(w,L,d)}};Object.defineProperty(s,"__esModule",{value:!0}),s.RenderService=void 0;const p=a(6193),v=a(8460),E=a(844),C=a(5596),g=a(3656),n=a(2585),c=a(4725),h=a(7226);let o=class extends E.Disposable{constructor(d,m,w,L,_,k,x,A){if(super(),this._rowCount=d,this._charSizeService=L,this._pausedResizeTask=new h.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new v.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new v.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new v.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new v.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this.register({dispose:()=>{var P;return(P=this._renderer)===null||P===void 0?void 0:P.dispose()}}),this._renderDebouncer=new p.RenderDebouncer(x.window,(P,O)=>this._renderRows(P,O)),this.register(this._renderDebouncer),this._screenDprMonitor=new C.ScreenDprMonitor(x.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(k.onResize(()=>this._fullRefresh())),this.register(k.buffers.onBufferActivate(()=>{var P;return(P=this._renderer)===null||P===void 0?void 0:P.clear()})),this.register(w.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(_.onDecorationRegistered(()=>this._fullRefresh())),this.register(_.onDecorationRemoved(()=>this._fullRefresh())),this.register(w.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(k.cols,k.rows),this._fullRefresh()})),this.register(w.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(k.buffer.y,k.buffer.y,!0))),this.register((0,g.addDisposableDomListener)(x.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(A.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in x.window){const P=new x.window.IntersectionObserver(O=>this._handleIntersectionChange(O[O.length-1]),{threshold:0});P.observe(m),this.register({dispose:()=>P.disconnect()})}}get dimensions(){return this._renderer.dimensions}_handleIntersectionChange(d){this._isPaused=d.isIntersecting===void 0?d.intersectionRatio===0:!d.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(d,m,w=!1){this._isPaused?this._needsFullRefresh=!0:(w||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(d,m,this._rowCount))}_renderRows(d,m){this._renderer&&(this._renderer.renderRows(d,m),this._needsSelectionRefresh&&(this._renderer.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:d,end:m}),this._onRender.fire({start:d,end:m}),this._isNextRenderRedrawOnly=!0)}resize(d,m){this._rowCount=m,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer&&(this._renderer.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions))}hasRenderer(){return!!this._renderer}setRenderer(d){var m;(m=this._renderer)===null||m===void 0||m.dispose(),this._renderer=d,this._renderer.onRequestRedraw(w=>this.refreshRows(w.start,w.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(d){return this._renderDebouncer.addRefreshCallback(d)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var d,m;this._renderer&&((m=(d=this._renderer).clearTextureAtlas)===null||m===void 0||m.call(d),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer&&(this._renderer.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(d,m){this._renderer&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.handleResize(d,m)):this._renderer.handleResize(d,m),this._fullRefresh())}handleCharSizeChanged(){var d;(d=this._renderer)===null||d===void 0||d.handleCharSizeChanged()}handleBlur(){var d;(d=this._renderer)===null||d===void 0||d.handleBlur()}handleFocus(){var d;(d=this._renderer)===null||d===void 0||d.handleFocus()}handleSelectionChanged(d,m,w){var L;this._selectionState.start=d,this._selectionState.end=m,this._selectionState.columnSelectMode=w,(L=this._renderer)===null||L===void 0||L.handleSelectionChanged(d,m,w)}handleCursorMove(){var d;(d=this._renderer)===null||d===void 0||d.handleCursorMove()}clear(){var d;(d=this._renderer)===null||d===void 0||d.clear()}};o=u([y(2,n.IOptionsService),y(3,c.ICharSizeService),y(4,n.IDecorationService),y(5,n.IBufferService),y(6,c.ICoreBrowserService),y(7,c.IThemeService)],o),s.RenderService=o},9312:function(S,s,a){var u=this&&this.__decorate||function(_,k,x,A){var P,O=arguments.length,H=O<3?k:A===null?A=Object.getOwnPropertyDescriptor(k,x):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(_,k,x,A);else for(var j=_.length-1;j>=0;j--)(P=_[j])&&(H=(O<3?P(H):O>3?P(k,x,H):P(k,x))||H);return O>3&&H&&Object.defineProperty(k,x,H),H},y=this&&this.__param||function(_,k){return function(x,A){k(x,A,_)}};Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionService=void 0;const p=a(6114),v=a(456),E=a(511),C=a(8460),g=a(4725),n=a(2585),c=a(9806),h=a(9504),o=a(844),d=a(4841),m=String.fromCharCode(160),w=new RegExp(m,"g");let L=class extends o.Disposable{constructor(_,k,x,A,P,O,H,j,$){super(),this._element=_,this._screenElement=k,this._linkifier=x,this._bufferService=A,this._coreService=P,this._mouseService=O,this._optionsService=H,this._renderService=j,this._coreBrowserService=$,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new E.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new C.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new C.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new C.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new C.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=b=>this._handleMouseMove(b),this._mouseUpListener=b=>this._handleMouseUp(b),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(b=>this._handleTrim(b)),this.register(this._bufferService.buffers.onBufferActivate(b=>this._handleBufferActivate(b))),this.enable(),this._model=new v.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,o.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const _=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!_||!k||_[0]===k[0]&&_[1]===k[1])}get selectionText(){const _=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;if(!_||!k)return"";const x=this._bufferService.buffer,A=[];if(this._activeSelectionMode===3){if(_[0]===k[0])return"";const P=_[0]<k[0]?_[0]:k[0],O=_[0]<k[0]?k[0]:_[0];for(let H=_[1];H<=k[1];H++){const j=x.translateBufferLineToString(H,!0,P,O);A.push(j)}}else{const P=_[1]===k[1]?k[0]:void 0;A.push(x.translateBufferLineToString(_[1],!0,_[0],P));for(let O=_[1]+1;O<=k[1]-1;O++){const H=x.lines.get(O),j=x.translateBufferLineToString(O,!0);H!=null&&H.isWrapped?A[A.length-1]+=j:A.push(j)}if(_[1]!==k[1]){const O=x.lines.get(k[1]),H=x.translateBufferLineToString(k[1],!0,0,k[0]);O&&O.isWrapped?A[A.length-1]+=H:A.push(H)}}return A.map(P=>P.replace(w," ")).join(p.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(_){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),p.isLinux&&_&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(_){const k=this._getMouseBufferCoords(_),x=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!!(x&&A&&k)&&this._areCoordsInSelection(k,x,A)}isCellInSelection(_,k){const x=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!(!x||!A)&&this._areCoordsInSelection([_,k],x,A)}_areCoordsInSelection(_,k,x){return _[1]>k[1]&&_[1]<x[1]||k[1]===x[1]&&_[1]===k[1]&&_[0]>=k[0]&&_[0]<x[0]||k[1]<x[1]&&_[1]===x[1]&&_[0]<x[0]||k[1]<x[1]&&_[1]===k[1]&&_[0]>=k[0]}_selectWordAtCursor(_,k){var x,A;const P=(A=(x=this._linkifier.currentLink)===null||x===void 0?void 0:x.link)===null||A===void 0?void 0:A.range;if(P)return this._model.selectionStart=[P.start.x-1,P.start.y-1],this._model.selectionStartLength=(0,d.getRangeLength)(P,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const O=this._getMouseBufferCoords(_);return!!O&&(this._selectWordAt(O,k),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(_,k){this._model.clearSelection(),_=Math.max(_,0),k=Math.min(k,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,_],this._model.selectionEnd=[this._bufferService.cols,k],this.refresh(),this._onSelectionChange.fire()}_handleTrim(_){this._model.handleTrim(_)&&this.refresh()}_getMouseBufferCoords(_){const k=this._mouseService.getCoords(_,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(k)return k[0]--,k[1]--,k[1]+=this._bufferService.buffer.ydisp,k}_getMouseEventScrollAmount(_){let k=(0,c.getCoordsRelativeToElement)(this._coreBrowserService.window,_,this._screenElement)[1];const x=this._renderService.dimensions.css.canvas.height;return k>=0&&k<=x?0:(k>x&&(k-=x),k=Math.min(Math.max(k,-50),50),k/=50,k/Math.abs(k)+Math.round(14*k))}shouldForceSelection(_){return p.isMac?_.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:_.shiftKey}handleMouseDown(_){if(this._mouseDownTimeStamp=_.timeStamp,(_.button!==2||!this.hasSelection)&&_.button===0){if(!this._enabled){if(!this.shouldForceSelection(_))return;_.stopPropagation()}_.preventDefault(),this._dragScrollAmount=0,this._enabled&&_.shiftKey?this._handleIncrementalClick(_):_.detail===1?this._handleSingleClick(_):_.detail===2?this._handleDoubleClick(_):_.detail===3&&this._handleTripleClick(_),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(_){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(_))}_handleSingleClick(_){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(_)?3:0,this._model.selectionStart=this._getMouseBufferCoords(_),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const k=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);k&&k.length!==this._model.selectionStart[0]&&k.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(_){this._selectWordAtCursor(_,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(_){const k=this._getMouseBufferCoords(_);k&&(this._activeSelectionMode=2,this._selectLineAt(k[1]))}shouldColumnSelect(_){return _.altKey&&!(p.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(_){if(_.stopImmediatePropagation(),!this._model.selectionStart)return;const k=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(_),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(_),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const x=this._bufferService.buffer;if(this._model.selectionEnd[1]<x.lines.length){const A=x.lines.get(this._model.selectionEnd[1]);A&&A.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}k&&k[0]===this._model.selectionEnd[0]&&k[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const _=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(_.ydisp+this._bufferService.rows,_.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=_.ydisp),this.refresh()}}_handleMouseUp(_){const k=_.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&k<500&&_.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const x=this._mouseService.getCoords(_,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(x&&x[0]!==void 0&&x[1]!==void 0){const A=(0,h.moveToCellSequence)(x[0]-1,x[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(A,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const _=this._model.finalSelectionStart,k=this._model.finalSelectionEnd,x=!(!_||!k||_[0]===k[0]&&_[1]===k[1]);x?_&&k&&(this._oldSelectionStart&&this._oldSelectionEnd&&_[0]===this._oldSelectionStart[0]&&_[1]===this._oldSelectionStart[1]&&k[0]===this._oldSelectionEnd[0]&&k[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(_,k,x)):this._oldHasSelection&&this._fireOnSelectionChange(_,k,x)}_fireOnSelectionChange(_,k,x){this._oldSelectionStart=_,this._oldSelectionEnd=k,this._oldHasSelection=x,this._onSelectionChange.fire()}_handleBufferActivate(_){this.clearSelection(),this._trimListener.dispose(),this._trimListener=_.activeBuffer.lines.onTrim(k=>this._handleTrim(k))}_convertViewportColToCharacterIndex(_,k){let x=k;for(let A=0;k>=A;A++){const P=_.loadCell(A,this._workCell).getChars().length;this._workCell.getWidth()===0?x--:P>1&&k!==A&&(x+=P-1)}return x}setSelection(_,k,x){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[_,k],this._model.selectionStartLength=x,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(_){this._isClickInSelection(_)||(this._selectWordAtCursor(_,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(_,k,x=!0,A=!0){if(_[0]>=this._bufferService.cols)return;const P=this._bufferService.buffer,O=P.lines.get(_[1]);if(!O)return;const H=P.translateBufferLineToString(_[1],!1);let j=this._convertViewportColToCharacterIndex(O,_[0]),$=j;const b=_[0]-j;let R=0,D=0,T=0,F=0;if(H.charAt(j)===" "){for(;j>0&&H.charAt(j-1)===" ";)j--;for(;$<H.length&&H.charAt($+1)===" ";)$++}else{let W=_[0],X=_[0];O.getWidth(W)===0&&(R++,W--),O.getWidth(X)===2&&(D++,X++);const B=O.getString(X).length;for(B>1&&(F+=B-1,$+=B-1);W>0&&j>0&&!this._isCharWordSeparator(O.loadCell(W-1,this._workCell));){O.loadCell(W-1,this._workCell);const M=this._workCell.getChars().length;this._workCell.getWidth()===0?(R++,W--):M>1&&(T+=M-1,j-=M-1),j--,W--}for(;X<O.length&&$+1<H.length&&!this._isCharWordSeparator(O.loadCell(X+1,this._workCell));){O.loadCell(X+1,this._workCell);const M=this._workCell.getChars().length;this._workCell.getWidth()===2?(D++,X++):M>1&&(F+=M-1,$+=M-1),$++,X++}}$++;let z=j+b-R+T,G=Math.min(this._bufferService.cols,$-j+R+D-T-F);if(k||H.slice(j,$).trim()!==""){if(x&&z===0&&O.getCodePoint(0)!==32){const W=P.lines.get(_[1]-1);if(W&&O.isWrapped&&W.getCodePoint(this._bufferService.cols-1)!==32){const X=this._getWordAt([this._bufferService.cols-1,_[1]-1],!1,!0,!1);if(X){const B=this._bufferService.cols-X.start;z-=B,G+=B}}}if(A&&z+G===this._bufferService.cols&&O.getCodePoint(this._bufferService.cols-1)!==32){const W=P.lines.get(_[1]+1);if(W!=null&&W.isWrapped&&W.getCodePoint(0)!==32){const X=this._getWordAt([0,_[1]+1],!1,!1,!0);X&&(G+=X.length)}}return{start:z,length:G}}}_selectWordAt(_,k){const x=this._getWordAt(_,k);if(x){for(;x.start<0;)x.start+=this._bufferService.cols,_[1]--;this._model.selectionStart=[x.start,_[1]],this._model.selectionStartLength=x.length}}_selectToWordAt(_){const k=this._getWordAt(_,!0);if(k){let x=_[1];for(;k.start<0;)k.start+=this._bufferService.cols,x--;if(!this._model.areSelectionValuesReversed())for(;k.start+k.length>this._bufferService.cols;)k.length-=this._bufferService.cols,x++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?k.start:k.start+k.length,x]}}_isCharWordSeparator(_){return _.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(_.getChars())>=0}_selectLineAt(_){const k=this._bufferService.buffer.getWrappedRangeForLine(_),x={start:{x:0,y:k.first},end:{x:this._bufferService.cols-1,y:k.last}};this._model.selectionStart=[0,k.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,d.getRangeLength)(x,this._bufferService.cols)}};L=u([y(3,n.IBufferService),y(4,n.ICoreService),y(5,g.IMouseService),y(6,n.IOptionsService),y(7,g.IRenderService),y(8,g.ICoreBrowserService)],L),s.SelectionService=L},4725:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IThemeService=s.ICharacterJoinerService=s.ISelectionService=s.IRenderService=s.IMouseService=s.ICoreBrowserService=s.ICharSizeService=void 0;const u=a(8343);s.ICharSizeService=(0,u.createDecorator)("CharSizeService"),s.ICoreBrowserService=(0,u.createDecorator)("CoreBrowserService"),s.IMouseService=(0,u.createDecorator)("MouseService"),s.IRenderService=(0,u.createDecorator)("RenderService"),s.ISelectionService=(0,u.createDecorator)("SelectionService"),s.ICharacterJoinerService=(0,u.createDecorator)("CharacterJoinerService"),s.IThemeService=(0,u.createDecorator)("ThemeService")},6731:function(S,s,a){var u=this&&this.__decorate||function(L,_,k,x){var A,P=arguments.length,O=P<3?_:x===null?x=Object.getOwnPropertyDescriptor(_,k):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(L,_,k,x);else for(var H=L.length-1;H>=0;H--)(A=L[H])&&(O=(P<3?A(O):P>3?A(_,k,O):A(_,k))||O);return P>3&&O&&Object.defineProperty(_,k,O),O},y=this&&this.__param||function(L,_){return function(k,x){_(k,x,L)}};Object.defineProperty(s,"__esModule",{value:!0}),s.ThemeService=s.DEFAULT_ANSI_COLORS=void 0;const p=a(7239),v=a(8055),E=a(8460),C=a(844),g=a(2585),n=v.css.toColor("#ffffff"),c=v.css.toColor("#000000"),h=v.css.toColor("#ffffff"),o=v.css.toColor("#000000"),d={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};s.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const L=[v.css.toColor("#2e3436"),v.css.toColor("#cc0000"),v.css.toColor("#4e9a06"),v.css.toColor("#c4a000"),v.css.toColor("#3465a4"),v.css.toColor("#75507b"),v.css.toColor("#06989a"),v.css.toColor("#d3d7cf"),v.css.toColor("#555753"),v.css.toColor("#ef2929"),v.css.toColor("#8ae234"),v.css.toColor("#fce94f"),v.css.toColor("#729fcf"),v.css.toColor("#ad7fa8"),v.css.toColor("#34e2e2"),v.css.toColor("#eeeeec")],_=[0,95,135,175,215,255];for(let k=0;k<216;k++){const x=_[k/36%6|0],A=_[k/6%6|0],P=_[k%6];L.push({css:v.channels.toCss(x,A,P),rgba:v.channels.toRgba(x,A,P)})}for(let k=0;k<24;k++){const x=8+10*k;L.push({css:v.channels.toCss(x,x,x),rgba:v.channels.toRgba(x,x,x)})}return L})());let m=class extends C.Disposable{constructor(L){super(),this._optionsService=L,this._onChangeColors=this.register(new E.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._contrastCache=new p.ColorContrastCache,this._colors={foreground:n,background:c,cursor:h,cursorAccent:o,selectionForeground:void 0,selectionBackgroundTransparent:d,selectionBackgroundOpaque:v.color.blend(c,d),selectionInactiveBackgroundTransparent:d,selectionInactiveBackgroundOpaque:v.color.blend(c,d),ansi:s.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(L={}){const _=this._colors;if(_.foreground=w(L.foreground,n),_.background=w(L.background,c),_.cursor=w(L.cursor,h),_.cursorAccent=w(L.cursorAccent,o),_.selectionBackgroundTransparent=w(L.selectionBackground,d),_.selectionBackgroundOpaque=v.color.blend(_.background,_.selectionBackgroundTransparent),_.selectionInactiveBackgroundTransparent=w(L.selectionInactiveBackground,_.selectionBackgroundTransparent),_.selectionInactiveBackgroundOpaque=v.color.blend(_.background,_.selectionInactiveBackgroundTransparent),_.selectionForeground=L.selectionForeground?w(L.selectionForeground,v.NULL_COLOR):void 0,_.selectionForeground===v.NULL_COLOR&&(_.selectionForeground=void 0),v.color.isOpaque(_.selectionBackgroundTransparent)&&(_.selectionBackgroundTransparent=v.color.opacity(_.selectionBackgroundTransparent,.3)),v.color.isOpaque(_.selectionInactiveBackgroundTransparent)&&(_.selectionInactiveBackgroundTransparent=v.color.opacity(_.selectionInactiveBackgroundTransparent,.3)),_.ansi=s.DEFAULT_ANSI_COLORS.slice(),_.ansi[0]=w(L.black,s.DEFAULT_ANSI_COLORS[0]),_.ansi[1]=w(L.red,s.DEFAULT_ANSI_COLORS[1]),_.ansi[2]=w(L.green,s.DEFAULT_ANSI_COLORS[2]),_.ansi[3]=w(L.yellow,s.DEFAULT_ANSI_COLORS[3]),_.ansi[4]=w(L.blue,s.DEFAULT_ANSI_COLORS[4]),_.ansi[5]=w(L.magenta,s.DEFAULT_ANSI_COLORS[5]),_.ansi[6]=w(L.cyan,s.DEFAULT_ANSI_COLORS[6]),_.ansi[7]=w(L.white,s.DEFAULT_ANSI_COLORS[7]),_.ansi[8]=w(L.brightBlack,s.DEFAULT_ANSI_COLORS[8]),_.ansi[9]=w(L.brightRed,s.DEFAULT_ANSI_COLORS[9]),_.ansi[10]=w(L.brightGreen,s.DEFAULT_ANSI_COLORS[10]),_.ansi[11]=w(L.brightYellow,s.DEFAULT_ANSI_COLORS[11]),_.ansi[12]=w(L.brightBlue,s.DEFAULT_ANSI_COLORS[12]),_.ansi[13]=w(L.brightMagenta,s.DEFAULT_ANSI_COLORS[13]),_.ansi[14]=w(L.brightCyan,s.DEFAULT_ANSI_COLORS[14]),_.ansi[15]=w(L.brightWhite,s.DEFAULT_ANSI_COLORS[15]),L.extendedAnsi){const k=Math.min(_.ansi.length-16,L.extendedAnsi.length);for(let x=0;x<k;x++)_.ansi[x+16]=w(L.extendedAnsi[x],s.DEFAULT_ANSI_COLORS[x+16])}this._contrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(L){this._restoreColor(L),this._onChangeColors.fire(this.colors)}_restoreColor(L){if(L!==void 0)switch(L){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[L]=this._restoreColors.ansi[L]}else for(let _=0;_<this._restoreColors.ansi.length;++_)this._colors.ansi[_]=this._restoreColors.ansi[_]}modifyColors(L){L(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function w(L,_){if(L!==void 0)try{return v.css.toColor(L)}catch{}return _}m=u([y(0,g.IOptionsService)],m),s.ThemeService=m},6349:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CircularList=void 0;const u=a(8460),y=a(844);class p extends y.Disposable{constructor(E){super(),this._maxLength=E,this.onDeleteEmitter=this.register(new u.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new u.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new u.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(E){if(this._maxLength===E)return;const C=new Array(E);for(let g=0;g<Math.min(E,this.length);g++)C[g]=this._array[this._getCyclicIndex(g)];this._array=C,this._maxLength=E,this._startIndex=0}get length(){return this._length}set length(E){if(E>this._length)for(let C=this._length;C<E;C++)this._array[C]=void 0;this._length=E}get(E){return this._array[this._getCyclicIndex(E)]}set(E,C){this._array[this._getCyclicIndex(E)]=C}push(E){this._array[this._getCyclicIndex(this._length)]=E,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(E,C,...g){if(C){for(let n=E;n<this._length-C;n++)this._array[this._getCyclicIndex(n)]=this._array[this._getCyclicIndex(n+C)];this._length-=C,this.onDeleteEmitter.fire({index:E,amount:C})}for(let n=this._length-1;n>=E;n--)this._array[this._getCyclicIndex(n+g.length)]=this._array[this._getCyclicIndex(n)];for(let n=0;n<g.length;n++)this._array[this._getCyclicIndex(E+n)]=g[n];if(g.length&&this.onInsertEmitter.fire({index:E,amount:g.length}),this._length+g.length>this._maxLength){const n=this._length+g.length-this._maxLength;this._startIndex+=n,this._length=this._maxLength,this.onTrimEmitter.fire(n)}else this._length+=g.length}trimStart(E){E>this._length&&(E=this._length),this._startIndex+=E,this._length-=E,this.onTrimEmitter.fire(E)}shiftElements(E,C,g){if(!(C<=0)){if(E<0||E>=this._length)throw new Error("start argument out of range");if(E+g<0)throw new Error("Cannot shift elements in list beyond index 0");if(g>0){for(let c=C-1;c>=0;c--)this.set(E+c+g,this.get(E+c));const n=E+C+g-this._length;if(n>0)for(this._length+=n;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let n=0;n<C;n++)this.set(E+n+g,this.get(E+n))}}_getCyclicIndex(E){return(this._startIndex+E)%this._maxLength}}s.CircularList=p},1439:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.clone=void 0,s.clone=function a(u,y=5){if(typeof u!="object")return u;const p=Array.isArray(u)?[]:{};for(const v in u)p[v]=y<=1?u[v]:u[v]&&a(u[v],y-1);return p}},8055:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.contrastRatio=s.toPaddedHex=s.rgba=s.rgb=s.css=s.color=s.channels=s.NULL_COLOR=void 0;const u=a(6114);let y=0,p=0,v=0,E=0;var C,g,n;function c(o){const d=o.toString(16);return d.length<2?"0"+d:d}function h(o,d){return o<d?(d+.05)/(o+.05):(o+.05)/(d+.05)}s.NULL_COLOR={css:"#00000000",rgba:0},function(o){o.toCss=function(d,m,w,L){return L!==void 0?`#${c(d)}${c(m)}${c(w)}${c(L)}`:`#${c(d)}${c(m)}${c(w)}`},o.toRgba=function(d,m,w,L=255){return(d<<24|m<<16|w<<8|L)>>>0}}(C=s.channels||(s.channels={})),function(o){function d(m,w){return E=Math.round(255*w),[y,p,v]=n.toChannels(m.rgba),{css:C.toCss(y,p,v,E),rgba:C.toRgba(y,p,v,E)}}o.blend=function(m,w){if(E=(255&w.rgba)/255,E===1)return{css:w.css,rgba:w.rgba};const L=w.rgba>>24&255,_=w.rgba>>16&255,k=w.rgba>>8&255,x=m.rgba>>24&255,A=m.rgba>>16&255,P=m.rgba>>8&255;return y=x+Math.round((L-x)*E),p=A+Math.round((_-A)*E),v=P+Math.round((k-P)*E),{css:C.toCss(y,p,v),rgba:C.toRgba(y,p,v)}},o.isOpaque=function(m){return(255&m.rgba)==255},o.ensureContrastRatio=function(m,w,L){const _=n.ensureContrastRatio(m.rgba,w.rgba,L);if(_)return n.toColor(_>>24&255,_>>16&255,_>>8&255)},o.opaque=function(m){const w=(255|m.rgba)>>>0;return[y,p,v]=n.toChannels(w),{css:C.toCss(y,p,v),rgba:w}},o.opacity=d,o.multiplyOpacity=function(m,w){return E=255&m.rgba,d(m,E*w/255)},o.toColorRGB=function(m){return[m.rgba>>24&255,m.rgba>>16&255,m.rgba>>8&255]}}(s.color||(s.color={})),function(o){let d,m;if(!u.isNode){const w=document.createElement("canvas");w.width=1,w.height=1;const L=w.getContext("2d",{willReadFrequently:!0});L&&(d=L,d.globalCompositeOperation="copy",m=d.createLinearGradient(0,0,1,1))}o.toColor=function(w){if(w.match(/#[\da-f]{3,8}/i))switch(w.length){case 4:return y=parseInt(w.slice(1,2).repeat(2),16),p=parseInt(w.slice(2,3).repeat(2),16),v=parseInt(w.slice(3,4).repeat(2),16),n.toColor(y,p,v);case 5:return y=parseInt(w.slice(1,2).repeat(2),16),p=parseInt(w.slice(2,3).repeat(2),16),v=parseInt(w.slice(3,4).repeat(2),16),E=parseInt(w.slice(4,5).repeat(2),16),n.toColor(y,p,v,E);case 7:return{css:w,rgba:(parseInt(w.slice(1),16)<<8|255)>>>0};case 9:return{css:w,rgba:parseInt(w.slice(1),16)>>>0}}const L=w.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(L)return y=parseInt(L[1]),p=parseInt(L[2]),v=parseInt(L[3]),E=Math.round(255*(L[5]===void 0?1:parseFloat(L[5]))),n.toColor(y,p,v,E);if(!d||!m)throw new Error("css.toColor: Unsupported css format");if(d.fillStyle=m,d.fillStyle=w,typeof d.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(d.fillRect(0,0,1,1),[y,p,v,E]=d.getImageData(0,0,1,1).data,E!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:C.toRgba(y,p,v,E),css:w}}}(s.css||(s.css={})),function(o){function d(m,w,L){const _=m/255,k=w/255,x=L/255;return .2126*(_<=.03928?_/12.92:Math.pow((_+.055)/1.055,2.4))+.7152*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))+.0722*(x<=.03928?x/12.92:Math.pow((x+.055)/1.055,2.4))}o.relativeLuminance=function(m){return d(m>>16&255,m>>8&255,255&m)},o.relativeLuminance2=d}(g=s.rgb||(s.rgb={})),function(o){function d(w,L,_){const k=w>>24&255,x=w>>16&255,A=w>>8&255;let P=L>>24&255,O=L>>16&255,H=L>>8&255,j=h(g.relativeLuminance2(P,O,H),g.relativeLuminance2(k,x,A));for(;j<_&&(P>0||O>0||H>0);)P-=Math.max(0,Math.ceil(.1*P)),O-=Math.max(0,Math.ceil(.1*O)),H-=Math.max(0,Math.ceil(.1*H)),j=h(g.relativeLuminance2(P,O,H),g.relativeLuminance2(k,x,A));return(P<<24|O<<16|H<<8|255)>>>0}function m(w,L,_){const k=w>>24&255,x=w>>16&255,A=w>>8&255;let P=L>>24&255,O=L>>16&255,H=L>>8&255,j=h(g.relativeLuminance2(P,O,H),g.relativeLuminance2(k,x,A));for(;j<_&&(P<255||O<255||H<255);)P=Math.min(255,P+Math.ceil(.1*(255-P))),O=Math.min(255,O+Math.ceil(.1*(255-O))),H=Math.min(255,H+Math.ceil(.1*(255-H))),j=h(g.relativeLuminance2(P,O,H),g.relativeLuminance2(k,x,A));return(P<<24|O<<16|H<<8|255)>>>0}o.ensureContrastRatio=function(w,L,_){const k=g.relativeLuminance(w>>8),x=g.relativeLuminance(L>>8);if(h(k,x)<_){if(x<k){const O=d(w,L,_),H=h(k,g.relativeLuminance(O>>8));if(H<_){const j=m(w,L,_);return H>h(k,g.relativeLuminance(j>>8))?O:j}return O}const A=m(w,L,_),P=h(k,g.relativeLuminance(A>>8));if(P<_){const O=d(w,L,_);return P>h(k,g.relativeLuminance(O>>8))?A:O}return A}},o.reduceLuminance=d,o.increaseLuminance=m,o.toChannels=function(w){return[w>>24&255,w>>16&255,w>>8&255,255&w]},o.toColor=function(w,L,_,k){return{css:C.toCss(w,L,_,k),rgba:C.toRgba(w,L,_,k)}}}(n=s.rgba||(s.rgba={})),s.toPaddedHex=c,s.contrastRatio=h},8969:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreTerminal=void 0;const u=a(844),y=a(2585),p=a(4348),v=a(7866),E=a(744),C=a(7302),g=a(6975),n=a(8460),c=a(1753),h=a(1480),o=a(7994),d=a(9282),m=a(5435),w=a(5981),L=a(2660);let _=!1;class k extends u.Disposable{constructor(A){super(),this._onBinary=this.register(new n.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new n.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new n.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new n.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new n.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new n.EventEmitter),this._instantiationService=new p.InstantiationService,this.optionsService=this.register(new C.OptionsService(A)),this._instantiationService.setService(y.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(E.BufferService)),this._instantiationService.setService(y.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(v.LogService)),this._instantiationService.setService(y.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(g.CoreService)),this._instantiationService.setService(y.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(c.CoreMouseService)),this._instantiationService.setService(y.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(h.UnicodeService)),this._instantiationService.setService(y.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(o.CharsetService),this._instantiationService.setService(y.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(L.OscLinkService),this._instantiationService.setService(y.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new m.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,n.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,n.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,n.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,n.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onSpecificOptionChange("windowsMode",P=>this._handleWindowsModeOptionChange(P))),this.register(this._bufferService.onScroll(P=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(P=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new w.WriteBuffer((P,O)=>this._inputHandler.parse(P,O))),this.register((0,n.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed)),this.register((0,u.toDisposable)(()=>{var P;(P=this._windowsMode)===null||P===void 0||P.dispose(),this._windowsMode=void 0}))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new n.EventEmitter),this._onScroll.event(A=>{var P;(P=this._onScrollApi)===null||P===void 0||P.fire(A.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(A){for(const P in A)this.optionsService.options[P]=A[P]}write(A,P){this._writeBuffer.write(A,P)}writeSync(A,P){this._logService.logLevel<=y.LogLevelEnum.WARN&&!_&&(this._logService.warn("writeSync is unreliable and will be removed soon."),_=!0),this._writeBuffer.writeSync(A,P)}resize(A,P){isNaN(A)||isNaN(P)||(A=Math.max(A,E.MINIMUM_COLS),P=Math.max(P,E.MINIMUM_ROWS),this._bufferService.resize(A,P))}scroll(A,P=!1){this._bufferService.scroll(A,P)}scrollLines(A,P,O){this._bufferService.scrollLines(A,P,O)}scrollPages(A){this._bufferService.scrollPages(A)}scrollToTop(){this._bufferService.scrollToTop()}scrollToBottom(){this._bufferService.scrollToBottom()}scrollToLine(A){this._bufferService.scrollToLine(A)}registerEscHandler(A,P){return this._inputHandler.registerEscHandler(A,P)}registerDcsHandler(A,P){return this._inputHandler.registerDcsHandler(A,P)}registerCsiHandler(A,P){return this._inputHandler.registerCsiHandler(A,P)}registerOscHandler(A,P){return this._inputHandler.registerOscHandler(A,P)}_setup(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsModeOptionChange(A){var P;A?this._enableWindowsMode():((P=this._windowsMode)===null||P===void 0||P.dispose(),this._windowsMode=void 0)}_enableWindowsMode(){if(!this._windowsMode){const A=[];A.push(this.onLineFeed(d.updateWindowsModeWrappedState.bind(null,this._bufferService))),A.push(this.registerCsiHandler({final:"H"},()=>((0,d.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsMode={dispose:()=>{for(const P of A)P.dispose()}}}}}s.CoreTerminal=k},8460:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.forwardEvent=s.EventEmitter=void 0,s.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=a=>(this._listeners.push(a),{dispose:()=>{if(!this._disposed){for(let u=0;u<this._listeners.length;u++)if(this._listeners[u]===a)return void this._listeners.splice(u,1)}}})),this._event}fire(a,u){const y=[];for(let p=0;p<this._listeners.length;p++)y.push(this._listeners[p]);for(let p=0;p<y.length;p++)y[p].call(void 0,a,u)}dispose(){this._listeners&&(this._listeners.length=0),this._disposed=!0}},s.forwardEvent=function(a,u){return a(y=>u.fire(y))}},5435:function(S,s,a){var u=this&&this.__decorate||function($,b,R,D){var T,F=arguments.length,z=F<3?b:D===null?D=Object.getOwnPropertyDescriptor(b,R):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate($,b,R,D);else for(var G=$.length-1;G>=0;G--)(T=$[G])&&(z=(F<3?T(z):F>3?T(b,R,z):T(b,R))||z);return F>3&&z&&Object.defineProperty(b,R,z),z},y=this&&this.__param||function($,b){return function(R,D){b(R,D,$)}};Object.defineProperty(s,"__esModule",{value:!0}),s.InputHandler=s.WindowsOptionsReportType=void 0;const p=a(2584),v=a(7116),E=a(2015),C=a(844),g=a(482),n=a(8437),c=a(8460),h=a(643),o=a(511),d=a(3734),m=a(2585),w=a(6242),L=a(6351),_=a(5941),k={"(":0,")":1,"*":2,"+":3,"-":1,".":2},x=131072;function A($,b){if($>24)return b.setWinLines||!1;switch($){case 1:return!!b.restoreWin;case 2:return!!b.minimizeWin;case 3:return!!b.setWinPosition;case 4:return!!b.setWinSizePixels;case 5:return!!b.raiseWin;case 6:return!!b.lowerWin;case 7:return!!b.refreshWin;case 8:return!!b.setWinSizeChars;case 9:return!!b.maximizeWin;case 10:return!!b.fullscreenWin;case 11:return!!b.getWinState;case 13:return!!b.getWinPosition;case 14:return!!b.getWinSizePixels;case 15:return!!b.getScreenSizePixels;case 16:return!!b.getCellSizePixels;case 18:return!!b.getWinSizeChars;case 19:return!!b.getScreenSizeChars;case 20:return!!b.getIconTitle;case 21:return!!b.getWinTitle;case 22:return!!b.pushTitle;case 23:return!!b.popTitle;case 24:return!!b.setWinLines}return!1}var P;(function($){$[$.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",$[$.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(P=s.WindowsOptionsReportType||(s.WindowsOptionsReportType={}));let O=0;class H extends C.Disposable{constructor(b,R,D,T,F,z,G,W,X=new E.EscapeSequenceParser){super(),this._bufferService=b,this._charsetService=R,this._coreService=D,this._logService=T,this._optionsService=F,this._oscLinkService=z,this._coreMouseService=G,this._unicodeService=W,this._parser=X,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new g.StringToUtf32,this._utf8Decoder=new g.Utf8ToUtf32,this._workCell=new o.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=n.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new c.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new c.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new c.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new c.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new c.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new c.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new c.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new c.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new c.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new c.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new c.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new c.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new c.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new j(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(B=>this._activeBuffer=B.activeBuffer)),this._parser.setCsiHandlerFallback((B,M)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(B),params:M.toArray()})}),this._parser.setEscHandlerFallback(B=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(B)})}),this._parser.setExecuteHandlerFallback(B=>{this._logService.debug("Unknown EXECUTE code: ",{code:B})}),this._parser.setOscHandlerFallback((B,M,I)=>{this._logService.debug("Unknown OSC code: ",{identifier:B,action:M,data:I})}),this._parser.setDcsHandlerFallback((B,M,I)=>{M==="HOOK"&&(I=I.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(B),action:M,payload:I})}),this._parser.setPrintHandler((B,M,I)=>this.print(B,M,I)),this._parser.registerCsiHandler({final:"@"},B=>this.insertChars(B)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},B=>this.scrollLeft(B)),this._parser.registerCsiHandler({final:"A"},B=>this.cursorUp(B)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},B=>this.scrollRight(B)),this._parser.registerCsiHandler({final:"B"},B=>this.cursorDown(B)),this._parser.registerCsiHandler({final:"C"},B=>this.cursorForward(B)),this._parser.registerCsiHandler({final:"D"},B=>this.cursorBackward(B)),this._parser.registerCsiHandler({final:"E"},B=>this.cursorNextLine(B)),this._parser.registerCsiHandler({final:"F"},B=>this.cursorPrecedingLine(B)),this._parser.registerCsiHandler({final:"G"},B=>this.cursorCharAbsolute(B)),this._parser.registerCsiHandler({final:"H"},B=>this.cursorPosition(B)),this._parser.registerCsiHandler({final:"I"},B=>this.cursorForwardTab(B)),this._parser.registerCsiHandler({final:"J"},B=>this.eraseInDisplay(B,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},B=>this.eraseInDisplay(B,!0)),this._parser.registerCsiHandler({final:"K"},B=>this.eraseInLine(B,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},B=>this.eraseInLine(B,!0)),this._parser.registerCsiHandler({final:"L"},B=>this.insertLines(B)),this._parser.registerCsiHandler({final:"M"},B=>this.deleteLines(B)),this._parser.registerCsiHandler({final:"P"},B=>this.deleteChars(B)),this._parser.registerCsiHandler({final:"S"},B=>this.scrollUp(B)),this._parser.registerCsiHandler({final:"T"},B=>this.scrollDown(B)),this._parser.registerCsiHandler({final:"X"},B=>this.eraseChars(B)),this._parser.registerCsiHandler({final:"Z"},B=>this.cursorBackwardTab(B)),this._parser.registerCsiHandler({final:"`"},B=>this.charPosAbsolute(B)),this._parser.registerCsiHandler({final:"a"},B=>this.hPositionRelative(B)),this._parser.registerCsiHandler({final:"b"},B=>this.repeatPrecedingCharacter(B)),this._parser.registerCsiHandler({final:"c"},B=>this.sendDeviceAttributesPrimary(B)),this._parser.registerCsiHandler({prefix:">",final:"c"},B=>this.sendDeviceAttributesSecondary(B)),this._parser.registerCsiHandler({final:"d"},B=>this.linePosAbsolute(B)),this._parser.registerCsiHandler({final:"e"},B=>this.vPositionRelative(B)),this._parser.registerCsiHandler({final:"f"},B=>this.hVPosition(B)),this._parser.registerCsiHandler({final:"g"},B=>this.tabClear(B)),this._parser.registerCsiHandler({final:"h"},B=>this.setMode(B)),this._parser.registerCsiHandler({prefix:"?",final:"h"},B=>this.setModePrivate(B)),this._parser.registerCsiHandler({final:"l"},B=>this.resetMode(B)),this._parser.registerCsiHandler({prefix:"?",final:"l"},B=>this.resetModePrivate(B)),this._parser.registerCsiHandler({final:"m"},B=>this.charAttributes(B)),this._parser.registerCsiHandler({final:"n"},B=>this.deviceStatus(B)),this._parser.registerCsiHandler({prefix:"?",final:"n"},B=>this.deviceStatusPrivate(B)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},B=>this.softReset(B)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},B=>this.setCursorStyle(B)),this._parser.registerCsiHandler({final:"r"},B=>this.setScrollRegion(B)),this._parser.registerCsiHandler({final:"s"},B=>this.saveCursor(B)),this._parser.registerCsiHandler({final:"t"},B=>this.windowOptions(B)),this._parser.registerCsiHandler({final:"u"},B=>this.restoreCursor(B)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},B=>this.insertColumns(B)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},B=>this.deleteColumns(B)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},B=>this.selectProtected(B)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},B=>this.requestMode(B,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},B=>this.requestMode(B,!1)),this._parser.setExecuteHandler(p.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(p.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(p.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(p.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(p.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(p.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(p.C1.IND,()=>this.index()),this._parser.setExecuteHandler(p.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(p.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new w.OscHandler(B=>(this.setTitle(B),this.setIconName(B),!0))),this._parser.registerOscHandler(1,new w.OscHandler(B=>this.setIconName(B))),this._parser.registerOscHandler(2,new w.OscHandler(B=>this.setTitle(B))),this._parser.registerOscHandler(4,new w.OscHandler(B=>this.setOrReportIndexedColor(B))),this._parser.registerOscHandler(8,new w.OscHandler(B=>this.setHyperlink(B))),this._parser.registerOscHandler(10,new w.OscHandler(B=>this.setOrReportFgColor(B))),this._parser.registerOscHandler(11,new w.OscHandler(B=>this.setOrReportBgColor(B))),this._parser.registerOscHandler(12,new w.OscHandler(B=>this.setOrReportCursorColor(B))),this._parser.registerOscHandler(104,new w.OscHandler(B=>this.restoreIndexedColor(B))),this._parser.registerOscHandler(110,new w.OscHandler(B=>this.restoreFgColor(B))),this._parser.registerOscHandler(111,new w.OscHandler(B=>this.restoreBgColor(B))),this._parser.registerOscHandler(112,new w.OscHandler(B=>this.restoreCursorColor(B))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const B in v.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:B},()=>this.selectCharset("("+B)),this._parser.registerEscHandler({intermediates:")",final:B},()=>this.selectCharset(")"+B)),this._parser.registerEscHandler({intermediates:"*",final:B},()=>this.selectCharset("*"+B)),this._parser.registerEscHandler({intermediates:"+",final:B},()=>this.selectCharset("+"+B)),this._parser.registerEscHandler({intermediates:"-",final:B},()=>this.selectCharset("-"+B)),this._parser.registerEscHandler({intermediates:".",final:B},()=>this.selectCharset("."+B)),this._parser.registerEscHandler({intermediates:"/",final:B},()=>this.selectCharset("/"+B));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(B=>(this._logService.error("Parsing error: ",B),B)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new L.DcsHandler((B,M)=>this.requestStatusString(B,M)))}getAttrData(){return this._curAttrData}_preserveStack(b,R,D,T){this._parseStack.paused=!0,this._parseStack.cursorStartX=b,this._parseStack.cursorStartY=R,this._parseStack.decodedLength=D,this._parseStack.position=T}_logSlowResolvingAsync(b){this._logService.logLevel<=m.LogLevelEnum.WARN&&Promise.race([b,new Promise((R,D)=>setTimeout(()=>D("#SLOW_TIMEOUT"),5e3))]).catch(R=>{if(R!=="#SLOW_TIMEOUT")throw R;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(b,R){let D,T=this._activeBuffer.x,F=this._activeBuffer.y,z=0;const G=this._parseStack.paused;if(G){if(D=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,R))return this._logSlowResolvingAsync(D),D;T=this._parseStack.cursorStartX,F=this._parseStack.cursorStartY,this._parseStack.paused=!1,b.length>x&&(z=this._parseStack.position+x)}if(this._logService.logLevel<=m.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof b=="string"?` "${b}"`:` "${Array.prototype.map.call(b,W=>String.fromCharCode(W)).join("")}"`),typeof b=="string"?b.split("").map(W=>W.charCodeAt(0)):b),this._parseBuffer.length<b.length&&this._parseBuffer.length<x&&(this._parseBuffer=new Uint32Array(Math.min(b.length,x))),G||this._dirtyRowTracker.clearRange(),b.length>x)for(let W=z;W<b.length;W+=x){const X=W+x<b.length?W+x:b.length,B=typeof b=="string"?this._stringDecoder.decode(b.substring(W,X),this._parseBuffer):this._utf8Decoder.decode(b.subarray(W,X),this._parseBuffer);if(D=this._parser.parse(this._parseBuffer,B))return this._preserveStack(T,F,B,W),this._logSlowResolvingAsync(D),D}else if(!G){const W=typeof b=="string"?this._stringDecoder.decode(b,this._parseBuffer):this._utf8Decoder.decode(b,this._parseBuffer);if(D=this._parser.parse(this._parseBuffer,W))return this._preserveStack(T,F,W,0),this._logSlowResolvingAsync(D),D}this._activeBuffer.x===T&&this._activeBuffer.y===F||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(b,R,D){let T,F;const z=this._charsetService.charset,G=this._optionsService.rawOptions.screenReaderMode,W=this._bufferService.cols,X=this._coreService.decPrivateModes.wraparound,B=this._coreService.modes.insertMode,M=this._curAttrData;let I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&D-R>0&&I.getWidth(this._activeBuffer.x-1)===2&&I.setCellFromCodePoint(this._activeBuffer.x-1,0,1,M.fg,M.bg,M.extended);for(let N=R;N<D;++N){if(T=b[N],F=this._unicodeService.wcwidth(T),T<127&&z){const K=z[String.fromCharCode(T)];K&&(T=K.charCodeAt(0))}if(G&&this._onA11yChar.fire((0,g.stringFromCodePoint)(T)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),F||!this._activeBuffer.x){if(this._activeBuffer.x+F-1>=W){if(X){for(;this._activeBuffer.x<W;)I.setCellFromCodePoint(this._activeBuffer.x++,0,1,M.fg,M.bg,M.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=W-1,F===2)continue}if(B&&(I.insertCells(this._activeBuffer.x,F,this._activeBuffer.getNullCell(M),M),I.getWidth(W-1)===2&&I.setCellFromCodePoint(W-1,h.NULL_CELL_CODE,h.NULL_CELL_WIDTH,M.fg,M.bg,M.extended)),I.setCellFromCodePoint(this._activeBuffer.x++,T,F,M.fg,M.bg,M.extended),F>0)for(;--F;)I.setCellFromCodePoint(this._activeBuffer.x++,0,0,M.fg,M.bg,M.extended)}else I.getWidth(this._activeBuffer.x-1)?I.addCodepointToCell(this._activeBuffer.x-1,T):I.addCodepointToCell(this._activeBuffer.x-2,T)}D-R>0&&(I.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<W&&D-R>0&&I.getWidth(this._activeBuffer.x)===0&&!I.hasContent(this._activeBuffer.x)&&I.setCellFromCodePoint(this._activeBuffer.x,0,1,M.fg,M.bg,M.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(b,R){return b.final!=="t"||b.prefix||b.intermediates?this._parser.registerCsiHandler(b,R):this._parser.registerCsiHandler(b,D=>!A(D.params[0],this._optionsService.rawOptions.windowOptions)||R(D))}registerDcsHandler(b,R){return this._parser.registerDcsHandler(b,new L.DcsHandler(R))}registerEscHandler(b,R){return this._parser.registerEscHandler(b,R)}registerOscHandler(b,R){return this._parser.registerOscHandler(b,new w.OscHandler(R))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var b;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((b=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||b===void 0)&&b.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);R.hasWidth(this._activeBuffer.x)&&!R.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const b=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-b),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(b=this._bufferService.cols-1){this._activeBuffer.x=Math.min(b,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(b,R){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=b,this._activeBuffer.y=this._activeBuffer.scrollTop+R):(this._activeBuffer.x=b,this._activeBuffer.y=R),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(b,R){this._restrictCursor(),this._setCursor(this._activeBuffer.x+b,this._activeBuffer.y+R)}cursorUp(b){const R=this._activeBuffer.y-this._activeBuffer.scrollTop;return R>=0?this._moveCursor(0,-Math.min(R,b.params[0]||1)):this._moveCursor(0,-(b.params[0]||1)),!0}cursorDown(b){const R=this._activeBuffer.scrollBottom-this._activeBuffer.y;return R>=0?this._moveCursor(0,Math.min(R,b.params[0]||1)):this._moveCursor(0,b.params[0]||1),!0}cursorForward(b){return this._moveCursor(b.params[0]||1,0),!0}cursorBackward(b){return this._moveCursor(-(b.params[0]||1),0),!0}cursorNextLine(b){return this.cursorDown(b),this._activeBuffer.x=0,!0}cursorPrecedingLine(b){return this.cursorUp(b),this._activeBuffer.x=0,!0}cursorCharAbsolute(b){return this._setCursor((b.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(b){return this._setCursor(b.length>=2?(b.params[1]||1)-1:0,(b.params[0]||1)-1),!0}charPosAbsolute(b){return this._setCursor((b.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(b){return this._moveCursor(b.params[0]||1,0),!0}linePosAbsolute(b){return this._setCursor(this._activeBuffer.x,(b.params[0]||1)-1),!0}vPositionRelative(b){return this._moveCursor(0,b.params[0]||1),!0}hVPosition(b){return this.cursorPosition(b),!0}tabClear(b){const R=b.params[0];return R===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:R===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(b){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let R=b.params[0]||1;for(;R--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(b){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let R=b.params[0]||1;for(;R--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(b){const R=b.params[0];return R===1&&(this._curAttrData.bg|=536870912),R!==2&&R!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(b,R,D,T=!1,F=!1){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+b);z.replaceCells(R,D,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),F),T&&(z.isWrapped=!1)}_resetBufferLine(b,R=!1){const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+b);D.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),R),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+b),D.isWrapped=!1}eraseInDisplay(b,R=!1){let D;switch(this._restrictCursor(this._bufferService.cols),b.params[0]){case 0:for(D=this._activeBuffer.y,this._dirtyRowTracker.markDirty(D),this._eraseInBufferLine(D++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,R);D<this._bufferService.rows;D++)this._resetBufferLine(D,R);this._dirtyRowTracker.markDirty(D);break;case 1:for(D=this._activeBuffer.y,this._dirtyRowTracker.markDirty(D),this._eraseInBufferLine(D,0,this._activeBuffer.x+1,!0,R),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(D+1).isWrapped=!1);D--;)this._resetBufferLine(D,R);this._dirtyRowTracker.markDirty(0);break;case 2:for(D=this._bufferService.rows,this._dirtyRowTracker.markDirty(D-1);D--;)this._resetBufferLine(D,R);this._dirtyRowTracker.markDirty(0);break;case 3:const T=this._activeBuffer.lines.length-this._bufferService.rows;T>0&&(this._activeBuffer.lines.trimStart(T),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-T,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-T,0),this._onScroll.fire(0))}return!0}eraseInLine(b,R=!1){switch(this._restrictCursor(this._bufferService.cols),b.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,R);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,R);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,R)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(b){this._restrictCursor();let R=b.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const D=this._activeBuffer.ybase+this._activeBuffer.y,T=this._bufferService.rows-1-this._activeBuffer.scrollBottom,F=this._bufferService.rows-1+this._activeBuffer.ybase-T+1;for(;R--;)this._activeBuffer.lines.splice(F-1,1),this._activeBuffer.lines.splice(D,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(b){this._restrictCursor();let R=b.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const D=this._activeBuffer.ybase+this._activeBuffer.y;let T;for(T=this._bufferService.rows-1-this._activeBuffer.scrollBottom,T=this._bufferService.rows-1+this._activeBuffer.ybase-T;R--;)this._activeBuffer.lines.splice(D,1),this._activeBuffer.lines.splice(T,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(b){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.insertCells(this._activeBuffer.x,b.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(b){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.deleteCells(this._activeBuffer.x,b.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(b){let R=b.params[0]||1;for(;R--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(b){let R=b.params[0]||1;for(;R--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(n.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=b.params[0]||1;for(let D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);T.deleteCells(0,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),T.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=b.params[0]||1;for(let D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);T.insertCells(0,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),T.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=b.params[0]||1;for(let D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);T.insertCells(this._activeBuffer.x,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),T.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=b.params[0]||1;for(let D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);T.deleteCells(this._activeBuffer.x,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),T.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(b){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(b.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(b){if(!this._parser.precedingCodepoint)return!0;const R=b.params[0]||1,D=new Uint32Array(R);for(let T=0;T<R;++T)D[T]=this._parser.precedingCodepoint;return this.print(D,0,D.length),!0}sendDeviceAttributesPrimary(b){return b.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(p.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(p.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(b){return b.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(p.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(p.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(b.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(p.C0.ESC+"[>83;40003;0c")),!0}_is(b){return(this._optionsService.rawOptions.termName+"").indexOf(b)===0}setMode(b){for(let R=0;R<b.length;R++)switch(b.params[R]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(b){for(let R=0;R<b.length;R++)switch(b.params[R]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),this._charsetService.setgCharset(1,v.DEFAULT_CHARSET),this._charsetService.setgCharset(2,v.DEFAULT_CHARSET),this._charsetService.setgCharset(3,v.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(b){for(let R=0;R<b.length;R++)switch(b.params[R]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(b){for(let R=0;R<b.length;R++)switch(b.params[R]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),b.params[R]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(b,R){const D=this._coreService.decPrivateModes,{activeProtocol:T,activeEncoding:F}=this._coreMouseService,z=this._coreService,{buffers:G,cols:W}=this._bufferService,{active:X,alt:B}=G,M=this._optionsService.rawOptions,I=V=>V?1:2,N=b.params[0];return K=N,se=R?N===2?3:N===4?I(z.modes.insertMode):N===12?4:N===20?I(M.convertEol):0:N===1?I(D.applicationCursorKeys):N===3?M.windowOptions.setWinLines?W===80?2:W===132?1:0:0:N===6?I(D.origin):N===7?I(D.wraparound):N===8?3:N===9?I(T==="X10"):N===12?I(M.cursorBlink):N===25?I(!z.isCursorHidden):N===45?I(D.reverseWraparound):N===66?I(D.applicationKeypad):N===1e3?I(T==="VT200"):N===1002?I(T==="DRAG"):N===1003?I(T==="ANY"):N===1004?I(D.sendFocus):N===1005?4:N===1006?I(F==="SGR"):N===1015?4:N===1016?I(F==="SGR_PIXELS"):N===1048?1:N===47||N===1047||N===1049?I(X===B):N===2004?I(D.bracketedPasteMode):0,z.triggerDataEvent(`${p.C0.ESC}[${R?"":"?"}${K};${se}$y`),!0;var K,se}_updateAttrColor(b,R,D,T,F){return R===2?(b|=50331648,b&=-16777216,b|=d.AttributeData.fromColorRGB([D,T,F])):R===5&&(b&=-50331904,b|=33554432|255&D),b}_extractColor(b,R,D){const T=[0,0,-1,0,0,0];let F=0,z=0;do{if(T[z+F]=b.params[R+z],b.hasSubParams(R+z)){const G=b.getSubParams(R+z);let W=0;do T[1]===5&&(F=1),T[z+W+1+F]=G[W];while(++W<G.length&&W+z+1+F<T.length);break}if(T[1]===5&&z+F>=2||T[1]===2&&z+F>=5)break;T[1]&&(F=1)}while(++z+R<b.length&&z+F<T.length);for(let G=2;G<T.length;++G)T[G]===-1&&(T[G]=0);switch(T[0]){case 38:D.fg=this._updateAttrColor(D.fg,T[1],T[3],T[4],T[5]);break;case 48:D.bg=this._updateAttrColor(D.bg,T[1],T[3],T[4],T[5]);break;case 58:D.extended=D.extended.clone(),D.extended.underlineColor=this._updateAttrColor(D.extended.underlineColor,T[1],T[3],T[4],T[5])}return z}_processUnderline(b,R){R.extended=R.extended.clone(),(!~b||b>5)&&(b=1),R.extended.underlineStyle=b,R.fg|=268435456,b===0&&(R.fg&=-268435457),R.updateExtended()}_processSGR0(b){b.fg=n.DEFAULT_ATTR_DATA.fg,b.bg=n.DEFAULT_ATTR_DATA.bg,b.extended=b.extended.clone(),b.extended.underlineStyle=0,b.extended.underlineColor&=-67108864,b.updateExtended()}charAttributes(b){if(b.length===1&&b.params[0]===0)return this._processSGR0(this._curAttrData),!0;const R=b.length;let D;const T=this._curAttrData;for(let F=0;F<R;F++)D=b.params[F],D>=30&&D<=37?(T.fg&=-50331904,T.fg|=16777216|D-30):D>=40&&D<=47?(T.bg&=-50331904,T.bg|=16777216|D-40):D>=90&&D<=97?(T.fg&=-50331904,T.fg|=16777224|D-90):D>=100&&D<=107?(T.bg&=-50331904,T.bg|=16777224|D-100):D===0?this._processSGR0(T):D===1?T.fg|=134217728:D===3?T.bg|=67108864:D===4?(T.fg|=268435456,this._processUnderline(b.hasSubParams(F)?b.getSubParams(F)[0]:1,T)):D===5?T.fg|=536870912:D===7?T.fg|=67108864:D===8?T.fg|=1073741824:D===9?T.fg|=2147483648:D===2?T.bg|=134217728:D===21?this._processUnderline(2,T):D===22?(T.fg&=-134217729,T.bg&=-134217729):D===23?T.bg&=-67108865:D===24?(T.fg&=-268435457,this._processUnderline(0,T)):D===25?T.fg&=-536870913:D===27?T.fg&=-67108865:D===28?T.fg&=-1073741825:D===29?T.fg&=2147483647:D===39?(T.fg&=-67108864,T.fg|=16777215&n.DEFAULT_ATTR_DATA.fg):D===49?(T.bg&=-67108864,T.bg|=16777215&n.DEFAULT_ATTR_DATA.bg):D===38||D===48||D===58?F+=this._extractColor(b,F,T):D===59?(T.extended=T.extended.clone(),T.extended.underlineColor=-1,T.updateExtended()):D===100?(T.fg&=-67108864,T.fg|=16777215&n.DEFAULT_ATTR_DATA.fg,T.bg&=-67108864,T.bg|=16777215&n.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",D);return!0}deviceStatus(b){switch(b.params[0]){case 5:this._coreService.triggerDataEvent(`${p.C0.ESC}[0n`);break;case 6:const R=this._activeBuffer.y+1,D=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${p.C0.ESC}[${R};${D}R`)}return!0}deviceStatusPrivate(b){if(b.params[0]===6){const R=this._activeBuffer.y+1,D=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${p.C0.ESC}[?${R};${D}R`)}return!0}softReset(b){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(b){const R=b.params[0]||1;switch(R){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const D=R%2==1;return this._optionsService.options.cursorBlink=D,!0}setScrollRegion(b){const R=b.params[0]||1;let D;return(b.length<2||(D=b.params[1])>this._bufferService.rows||D===0)&&(D=this._bufferService.rows),D>R&&(this._activeBuffer.scrollTop=R-1,this._activeBuffer.scrollBottom=D-1,this._setCursor(0,0)),!0}windowOptions(b){if(!A(b.params[0],this._optionsService.rawOptions.windowOptions))return!0;const R=b.length>1?b.params[1]:0;switch(b.params[0]){case 14:R!==2&&this._onRequestWindowsOptionsReport.fire(P.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(P.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${p.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:R!==0&&R!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),R!==0&&R!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:R!==0&&R!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),R!==0&&R!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(b){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(b){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(b){return this._windowTitle=b,this._onTitleChange.fire(b),!0}setIconName(b){return this._iconName=b,!0}setOrReportIndexedColor(b){const R=[],D=b.split(";");for(;D.length>1;){const T=D.shift(),F=D.shift();if(/^\d+$/.exec(T)){const z=parseInt(T);if(0<=z&&z<256)if(F==="?")R.push({type:0,index:z});else{const G=(0,_.parseColor)(F);G&&R.push({type:1,index:z,color:G})}}}return R.length&&this._onColor.fire(R),!0}setHyperlink(b){const R=b.split(";");return!(R.length<2)&&(R[1]?this._createHyperlink(R[0],R[1]):!R[0]&&this._finishHyperlink())}_createHyperlink(b,R){this._getCurrentLinkId()&&this._finishHyperlink();const D=b.split(":");let T;const F=D.findIndex(z=>z.startsWith("id="));return F!==-1&&(T=D[F].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:T,uri:R}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(b,R){const D=b.split(";");for(let T=0;T<D.length&&!(R>=this._specialColors.length);++T,++R)if(D[T]==="?")this._onColor.fire([{type:0,index:this._specialColors[R]}]);else{const F=(0,_.parseColor)(D[T]);F&&this._onColor.fire([{type:1,index:this._specialColors[R],color:F}])}return!0}setOrReportFgColor(b){return this._setOrReportSpecialColor(b,0)}setOrReportBgColor(b){return this._setOrReportSpecialColor(b,1)}setOrReportCursorColor(b){return this._setOrReportSpecialColor(b,2)}restoreIndexedColor(b){if(!b)return this._onColor.fire([{type:2}]),!0;const R=[],D=b.split(";");for(let T=0;T<D.length;++T)if(/^\d+$/.exec(D[T])){const F=parseInt(D[T]);0<=F&&F<256&&R.push({type:2,index:F})}return R.length&&this._onColor.fire(R),!0}restoreFgColor(b){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(b){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(b){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),!0}selectCharset(b){return b.length!==2?(this.selectDefaultCharset(),!0):(b[0]==="/"||this._charsetService.setgCharset(k[b[0]],v.CHARSETS[b[1]]||v.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const b=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,b,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=n.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(b){return this._charsetService.setgLevel(b),!0}screenAlignmentPattern(){const b=new o.CellData;b.content=4194304|"E".charCodeAt(0),b.fg=this._curAttrData.fg,b.bg=this._curAttrData.bg,this._setCursor(0,0);for(let R=0;R<this._bufferService.rows;++R){const D=this._activeBuffer.ybase+this._activeBuffer.y+R,T=this._activeBuffer.lines.get(D);T&&(T.fill(b),T.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(b,R){const D=this._bufferService.buffer,T=this._optionsService.rawOptions;return(F=>(this._coreService.triggerDataEvent(`${p.C0.ESC}${F}${p.C0.ESC}\\`),!0))(b==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:b==='"p'?'P1$r61;1"p':b==="r"?`P1$r${D.scrollTop+1};${D.scrollBottom+1}r`:b==="m"?"P1$r0m":b===" q"?`P1$r${{block:2,underline:4,bar:6}[T.cursorStyle]-(T.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(b,R){this._dirtyRowTracker.markRangeDirty(b,R)}}s.InputHandler=H;let j=class{constructor($){this._bufferService=$,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty($){$<this.start?this.start=$:$>this.end&&(this.end=$)}markRangeDirty($,b){$>b&&(O=$,$=b,b=O),$<this.start&&(this.start=$),b>this.end&&(this.end=b)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};j=u([y(0,m.IBufferService)],j)},844:(S,s)=>{function a(u){for(const y of u)y.dispose();u.length=0}Object.defineProperty(s,"__esModule",{value:!0}),s.getDisposeArrayDisposable=s.disposeArray=s.toDisposable=s.Disposable=void 0,s.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const u of this._disposables)u.dispose();this._disposables.length=0}register(u){return this._disposables.push(u),u}unregister(u){const y=this._disposables.indexOf(u);y!==-1&&this._disposables.splice(y,1)}},s.toDisposable=function(u){return{dispose:u}},s.disposeArray=a,s.getDisposeArrayDisposable=function(u){return{dispose:()=>a(u)}}},1505:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FourKeyMap=s.TwoKeyMap=void 0;class a{constructor(){this._data={}}set(y,p,v){this._data[y]||(this._data[y]={}),this._data[y][p]=v}get(y,p){return this._data[y]?this._data[y][p]:void 0}clear(){this._data={}}}s.TwoKeyMap=a,s.FourKeyMap=class{constructor(){this._data=new a}set(u,y,p,v,E){this._data.get(u,y)||this._data.set(u,y,new a),this._data.get(u,y).set(p,v,E)}get(u,y,p,v){var E;return(E=this._data.get(u,y))===null||E===void 0?void 0:E.get(p,v)}clear(){this._data.clear()}}},6114:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isChromeOS=s.isLinux=s.isWindows=s.isIphone=s.isIpad=s.isMac=s.getSafariVersion=s.isSafari=s.isLegacyEdge=s.isFirefox=s.isNode=void 0,s.isNode=typeof navigator>"u";const a=s.isNode?"node":navigator.userAgent,u=s.isNode?"node":navigator.platform;s.isFirefox=a.includes("Firefox"),s.isLegacyEdge=a.includes("Edge"),s.isSafari=/^((?!chrome|android).)*safari/i.test(a),s.getSafariVersion=function(){if(!s.isSafari)return 0;const y=a.match(/Version\/(\d+)/);return y===null||y.length<2?0:parseInt(y[1])},s.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(u),s.isIpad=u==="iPad",s.isIphone=u==="iPhone",s.isWindows=["Windows","Win16","Win32","WinCE"].includes(u),s.isLinux=u.indexOf("Linux")>=0,s.isChromeOS=/\bCrOS\b/.test(a)},6106:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SortedList=void 0;let a=0;s.SortedList=class{constructor(u){this._getKey=u,this._array=[]}clear(){this._array.length=0}insert(u){this._array.length!==0?(a=this._search(this._getKey(u),0,this._array.length-1),this._array.splice(a,0,u)):this._array.push(u)}delete(u){if(this._array.length===0)return!1;const y=this._getKey(u);if(y===void 0||(a=this._search(y,0,this._array.length-1),a===-1)||this._getKey(this._array[a])!==y)return!1;do if(this._array[a]===u)return this._array.splice(a,1),!0;while(++a<this._array.length&&this._getKey(this._array[a])===y);return!1}*getKeyIterator(u){if(this._array.length!==0&&(a=this._search(u,0,this._array.length-1),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===u))do yield this._array[a];while(++a<this._array.length&&this._getKey(this._array[a])===u)}forEachByKey(u,y){if(this._array.length!==0&&(a=this._search(u,0,this._array.length-1),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===u))do y(this._array[a]);while(++a<this._array.length&&this._getKey(this._array[a])===u)}values(){return this._array.values()}_search(u,y,p){if(p<y)return y;let v=Math.floor((y+p)/2);const E=this._getKey(this._array[v]);if(E>u)return this._search(u,y,v-1);if(E<u)return this._search(u,v+1,p);for(;v>0&&this._getKey(this._array[v-1])===u;)v--;return v}}},7226:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DebouncedIdleTask=s.IdleTaskQueue=s.PriorityTaskQueue=void 0;const u=a(6114);class y{constructor(){this._tasks=[],this._i=0}enqueue(E){this._tasks.push(E),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(E){this._idleCallback=void 0;let C=0,g=0,n=E.timeRemaining(),c=0;for(;this._i<this._tasks.length;){if(C=Date.now(),this._tasks[this._i]()||this._i++,C=Math.max(1,Date.now()-C),g=Math.max(C,g),c=E.timeRemaining(),1.5*g>c)return n-C<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(n-C))}ms`),void this._start();n=c}this.clear()}}class p extends y{_requestCallback(E){return setTimeout(()=>E(this._createDeadline(16)))}_cancelCallback(E){clearTimeout(E)}_createDeadline(E){const C=Date.now()+E;return{timeRemaining:()=>Math.max(0,C-Date.now())}}}s.PriorityTaskQueue=p,s.IdleTaskQueue=!u.isNode&&"requestIdleCallback"in window?class extends y{_requestCallback(v){return requestIdleCallback(v)}_cancelCallback(v){cancelIdleCallback(v)}}:p,s.DebouncedIdleTask=class{constructor(){this._queue=new s.IdleTaskQueue}set(v){this._queue.clear(),this._queue.enqueue(v)}flush(){this._queue.flush()}}},9282:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateWindowsModeWrappedState=void 0;const u=a(643);s.updateWindowsModeWrappedState=function(y){const p=y.buffer.lines.get(y.buffer.ybase+y.buffer.y-1),v=p==null?void 0:p.get(y.cols-1),E=y.buffer.lines.get(y.buffer.ybase+y.buffer.y);E&&v&&(E.isWrapped=v[u.CHAR_DATA_CODE_INDEX]!==u.NULL_CELL_CODE&&v[u.CHAR_DATA_CODE_INDEX]!==u.WHITESPACE_CELL_CODE)}},3734:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ExtendedAttrs=s.AttributeData=void 0;class a{constructor(){this.fg=0,this.bg=0,this.extended=new u}static toColorRGB(p){return[p>>>16&255,p>>>8&255,255&p]}static fromColorRGB(p){return(255&p[0])<<16|(255&p[1])<<8|255&p[2]}clone(){const p=new a;return p.fg=this.fg,p.bg=this.bg,p.extended=this.extended.clone(),p}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}s.AttributeData=a;class u{constructor(p=0,v=0){this._ext=0,this._urlId=0,this._ext=p,this._urlId=v}get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(p){this._ext=p}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(p){this._ext&=-469762049,this._ext|=p<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(p){this._ext&=-67108864,this._ext|=67108863&p}get urlId(){return this._urlId}set urlId(p){this._urlId=p}clone(){return new u(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}s.ExtendedAttrs=u},9092:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferStringIterator=s.Buffer=s.MAX_BUFFER_SIZE=void 0;const u=a(6349),y=a(8437),p=a(511),v=a(643),E=a(4634),C=a(4863),g=a(7116),n=a(3734),c=a(7226);s.MAX_BUFFER_SIZE=4294967295,s.Buffer=class{constructor(o,d,m){this._hasScrollback=o,this._optionsService=d,this._bufferService=m,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=y.DEFAULT_ATTR_DATA.clone(),this.savedCharset=g.DEFAULT_CHARSET,this.markers=[],this._nullCell=p.CellData.fromCharData([0,v.NULL_CELL_CHAR,v.NULL_CELL_WIDTH,v.NULL_CELL_CODE]),this._whitespaceCell=p.CellData.fromCharData([0,v.WHITESPACE_CELL_CHAR,v.WHITESPACE_CELL_WIDTH,v.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new c.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(o){return o?(this._nullCell.fg=o.fg,this._nullCell.bg=o.bg,this._nullCell.extended=o.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new n.ExtendedAttrs),this._nullCell}getWhitespaceCell(o){return o?(this._whitespaceCell.fg=o.fg,this._whitespaceCell.bg=o.bg,this._whitespaceCell.extended=o.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new n.ExtendedAttrs),this._whitespaceCell}getBlankLine(o,d){return new y.BufferLine(this._bufferService.cols,this.getNullCell(o),d)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const o=this.ybase+this.y-this.ydisp;return o>=0&&o<this._rows}_getCorrectBufferLength(o){if(!this._hasScrollback)return o;const d=o+this._optionsService.rawOptions.scrollback;return d>s.MAX_BUFFER_SIZE?s.MAX_BUFFER_SIZE:d}fillViewportRows(o){if(this.lines.length===0){o===void 0&&(o=y.DEFAULT_ATTR_DATA);let d=this._rows;for(;d--;)this.lines.push(this.getBlankLine(o))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(o,d){const m=this.getNullCell(y.DEFAULT_ATTR_DATA);let w=0;const L=this._getCorrectBufferLength(d);if(L>this.lines.maxLength&&(this.lines.maxLength=L),this.lines.length>0){if(this._cols<o)for(let k=0;k<this.lines.length;k++)w+=+this.lines.get(k).resize(o,m);let _=0;if(this._rows<d)for(let k=this._rows;k<d;k++)this.lines.length<d+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new y.BufferLine(o,m)):this.ybase>0&&this.lines.length<=this.ybase+this.y+_+1?(this.ybase--,_++,this.ydisp>0&&this.ydisp--):this.lines.push(new y.BufferLine(o,m)));else for(let k=this._rows;k>d;k--)this.lines.length>d+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(L<this.lines.maxLength){const k=this.lines.length-L;k>0&&(this.lines.trimStart(k),this.ybase=Math.max(this.ybase-k,0),this.ydisp=Math.max(this.ydisp-k,0),this.savedY=Math.max(this.savedY-k,0)),this.lines.maxLength=L}this.x=Math.min(this.x,o-1),this.y=Math.min(this.y,d-1),_&&(this.y+=_),this.savedX=Math.min(this.savedX,o-1),this.scrollTop=0}if(this.scrollBottom=d-1,this._isReflowEnabled&&(this._reflow(o,d),this._cols>o))for(let _=0;_<this.lines.length;_++)w+=+this.lines.get(_).resize(o,m);this._cols=o,this._rows=d,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let o=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,o=!1);let d=0;for(;this._memoryCleanupPosition<this.lines.length;)if(d+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),d>100)return!0;return o}get _isReflowEnabled(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(o,d){this._cols!==o&&(o>this._cols?this._reflowLarger(o,d):this._reflowSmaller(o,d))}_reflowLarger(o,d){const m=(0,E.reflowLargerGetLinesToRemove)(this.lines,this._cols,o,this.ybase+this.y,this.getNullCell(y.DEFAULT_ATTR_DATA));if(m.length>0){const w=(0,E.reflowLargerCreateNewLayout)(this.lines,m);(0,E.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(o,d,w.countRemoved)}}_reflowLargerAdjustViewport(o,d,m){const w=this.getNullCell(y.DEFAULT_ATTR_DATA);let L=m;for(;L-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<d&&this.lines.push(new y.BufferLine(o,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-m,0)}_reflowSmaller(o,d){const m=this.getNullCell(y.DEFAULT_ATTR_DATA),w=[];let L=0;for(let _=this.lines.length-1;_>=0;_--){let k=this.lines.get(_);if(!k||!k.isWrapped&&k.getTrimmedLength()<=o)continue;const x=[k];for(;k.isWrapped&&_>0;)k=this.lines.get(--_),x.unshift(k);const A=this.ybase+this.y;if(A>=_&&A<_+x.length)continue;const P=x[x.length-1].getTrimmedLength(),O=(0,E.reflowSmallerGetNewLineLengths)(x,this._cols,o),H=O.length-x.length;let j;j=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+H):Math.max(0,this.lines.length-this.lines.maxLength+H);const $=[];for(let z=0;z<H;z++){const G=this.getBlankLine(y.DEFAULT_ATTR_DATA,!0);$.push(G)}$.length>0&&(w.push({start:_+x.length+L,newLines:$}),L+=$.length),x.push(...$);let b=O.length-1,R=O[b];R===0&&(b--,R=O[b]);let D=x.length-H-1,T=P;for(;D>=0;){const z=Math.min(T,R);if(x[b]===void 0)break;if(x[b].copyCellsFrom(x[D],T-z,R-z,z,!0),R-=z,R===0&&(b--,R=O[b]),T-=z,T===0){D--;const G=Math.max(D,0);T=(0,E.getWrappedLineTrimmedLength)(x,G,this._cols)}}for(let z=0;z<x.length;z++)O[z]<o&&x[z].setCell(O[z],m);let F=H-j;for(;F-- >0;)this.ybase===0?this.y<d-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+L)-d&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+H,this.ybase+d-1)}if(w.length>0){const _=[],k=[];for(let b=0;b<this.lines.length;b++)k.push(this.lines.get(b));const x=this.lines.length;let A=x-1,P=0,O=w[P];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+L);let H=0;for(let b=Math.min(this.lines.maxLength-1,x+L-1);b>=0;b--)if(O&&O.start>A+H){for(let R=O.newLines.length-1;R>=0;R--)this.lines.set(b--,O.newLines[R]);b++,_.push({index:A+1,amount:O.newLines.length}),H+=O.newLines.length,O=w[++P]}else this.lines.set(b,k[A--]);let j=0;for(let b=_.length-1;b>=0;b--)_[b].index+=j,this.lines.onInsertEmitter.fire(_[b]),j+=_[b].amount;const $=Math.max(0,x+L-this.lines.maxLength);$>0&&this.lines.onTrimEmitter.fire($)}}stringIndexToBufferIndex(o,d,m=!1){for(;d;){const w=this.lines.get(o);if(!w)return[-1,-1];const L=m?w.getTrimmedLength():w.length;for(let _=0;_<L;++_)if(w.get(_)[v.CHAR_DATA_WIDTH_INDEX]&&(d-=w.get(_)[v.CHAR_DATA_CHAR_INDEX].length||1),d<0)return[o,_];o++}return[o,0]}translateBufferLineToString(o,d,m=0,w){const L=this.lines.get(o);return L?L.translateToString(d,m,w):""}getWrappedRangeForLine(o){let d=o,m=o;for(;d>0&&this.lines.get(d).isWrapped;)d--;for(;m+1<this.lines.length&&this.lines.get(m+1).isWrapped;)m++;return{first:d,last:m}}setupTabStops(o){for(o!=null?this.tabs[o]||(o=this.prevStop(o)):(this.tabs={},o=0);o<this._cols;o+=this._optionsService.rawOptions.tabStopWidth)this.tabs[o]=!0}prevStop(o){for(o==null&&(o=this.x);!this.tabs[--o]&&o>0;);return o>=this._cols?this._cols-1:o<0?0:o}nextStop(o){for(o==null&&(o=this.x);!this.tabs[++o]&&o<this._cols;);return o>=this._cols?this._cols-1:o<0?0:o}clearMarkers(o){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].line===o&&(this.markers[d].dispose(),this.markers.splice(d--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let o=0;o<this.markers.length;o++)this.markers[o].dispose(),this.markers.splice(o--,1);this._isClearing=!1}addMarker(o){const d=new C.Marker(o);return this.markers.push(d),d.register(this.lines.onTrim(m=>{d.line-=m,d.line<0&&d.dispose()})),d.register(this.lines.onInsert(m=>{d.line>=m.index&&(d.line+=m.amount)})),d.register(this.lines.onDelete(m=>{d.line>=m.index&&d.line<m.index+m.amount&&d.dispose(),d.line>m.index&&(d.line-=m.amount)})),d.register(d.onDispose(()=>this._removeMarker(d))),d}_removeMarker(o){this._isClearing||this.markers.splice(this.markers.indexOf(o),1)}iterator(o,d,m,w,L){return new h(this,o,d,m,w,L)}};class h{constructor(d,m,w=0,L=d.lines.length,_=0,k=0){this._buffer=d,this._trimRight=m,this._startIndex=w,this._endIndex=L,this._startOverscan=_,this._endOverscan=k,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}hasNext(){return this._current<this._endIndex}next(){const d=this._buffer.getWrappedRangeForLine(this._current);d.first<this._startIndex-this._startOverscan&&(d.first=this._startIndex-this._startOverscan),d.last>this._endIndex+this._endOverscan&&(d.last=this._endIndex+this._endOverscan),d.first=Math.max(d.first,0),d.last=Math.min(d.last,this._buffer.lines.length);let m="";for(let w=d.first;w<=d.last;++w)m+=this._buffer.translateBufferLineToString(w,this._trimRight);return this._current=d.last+1,{range:d,content:m}}}s.BufferStringIterator=h},8437:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLine=s.DEFAULT_ATTR_DATA=void 0;const u=a(482),y=a(643),p=a(511),v=a(3734);s.DEFAULT_ATTR_DATA=Object.freeze(new v.AttributeData);let E=0;class C{constructor(n,c,h=!1){this.isWrapped=h,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*n);const o=c||p.CellData.fromCharData([0,y.NULL_CELL_CHAR,y.NULL_CELL_WIDTH,y.NULL_CELL_CODE]);for(let d=0;d<n;++d)this.setCell(d,o);this.length=n}get(n){const c=this._data[3*n+0],h=2097151&c;return[this._data[3*n+1],2097152&c?this._combined[n]:h?(0,u.stringFromCodePoint)(h):"",c>>22,2097152&c?this._combined[n].charCodeAt(this._combined[n].length-1):h]}set(n,c){this._data[3*n+1]=c[y.CHAR_DATA_ATTR_INDEX],c[y.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[n]=c[1],this._data[3*n+0]=2097152|n|c[y.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*n+0]=c[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|c[y.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(n){return this._data[3*n+0]>>22}hasWidth(n){return 12582912&this._data[3*n+0]}getFg(n){return this._data[3*n+1]}getBg(n){return this._data[3*n+2]}hasContent(n){return 4194303&this._data[3*n+0]}getCodePoint(n){const c=this._data[3*n+0];return 2097152&c?this._combined[n].charCodeAt(this._combined[n].length-1):2097151&c}isCombined(n){return 2097152&this._data[3*n+0]}getString(n){const c=this._data[3*n+0];return 2097152&c?this._combined[n]:2097151&c?(0,u.stringFromCodePoint)(2097151&c):""}isProtected(n){return 536870912&this._data[3*n+2]}loadCell(n,c){return E=3*n,c.content=this._data[E+0],c.fg=this._data[E+1],c.bg=this._data[E+2],2097152&c.content&&(c.combinedData=this._combined[n]),268435456&c.bg&&(c.extended=this._extendedAttrs[n]),c}setCell(n,c){2097152&c.content&&(this._combined[n]=c.combinedData),268435456&c.bg&&(this._extendedAttrs[n]=c.extended),this._data[3*n+0]=c.content,this._data[3*n+1]=c.fg,this._data[3*n+2]=c.bg}setCellFromCodePoint(n,c,h,o,d,m){268435456&d&&(this._extendedAttrs[n]=m),this._data[3*n+0]=c|h<<22,this._data[3*n+1]=o,this._data[3*n+2]=d}addCodepointToCell(n,c){let h=this._data[3*n+0];2097152&h?this._combined[n]+=(0,u.stringFromCodePoint)(c):(2097151&h?(this._combined[n]=(0,u.stringFromCodePoint)(2097151&h)+(0,u.stringFromCodePoint)(c),h&=-2097152,h|=2097152):h=c|4194304,this._data[3*n+0]=h)}insertCells(n,c,h,o){if((n%=this.length)&&this.getWidth(n-1)===2&&this.setCellFromCodePoint(n-1,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new v.ExtendedAttrs),c<this.length-n){const d=new p.CellData;for(let m=this.length-n-c-1;m>=0;--m)this.setCell(n+c+m,this.loadCell(n+m,d));for(let m=0;m<c;++m)this.setCell(n+m,h)}else for(let d=n;d<this.length;++d)this.setCell(d,h);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new v.ExtendedAttrs)}deleteCells(n,c,h,o){if(n%=this.length,c<this.length-n){const d=new p.CellData;for(let m=0;m<this.length-n-c;++m)this.setCell(n+m,this.loadCell(n+c+m,d));for(let m=this.length-c;m<this.length;++m)this.setCell(m,h)}else for(let d=n;d<this.length;++d)this.setCell(d,h);n&&this.getWidth(n-1)===2&&this.setCellFromCodePoint(n-1,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new v.ExtendedAttrs),this.getWidth(n)!==0||this.hasContent(n)||this.setCellFromCodePoint(n,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new v.ExtendedAttrs)}replaceCells(n,c,h,o,d=!1){if(d)for(n&&this.getWidth(n-1)===2&&!this.isProtected(n-1)&&this.setCellFromCodePoint(n-1,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new v.ExtendedAttrs),c<this.length&&this.getWidth(c-1)===2&&!this.isProtected(c)&&this.setCellFromCodePoint(c,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new v.ExtendedAttrs);n<c&&n<this.length;)this.isProtected(n)||this.setCell(n,h),n++;else for(n&&this.getWidth(n-1)===2&&this.setCellFromCodePoint(n-1,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new v.ExtendedAttrs),c<this.length&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new v.ExtendedAttrs);n<c&&n<this.length;)this.setCell(n++,h)}resize(n,c){if(n===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const h=3*n;if(n>this.length){if(this._data.buffer.byteLength>=4*h)this._data=new Uint32Array(this._data.buffer,0,h);else{const o=new Uint32Array(h);o.set(this._data),this._data=o}for(let o=this.length;o<n;++o)this.setCell(o,c)}else{this._data=this._data.subarray(0,h);const o=Object.keys(this._combined);for(let m=0;m<o.length;m++){const w=parseInt(o[m],10);w>=n&&delete this._combined[w]}const d=Object.keys(this._extendedAttrs);for(let m=0;m<d.length;m++){const w=parseInt(d[m],10);w>=n&&delete this._extendedAttrs[w]}}return this.length=n,4*h*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const n=new Uint32Array(this._data.length);return n.set(this._data),this._data=n,1}return 0}fill(n,c=!1){if(c)for(let h=0;h<this.length;++h)this.isProtected(h)||this.setCell(h,n);else{this._combined={},this._extendedAttrs={};for(let h=0;h<this.length;++h)this.setCell(h,n)}}copyFrom(n){this.length!==n.length?this._data=new Uint32Array(n._data):this._data.set(n._data),this.length=n.length,this._combined={};for(const c in n._combined)this._combined[c]=n._combined[c];this._extendedAttrs={};for(const c in n._extendedAttrs)this._extendedAttrs[c]=n._extendedAttrs[c];this.isWrapped=n.isWrapped}clone(){const n=new C(0);n._data=new Uint32Array(this._data),n.length=this.length;for(const c in this._combined)n._combined[c]=this._combined[c];for(const c in this._extendedAttrs)n._extendedAttrs[c]=this._extendedAttrs[c];return n.isWrapped=this.isWrapped,n}getTrimmedLength(){for(let n=this.length-1;n>=0;--n)if(4194303&this._data[3*n+0])return n+(this._data[3*n+0]>>22);return 0}copyCellsFrom(n,c,h,o,d){const m=n._data;if(d)for(let L=o-1;L>=0;L--){for(let _=0;_<3;_++)this._data[3*(h+L)+_]=m[3*(c+L)+_];268435456&m[3*(c+L)+2]&&(this._extendedAttrs[h+L]=n._extendedAttrs[c+L])}else for(let L=0;L<o;L++){for(let _=0;_<3;_++)this._data[3*(h+L)+_]=m[3*(c+L)+_];268435456&m[3*(c+L)+2]&&(this._extendedAttrs[h+L]=n._extendedAttrs[c+L])}const w=Object.keys(n._combined);for(let L=0;L<w.length;L++){const _=parseInt(w[L],10);_>=c&&(this._combined[_-c+h]=n._combined[_])}}translateToString(n=!1,c=0,h=this.length){n&&(h=Math.min(h,this.getTrimmedLength()));let o="";for(;c<h;){const d=this._data[3*c+0],m=2097151&d;o+=2097152&d?this._combined[c]:m?(0,u.stringFromCodePoint)(m):y.WHITESPACE_CELL_CHAR,c+=d>>22||1}return o}}s.BufferLine=C},4841:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getRangeLength=void 0,s.getRangeLength=function(a,u){if(a.start.y>a.end.y)throw new Error(`Buffer range end (${a.end.x}, ${a.end.y}) cannot be before start (${a.start.x}, ${a.start.y})`);return u*(a.end.y-a.start.y)+(a.end.x-a.start.x+1)}},4634:(S,s)=>{function a(u,y,p){if(y===u.length-1)return u[y].getTrimmedLength();const v=!u[y].hasContent(p-1)&&u[y].getWidth(p-1)===1,E=u[y+1].getWidth(0)===2;return v&&E?p-1:p}Object.defineProperty(s,"__esModule",{value:!0}),s.getWrappedLineTrimmedLength=s.reflowSmallerGetNewLineLengths=s.reflowLargerApplyNewLayout=s.reflowLargerCreateNewLayout=s.reflowLargerGetLinesToRemove=void 0,s.reflowLargerGetLinesToRemove=function(u,y,p,v,E){const C=[];for(let g=0;g<u.length-1;g++){let n=g,c=u.get(++n);if(!c.isWrapped)continue;const h=[u.get(g)];for(;n<u.length&&c.isWrapped;)h.push(c),c=u.get(++n);if(v>=g&&v<n){g+=h.length-1;continue}let o=0,d=a(h,o,y),m=1,w=0;for(;m<h.length;){const _=a(h,m,y),k=_-w,x=p-d,A=Math.min(k,x);h[o].copyCellsFrom(h[m],w,d,A,!1),d+=A,d===p&&(o++,d=0),w+=A,w===_&&(m++,w=0),d===0&&o!==0&&h[o-1].getWidth(p-1)===2&&(h[o].copyCellsFrom(h[o-1],p-1,d++,1,!1),h[o-1].setCell(p-1,E))}h[o].replaceCells(d,p,E);let L=0;for(let _=h.length-1;_>0&&(_>o||h[_].getTrimmedLength()===0);_--)L++;L>0&&(C.push(g+h.length-L),C.push(L)),g+=h.length-1}return C},s.reflowLargerCreateNewLayout=function(u,y){const p=[];let v=0,E=y[v],C=0;for(let g=0;g<u.length;g++)if(E===g){const n=y[++v];u.onDeleteEmitter.fire({index:g-C,amount:n}),g+=n-1,C+=n,E=y[++v]}else p.push(g);return{layout:p,countRemoved:C}},s.reflowLargerApplyNewLayout=function(u,y){const p=[];for(let v=0;v<y.length;v++)p.push(u.get(y[v]));for(let v=0;v<p.length;v++)u.set(v,p[v]);u.length=y.length},s.reflowSmallerGetNewLineLengths=function(u,y,p){const v=[],E=u.map((c,h)=>a(u,h,y)).reduce((c,h)=>c+h);let C=0,g=0,n=0;for(;n<E;){if(E-n<p){v.push(E-n);break}C+=p;const c=a(u,g,y);C>c&&(C-=c,g++);const h=u[g].getWidth(C-1)===2;h&&C--;const o=h?p-1:p;v.push(o),n+=o}return v},s.getWrappedLineTrimmedLength=a},5295:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferSet=void 0;const u=a(9092),y=a(8460),p=a(844);class v extends p.Disposable{constructor(C,g){super(),this._optionsService=C,this._bufferService=g,this._onBufferActivate=this.register(new y.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new u.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new u.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(C){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(C),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(C,g){this._normal.resize(C,g),this._alt.resize(C,g),this.setupTabStops(C)}setupTabStops(C){this._normal.setupTabStops(C),this._alt.setupTabStops(C)}}s.BufferSet=v},511:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CellData=void 0;const u=a(482),y=a(643),p=a(3734);class v extends p.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new p.ExtendedAttrs,this.combinedData=""}static fromCharData(C){const g=new v;return g.setFromCharData(C),g}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,u.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(C){this.fg=C[y.CHAR_DATA_ATTR_INDEX],this.bg=0;let g=!1;if(C[y.CHAR_DATA_CHAR_INDEX].length>2)g=!0;else if(C[y.CHAR_DATA_CHAR_INDEX].length===2){const n=C[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=n&&n<=56319){const c=C[y.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=c&&c<=57343?this.content=1024*(n-55296)+c-56320+65536|C[y.CHAR_DATA_WIDTH_INDEX]<<22:g=!0}else g=!0}else this.content=C[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|C[y.CHAR_DATA_WIDTH_INDEX]<<22;g&&(this.combinedData=C[y.CHAR_DATA_CHAR_INDEX],this.content=2097152|C[y.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.CellData=v},643:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WHITESPACE_CELL_CODE=s.WHITESPACE_CELL_WIDTH=s.WHITESPACE_CELL_CHAR=s.NULL_CELL_CODE=s.NULL_CELL_WIDTH=s.NULL_CELL_CHAR=s.CHAR_DATA_CODE_INDEX=s.CHAR_DATA_WIDTH_INDEX=s.CHAR_DATA_CHAR_INDEX=s.CHAR_DATA_ATTR_INDEX=s.DEFAULT_EXT=s.DEFAULT_ATTR=s.DEFAULT_COLOR=void 0,s.DEFAULT_COLOR=0,s.DEFAULT_ATTR=256|s.DEFAULT_COLOR<<9,s.DEFAULT_EXT=0,s.CHAR_DATA_ATTR_INDEX=0,s.CHAR_DATA_CHAR_INDEX=1,s.CHAR_DATA_WIDTH_INDEX=2,s.CHAR_DATA_CODE_INDEX=3,s.NULL_CELL_CHAR="",s.NULL_CELL_WIDTH=1,s.NULL_CELL_CODE=0,s.WHITESPACE_CELL_CHAR=" ",s.WHITESPACE_CELL_WIDTH=1,s.WHITESPACE_CELL_CODE=32},4863:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Marker=void 0;const u=a(8460),y=a(844);class p{constructor(E){this.line=E,this.isDisposed=!1,this._disposables=[],this._id=p._nextId++,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,y.disposeArray)(this._disposables),this._disposables.length=0)}register(E){return this._disposables.push(E),E}}s.Marker=p,p._nextId=1},7116:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_CHARSET=s.CHARSETS=void 0,s.CHARSETS={},s.DEFAULT_CHARSET=s.CHARSETS.B,s.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},s.CHARSETS.A={"#":"£"},s.CHARSETS.B=void 0,s.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},s.CHARSETS.C=s.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},s.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},s.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},s.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},s.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},s.CHARSETS.E=s.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},s.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},s.CHARSETS.H=s.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},s.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(S,s)=>{var a,u;Object.defineProperty(s,"__esModule",{value:!0}),s.C1_ESCAPED=s.C1=s.C0=void 0,function(y){y.NUL="\0",y.SOH="",y.STX="",y.ETX="",y.EOT="",y.ENQ="",y.ACK="",y.BEL="\x07",y.BS="\b",y.HT="	",y.LF=`
`,y.VT="\v",y.FF="\f",y.CR="\r",y.SO="",y.SI="",y.DLE="",y.DC1="",y.DC2="",y.DC3="",y.DC4="",y.NAK="",y.SYN="",y.ETB="",y.CAN="",y.EM="",y.SUB="",y.ESC="\x1B",y.FS="",y.GS="",y.RS="",y.US="",y.SP=" ",y.DEL=""}(a=s.C0||(s.C0={})),(u=s.C1||(s.C1={})).PAD="",u.HOP="",u.BPH="",u.NBH="",u.IND="",u.NEL="",u.SSA="",u.ESA="",u.HTS="",u.HTJ="",u.VTS="",u.PLD="",u.PLU="",u.RI="",u.SS2="",u.SS3="",u.DCS="",u.PU1="",u.PU2="",u.STS="",u.CCH="",u.MW="",u.SPA="",u.EPA="",u.SOS="",u.SGCI="",u.SCI="",u.CSI="",u.ST="",u.OSC="",u.PM="",u.APC="",(s.C1_ESCAPED||(s.C1_ESCAPED={})).ST=`${a.ESC}\\`},7399:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.evaluateKeyboardEvent=void 0;const u=a(2584),y={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};s.evaluateKeyboardEvent=function(p,v,E,C){const g={type:0,cancel:!1,key:void 0},n=(p.shiftKey?1:0)|(p.altKey?2:0)|(p.ctrlKey?4:0)|(p.metaKey?8:0);switch(p.keyCode){case 0:p.key==="UIKeyInputUpArrow"?g.key=v?u.C0.ESC+"OA":u.C0.ESC+"[A":p.key==="UIKeyInputLeftArrow"?g.key=v?u.C0.ESC+"OD":u.C0.ESC+"[D":p.key==="UIKeyInputRightArrow"?g.key=v?u.C0.ESC+"OC":u.C0.ESC+"[C":p.key==="UIKeyInputDownArrow"&&(g.key=v?u.C0.ESC+"OB":u.C0.ESC+"[B");break;case 8:if(p.altKey){g.key=u.C0.ESC+u.C0.DEL;break}g.key=u.C0.DEL;break;case 9:if(p.shiftKey){g.key=u.C0.ESC+"[Z";break}g.key=u.C0.HT,g.cancel=!0;break;case 13:g.key=p.altKey?u.C0.ESC+u.C0.CR:u.C0.CR,g.cancel=!0;break;case 27:g.key=u.C0.ESC,p.altKey&&(g.key=u.C0.ESC+u.C0.ESC),g.cancel=!0;break;case 37:if(p.metaKey)break;n?(g.key=u.C0.ESC+"[1;"+(n+1)+"D",g.key===u.C0.ESC+"[1;3D"&&(g.key=u.C0.ESC+(E?"b":"[1;5D"))):g.key=v?u.C0.ESC+"OD":u.C0.ESC+"[D";break;case 39:if(p.metaKey)break;n?(g.key=u.C0.ESC+"[1;"+(n+1)+"C",g.key===u.C0.ESC+"[1;3C"&&(g.key=u.C0.ESC+(E?"f":"[1;5C"))):g.key=v?u.C0.ESC+"OC":u.C0.ESC+"[C";break;case 38:if(p.metaKey)break;n?(g.key=u.C0.ESC+"[1;"+(n+1)+"A",E||g.key!==u.C0.ESC+"[1;3A"||(g.key=u.C0.ESC+"[1;5A")):g.key=v?u.C0.ESC+"OA":u.C0.ESC+"[A";break;case 40:if(p.metaKey)break;n?(g.key=u.C0.ESC+"[1;"+(n+1)+"B",E||g.key!==u.C0.ESC+"[1;3B"||(g.key=u.C0.ESC+"[1;5B")):g.key=v?u.C0.ESC+"OB":u.C0.ESC+"[B";break;case 45:p.shiftKey||p.ctrlKey||(g.key=u.C0.ESC+"[2~");break;case 46:g.key=n?u.C0.ESC+"[3;"+(n+1)+"~":u.C0.ESC+"[3~";break;case 36:g.key=n?u.C0.ESC+"[1;"+(n+1)+"H":v?u.C0.ESC+"OH":u.C0.ESC+"[H";break;case 35:g.key=n?u.C0.ESC+"[1;"+(n+1)+"F":v?u.C0.ESC+"OF":u.C0.ESC+"[F";break;case 33:p.shiftKey?g.type=2:p.ctrlKey?g.key=u.C0.ESC+"[5;"+(n+1)+"~":g.key=u.C0.ESC+"[5~";break;case 34:p.shiftKey?g.type=3:p.ctrlKey?g.key=u.C0.ESC+"[6;"+(n+1)+"~":g.key=u.C0.ESC+"[6~";break;case 112:g.key=n?u.C0.ESC+"[1;"+(n+1)+"P":u.C0.ESC+"OP";break;case 113:g.key=n?u.C0.ESC+"[1;"+(n+1)+"Q":u.C0.ESC+"OQ";break;case 114:g.key=n?u.C0.ESC+"[1;"+(n+1)+"R":u.C0.ESC+"OR";break;case 115:g.key=n?u.C0.ESC+"[1;"+(n+1)+"S":u.C0.ESC+"OS";break;case 116:g.key=n?u.C0.ESC+"[15;"+(n+1)+"~":u.C0.ESC+"[15~";break;case 117:g.key=n?u.C0.ESC+"[17;"+(n+1)+"~":u.C0.ESC+"[17~";break;case 118:g.key=n?u.C0.ESC+"[18;"+(n+1)+"~":u.C0.ESC+"[18~";break;case 119:g.key=n?u.C0.ESC+"[19;"+(n+1)+"~":u.C0.ESC+"[19~";break;case 120:g.key=n?u.C0.ESC+"[20;"+(n+1)+"~":u.C0.ESC+"[20~";break;case 121:g.key=n?u.C0.ESC+"[21;"+(n+1)+"~":u.C0.ESC+"[21~";break;case 122:g.key=n?u.C0.ESC+"[23;"+(n+1)+"~":u.C0.ESC+"[23~";break;case 123:g.key=n?u.C0.ESC+"[24;"+(n+1)+"~":u.C0.ESC+"[24~";break;default:if(!p.ctrlKey||p.shiftKey||p.altKey||p.metaKey)if(E&&!C||!p.altKey||p.metaKey)!E||p.altKey||p.ctrlKey||p.shiftKey||!p.metaKey?p.key&&!p.ctrlKey&&!p.altKey&&!p.metaKey&&p.keyCode>=48&&p.key.length===1?g.key=p.key:p.key&&p.ctrlKey&&(p.key==="_"&&(g.key=u.C0.US),p.key==="@"&&(g.key=u.C0.NUL)):p.keyCode===65&&(g.type=1);else{const c=y[p.keyCode],h=c==null?void 0:c[p.shiftKey?1:0];if(h)g.key=u.C0.ESC+h;else if(p.keyCode>=65&&p.keyCode<=90){const o=p.ctrlKey?p.keyCode-64:p.keyCode+32;let d=String.fromCharCode(o);p.shiftKey&&(d=d.toUpperCase()),g.key=u.C0.ESC+d}else if(p.keyCode===32)g.key=u.C0.ESC+(p.ctrlKey?u.C0.NUL:" ");else if(p.key==="Dead"&&p.code.startsWith("Key")){let o=p.code.slice(3,4);p.shiftKey||(o=o.toLowerCase()),g.key=u.C0.ESC+o,g.cancel=!0}}else p.keyCode>=65&&p.keyCode<=90?g.key=String.fromCharCode(p.keyCode-64):p.keyCode===32?g.key=u.C0.NUL:p.keyCode>=51&&p.keyCode<=55?g.key=String.fromCharCode(p.keyCode-51+27):p.keyCode===56?g.key=u.C0.DEL:p.keyCode===219?g.key=u.C0.ESC:p.keyCode===220?g.key=u.C0.FS:p.keyCode===221&&(g.key=u.C0.GS)}return g}},482:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Utf8ToUtf32=s.StringToUtf32=s.utf32ToString=s.stringFromCodePoint=void 0,s.stringFromCodePoint=function(a){return a>65535?(a-=65536,String.fromCharCode(55296+(a>>10))+String.fromCharCode(a%1024+56320)):String.fromCharCode(a)},s.utf32ToString=function(a,u=0,y=a.length){let p="";for(let v=u;v<y;++v){let E=a[v];E>65535?(E-=65536,p+=String.fromCharCode(55296+(E>>10))+String.fromCharCode(E%1024+56320)):p+=String.fromCharCode(E)}return p},s.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(a,u){const y=a.length;if(!y)return 0;let p=0,v=0;if(this._interim){const E=a.charCodeAt(v++);56320<=E&&E<=57343?u[p++]=1024*(this._interim-55296)+E-56320+65536:(u[p++]=this._interim,u[p++]=E),this._interim=0}for(let E=v;E<y;++E){const C=a.charCodeAt(E);if(55296<=C&&C<=56319){if(++E>=y)return this._interim=C,p;const g=a.charCodeAt(E);56320<=g&&g<=57343?u[p++]=1024*(C-55296)+g-56320+65536:(u[p++]=C,u[p++]=g)}else C!==65279&&(u[p++]=C)}return p}},s.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(a,u){const y=a.length;if(!y)return 0;let p,v,E,C,g=0,n=0,c=0;if(this.interim[0]){let d=!1,m=this.interim[0];m&=(224&m)==192?31:(240&m)==224?15:7;let w,L=0;for(;(w=63&this.interim[++L])&&L<4;)m<<=6,m|=w;const _=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,k=_-L;for(;c<k;){if(c>=y)return 0;if(w=a[c++],(192&w)!=128){c--,d=!0;break}this.interim[L++]=w,m<<=6,m|=63&w}d||(_===2?m<128?c--:u[g++]=m:_===3?m<2048||m>=55296&&m<=57343||m===65279||(u[g++]=m):m<65536||m>1114111||(u[g++]=m)),this.interim.fill(0)}const h=y-4;let o=c;for(;o<y;){for(;!(!(o<h)||128&(p=a[o])||128&(v=a[o+1])||128&(E=a[o+2])||128&(C=a[o+3]));)u[g++]=p,u[g++]=v,u[g++]=E,u[g++]=C,o+=4;if(p=a[o++],p<128)u[g++]=p;else if((224&p)==192){if(o>=y)return this.interim[0]=p,g;if(v=a[o++],(192&v)!=128){o--;continue}if(n=(31&p)<<6|63&v,n<128){o--;continue}u[g++]=n}else if((240&p)==224){if(o>=y)return this.interim[0]=p,g;if(v=a[o++],(192&v)!=128){o--;continue}if(o>=y)return this.interim[0]=p,this.interim[1]=v,g;if(E=a[o++],(192&E)!=128){o--;continue}if(n=(15&p)<<12|(63&v)<<6|63&E,n<2048||n>=55296&&n<=57343||n===65279)continue;u[g++]=n}else if((248&p)==240){if(o>=y)return this.interim[0]=p,g;if(v=a[o++],(192&v)!=128){o--;continue}if(o>=y)return this.interim[0]=p,this.interim[1]=v,g;if(E=a[o++],(192&E)!=128){o--;continue}if(o>=y)return this.interim[0]=p,this.interim[1]=v,this.interim[2]=E,g;if(C=a[o++],(192&C)!=128){o--;continue}if(n=(7&p)<<18|(63&v)<<12|(63&E)<<6|63&C,n<65536||n>1114111)continue;u[g++]=n}}return g}}},225:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeV6=void 0;const a=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],u=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let y;s.UnicodeV6=class{constructor(){if(this.version="6",!y){y=new Uint8Array(65536),y.fill(1),y[0]=0,y.fill(0,1,32),y.fill(0,127,160),y.fill(2,4352,4448),y[9001]=2,y[9002]=2,y.fill(2,11904,42192),y[12351]=1,y.fill(2,44032,55204),y.fill(2,63744,64256),y.fill(2,65040,65050),y.fill(2,65072,65136),y.fill(2,65280,65377),y.fill(2,65504,65511);for(let p=0;p<a.length;++p)y.fill(0,a[p][0],a[p][1]+1)}}wcwidth(p){return p<32?0:p<127?1:p<65536?y[p]:function(v,E){let C,g=0,n=E.length-1;if(v<E[0][0]||v>E[n][1])return!1;for(;n>=g;)if(C=g+n>>1,v>E[C][1])g=C+1;else{if(!(v<E[C][0]))return!0;n=C-1}return!1}(p,u)?0:p>=131072&&p<=196605||p>=196608&&p<=262141?2:1}}},5981:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WriteBuffer=void 0;const u=a(8460),y=a(844);class p extends y.Disposable{constructor(E){super(),this._action=E,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(E,C){if(C!==void 0&&this._syncCalls>C)return void(this._syncCalls=0);if(this._pendingData+=E.length,this._writeBuffer.push(E),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let g;for(this._isSyncWriting=!0;g=this._writeBuffer.shift();){this._action(g);const n=this._callbacks.shift();n&&n()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(E,C){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=E.length,this._writeBuffer.push(E),this._callbacks.push(C),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=E.length,this._writeBuffer.push(E),this._callbacks.push(C)}_innerWrite(E=0,C=!0){const g=E||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const n=this._writeBuffer[this._bufferOffset],c=this._action(n,C);if(c){const o=d=>Date.now()-g>=12?setTimeout(()=>this._innerWrite(0,d)):this._innerWrite(g,d);return void c.catch(d=>(queueMicrotask(()=>{throw d}),Promise.resolve(!1))).then(o)}const h=this._callbacks[this._bufferOffset];if(h&&h(),this._bufferOffset++,this._pendingData-=n.length,Date.now()-g>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}s.WriteBuffer=p},5941:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.toRgbString=s.parseColor=void 0;const a=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,u=/^[\da-f]+$/;function y(p,v){const E=p.toString(16),C=E.length<2?"0"+E:E;switch(v){case 4:return E[0];case 8:return C;case 12:return(C+C).slice(0,3);default:return C+C}}s.parseColor=function(p){if(!p)return;let v=p.toLowerCase();if(v.indexOf("rgb:")===0){v=v.slice(4);const E=a.exec(v);if(E){const C=E[1]?15:E[4]?255:E[7]?4095:65535;return[Math.round(parseInt(E[1]||E[4]||E[7]||E[10],16)/C*255),Math.round(parseInt(E[2]||E[5]||E[8]||E[11],16)/C*255),Math.round(parseInt(E[3]||E[6]||E[9]||E[12],16)/C*255)]}}else if(v.indexOf("#")===0&&(v=v.slice(1),u.exec(v)&&[3,6,9,12].includes(v.length))){const E=v.length/3,C=[0,0,0];for(let g=0;g<3;++g){const n=parseInt(v.slice(E*g,E*g+E),16);C[g]=E===1?n<<4:E===2?n:E===3?n>>4:n>>8}return C}},s.toRgbString=function(p,v=16){const[E,C,g]=p;return`rgb:${y(E,v)}/${y(C,v)}/${y(g,v)}`}},5770:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PAYLOAD_LIMIT=void 0,s.PAYLOAD_LIMIT=1e7},6351:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DcsHandler=s.DcsParser=void 0;const u=a(482),y=a(8742),p=a(5770),v=[];s.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=v,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=v}registerHandler(C,g){this._handlers[C]===void 0&&(this._handlers[C]=[]);const n=this._handlers[C];return n.push(g),{dispose:()=>{const c=n.indexOf(g);c!==-1&&n.splice(c,1)}}}clearHandler(C){this._handlers[C]&&delete this._handlers[C]}setHandlerFallback(C){this._handlerFb=C}reset(){if(this._active.length)for(let C=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;C>=0;--C)this._active[C].unhook(!1);this._stack.paused=!1,this._active=v,this._ident=0}hook(C,g){if(this.reset(),this._ident=C,this._active=this._handlers[C]||v,this._active.length)for(let n=this._active.length-1;n>=0;n--)this._active[n].hook(g);else this._handlerFb(this._ident,"HOOK",g)}put(C,g,n){if(this._active.length)for(let c=this._active.length-1;c>=0;c--)this._active[c].put(C,g,n);else this._handlerFb(this._ident,"PUT",(0,u.utf32ToString)(C,g,n))}unhook(C,g=!0){if(this._active.length){let n=!1,c=this._active.length-1,h=!1;if(this._stack.paused&&(c=this._stack.loopPosition-1,n=g,h=this._stack.fallThrough,this._stack.paused=!1),!h&&n===!1){for(;c>=0&&(n=this._active[c].unhook(C),n!==!0);c--)if(n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!1,n;c--}for(;c>=0;c--)if(n=this._active[c].unhook(!1),n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!0,n}else this._handlerFb(this._ident,"UNHOOK",C);this._active=v,this._ident=0}};const E=new y.Params;E.addParam(0),s.DcsHandler=class{constructor(C){this._handler=C,this._data="",this._params=E,this._hitLimit=!1}hook(C){this._params=C.length>1||C.params[0]?C.clone():E,this._data="",this._hitLimit=!1}put(C,g,n){this._hitLimit||(this._data+=(0,u.utf32ToString)(C,g,n),this._data.length>p.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(C){let g=!1;if(this._hitLimit)g=!1;else if(C&&(g=this._handler(this._data,this._params),g instanceof Promise))return g.then(n=>(this._params=E,this._data="",this._hitLimit=!1,n));return this._params=E,this._data="",this._hitLimit=!1,g}}},2015:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.EscapeSequenceParser=s.VT500_TRANSITION_TABLE=s.TransitionTable=void 0;const u=a(844),y=a(8742),p=a(6242),v=a(6351);class E{constructor(c){this.table=new Uint8Array(c)}setDefault(c,h){this.table.fill(c<<4|h)}add(c,h,o,d){this.table[h<<8|c]=o<<4|d}addMany(c,h,o,d){for(let m=0;m<c.length;m++)this.table[h<<8|c[m]]=o<<4|d}}s.TransitionTable=E;const C=160;s.VT500_TRANSITION_TABLE=function(){const n=new E(4095),c=Array.apply(null,Array(256)).map((L,_)=>_),h=(L,_)=>c.slice(L,_),o=h(32,127),d=h(0,24);d.push(25),d.push.apply(d,h(28,32));const m=h(0,14);let w;for(w in n.setDefault(1,0),n.addMany(o,0,2,0),m)n.addMany([24,26,153,154],w,3,0),n.addMany(h(128,144),w,3,0),n.addMany(h(144,152),w,3,0),n.add(156,w,0,0),n.add(27,w,11,1),n.add(157,w,4,8),n.addMany([152,158,159],w,0,7),n.add(155,w,11,3),n.add(144,w,11,9);return n.addMany(d,0,3,0),n.addMany(d,1,3,1),n.add(127,1,0,1),n.addMany(d,8,0,8),n.addMany(d,3,3,3),n.add(127,3,0,3),n.addMany(d,4,3,4),n.add(127,4,0,4),n.addMany(d,6,3,6),n.addMany(d,5,3,5),n.add(127,5,0,5),n.addMany(d,2,3,2),n.add(127,2,0,2),n.add(93,1,4,8),n.addMany(o,8,5,8),n.add(127,8,5,8),n.addMany([156,27,24,26,7],8,6,0),n.addMany(h(28,32),8,0,8),n.addMany([88,94,95],1,0,7),n.addMany(o,7,0,7),n.addMany(d,7,0,7),n.add(156,7,0,0),n.add(127,7,0,7),n.add(91,1,11,3),n.addMany(h(64,127),3,7,0),n.addMany(h(48,60),3,8,4),n.addMany([60,61,62,63],3,9,4),n.addMany(h(48,60),4,8,4),n.addMany(h(64,127),4,7,0),n.addMany([60,61,62,63],4,0,6),n.addMany(h(32,64),6,0,6),n.add(127,6,0,6),n.addMany(h(64,127),6,0,0),n.addMany(h(32,48),3,9,5),n.addMany(h(32,48),5,9,5),n.addMany(h(48,64),5,0,6),n.addMany(h(64,127),5,7,0),n.addMany(h(32,48),4,9,5),n.addMany(h(32,48),1,9,2),n.addMany(h(32,48),2,9,2),n.addMany(h(48,127),2,10,0),n.addMany(h(48,80),1,10,0),n.addMany(h(81,88),1,10,0),n.addMany([89,90,92],1,10,0),n.addMany(h(96,127),1,10,0),n.add(80,1,11,9),n.addMany(d,9,0,9),n.add(127,9,0,9),n.addMany(h(28,32),9,0,9),n.addMany(h(32,48),9,9,12),n.addMany(h(48,60),9,8,10),n.addMany([60,61,62,63],9,9,10),n.addMany(d,11,0,11),n.addMany(h(32,128),11,0,11),n.addMany(h(28,32),11,0,11),n.addMany(d,10,0,10),n.add(127,10,0,10),n.addMany(h(28,32),10,0,10),n.addMany(h(48,60),10,8,10),n.addMany([60,61,62,63],10,0,11),n.addMany(h(32,48),10,9,12),n.addMany(d,12,0,12),n.add(127,12,0,12),n.addMany(h(28,32),12,0,12),n.addMany(h(32,48),12,9,12),n.addMany(h(48,64),12,0,11),n.addMany(h(64,127),12,12,13),n.addMany(h(64,127),10,12,13),n.addMany(h(64,127),9,12,13),n.addMany(d,13,13,13),n.addMany(o,13,13,13),n.add(127,13,0,13),n.addMany([27,156,24,26],13,14,0),n.add(C,0,2,0),n.add(C,8,5,8),n.add(C,6,0,6),n.add(C,11,0,11),n.add(C,13,13,13),n}();class g extends u.Disposable{constructor(c=s.VT500_TRANSITION_TABLE){super(),this._transitions=c,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new y.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(h,o,d)=>{},this._executeHandlerFb=h=>{},this._csiHandlerFb=(h,o)=>{},this._escHandlerFb=h=>{},this._errorHandlerFb=h=>h,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,u.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new p.OscParser),this._dcsParser=this.register(new v.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(c,h=[64,126]){let o=0;if(c.prefix){if(c.prefix.length>1)throw new Error("only one byte as prefix supported");if(o=c.prefix.charCodeAt(0),o&&60>o||o>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(c.intermediates){if(c.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let m=0;m<c.intermediates.length;++m){const w=c.intermediates.charCodeAt(m);if(32>w||w>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");o<<=8,o|=w}}if(c.final.length!==1)throw new Error("final must be a single byte");const d=c.final.charCodeAt(0);if(h[0]>d||d>h[1])throw new Error(`final must be in range ${h[0]} .. ${h[1]}`);return o<<=8,o|=d,o}identToString(c){const h=[];for(;c;)h.push(String.fromCharCode(255&c)),c>>=8;return h.reverse().join("")}setPrintHandler(c){this._printHandler=c}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(c,h){const o=this._identifier(c,[48,126]);this._escHandlers[o]===void 0&&(this._escHandlers[o]=[]);const d=this._escHandlers[o];return d.push(h),{dispose:()=>{const m=d.indexOf(h);m!==-1&&d.splice(m,1)}}}clearEscHandler(c){this._escHandlers[this._identifier(c,[48,126])]&&delete this._escHandlers[this._identifier(c,[48,126])]}setEscHandlerFallback(c){this._escHandlerFb=c}setExecuteHandler(c,h){this._executeHandlers[c.charCodeAt(0)]=h}clearExecuteHandler(c){this._executeHandlers[c.charCodeAt(0)]&&delete this._executeHandlers[c.charCodeAt(0)]}setExecuteHandlerFallback(c){this._executeHandlerFb=c}registerCsiHandler(c,h){const o=this._identifier(c);this._csiHandlers[o]===void 0&&(this._csiHandlers[o]=[]);const d=this._csiHandlers[o];return d.push(h),{dispose:()=>{const m=d.indexOf(h);m!==-1&&d.splice(m,1)}}}clearCsiHandler(c){this._csiHandlers[this._identifier(c)]&&delete this._csiHandlers[this._identifier(c)]}setCsiHandlerFallback(c){this._csiHandlerFb=c}registerDcsHandler(c,h){return this._dcsParser.registerHandler(this._identifier(c),h)}clearDcsHandler(c){this._dcsParser.clearHandler(this._identifier(c))}setDcsHandlerFallback(c){this._dcsParser.setHandlerFallback(c)}registerOscHandler(c,h){return this._oscParser.registerHandler(c,h)}clearOscHandler(c){this._oscParser.clearHandler(c)}setOscHandlerFallback(c){this._oscParser.setHandlerFallback(c)}setErrorHandler(c){this._errorHandler=c}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(c,h,o,d,m){this._parseStack.state=c,this._parseStack.handlers=h,this._parseStack.handlerPos=o,this._parseStack.transition=d,this._parseStack.chunkPos=m}parse(c,h,o){let d,m=0,w=0,L=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,L=this._parseStack.chunkPos+1;else{if(o===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const _=this._parseStack.handlers;let k=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(o===!1&&k>-1){for(;k>=0&&(d=_[k](this._params),d!==!0);k--)if(d instanceof Promise)return this._parseStack.handlerPos=k,d}this._parseStack.handlers=[];break;case 4:if(o===!1&&k>-1){for(;k>=0&&(d=_[k](),d!==!0);k--)if(d instanceof Promise)return this._parseStack.handlerPos=k,d}this._parseStack.handlers=[];break;case 6:if(m=c[this._parseStack.chunkPos],d=this._dcsParser.unhook(m!==24&&m!==26,o),d)return d;m===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(m=c[this._parseStack.chunkPos],d=this._oscParser.end(m!==24&&m!==26,o),d)return d;m===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,L=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let _=L;_<h;++_){switch(m=c[_],w=this._transitions.table[this.currentState<<8|(m<160?m:C)],w>>4){case 2:for(let O=_+1;;++O){if(O>=h||(m=c[O])<32||m>126&&m<C){this._printHandler(c,_,O),_=O-1;break}if(++O>=h||(m=c[O])<32||m>126&&m<C){this._printHandler(c,_,O),_=O-1;break}if(++O>=h||(m=c[O])<32||m>126&&m<C){this._printHandler(c,_,O),_=O-1;break}if(++O>=h||(m=c[O])<32||m>126&&m<C){this._printHandler(c,_,O),_=O-1;break}}break;case 3:this._executeHandlers[m]?this._executeHandlers[m]():this._executeHandlerFb(m),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:_,code:m,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const k=this._csiHandlers[this._collect<<8|m];let x=k?k.length-1:-1;for(;x>=0&&(d=k[x](this._params),d!==!0);x--)if(d instanceof Promise)return this._preserveStack(3,k,x,w,_),d;x<0&&this._csiHandlerFb(this._collect<<8|m,this._params),this.precedingCodepoint=0;break;case 8:do switch(m){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(m-48)}while(++_<h&&(m=c[_])>47&&m<60);_--;break;case 9:this._collect<<=8,this._collect|=m;break;case 10:const A=this._escHandlers[this._collect<<8|m];let P=A?A.length-1:-1;for(;P>=0&&(d=A[P](),d!==!0);P--)if(d instanceof Promise)return this._preserveStack(4,A,P,w,_),d;P<0&&this._escHandlerFb(this._collect<<8|m),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|m,this._params);break;case 13:for(let O=_+1;;++O)if(O>=h||(m=c[O])===24||m===26||m===27||m>127&&m<C){this._dcsParser.put(c,_,O),_=O-1;break}break;case 14:if(d=this._dcsParser.unhook(m!==24&&m!==26),d)return this._preserveStack(6,[],0,w,_),d;m===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let O=_+1;;O++)if(O>=h||(m=c[O])<32||m>127&&m<C){this._oscParser.put(c,_,O),_=O-1;break}break;case 6:if(d=this._oscParser.end(m!==24&&m!==26),d)return this._preserveStack(5,[],0,w,_),d;m===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&w}}}s.EscapeSequenceParser=g},6242:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OscHandler=s.OscParser=void 0;const u=a(5770),y=a(482),p=[];s.OscParser=class{constructor(){this._state=0,this._active=p,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(v,E){this._handlers[v]===void 0&&(this._handlers[v]=[]);const C=this._handlers[v];return C.push(E),{dispose:()=>{const g=C.indexOf(E);g!==-1&&C.splice(g,1)}}}clearHandler(v){this._handlers[v]&&delete this._handlers[v]}setHandlerFallback(v){this._handlerFb=v}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=p}reset(){if(this._state===2)for(let v=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;v>=0;--v)this._active[v].end(!1);this._stack.paused=!1,this._active=p,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||p,this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].start();else this._handlerFb(this._id,"START")}_put(v,E,C){if(this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].put(v,E,C);else this._handlerFb(this._id,"PUT",(0,y.utf32ToString)(v,E,C))}start(){this.reset(),this._state=1}put(v,E,C){if(this._state!==3){if(this._state===1)for(;E<C;){const g=v[E++];if(g===59){this._state=2,this._start();break}if(g<48||57<g)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+g-48}this._state===2&&C-E>0&&this._put(v,E,C)}}end(v,E=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let C=!1,g=this._active.length-1,n=!1;if(this._stack.paused&&(g=this._stack.loopPosition-1,C=E,n=this._stack.fallThrough,this._stack.paused=!1),!n&&C===!1){for(;g>=0&&(C=this._active[g].end(v),C!==!0);g--)if(C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=g,this._stack.fallThrough=!1,C;g--}for(;g>=0;g--)if(C=this._active[g].end(!1),C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=g,this._stack.fallThrough=!0,C}else this._handlerFb(this._id,"END",v);this._active=p,this._id=-1,this._state=0}}},s.OscHandler=class{constructor(v){this._handler=v,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(v,E,C){this._hitLimit||(this._data+=(0,y.utf32ToString)(v,E,C),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(v){let E=!1;if(this._hitLimit)E=!1;else if(v&&(E=this._handler(this._data),E instanceof Promise))return E.then(C=>(this._data="",this._hitLimit=!1,C));return this._data="",this._hitLimit=!1,E}}},8742:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Params=void 0;const a=2147483647;class u{constructor(p=32,v=32){if(this.maxLength=p,this.maxSubParamsLength=v,v>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(p),this.length=0,this._subParams=new Int32Array(v),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(p),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(p){const v=new u;if(!p.length)return v;for(let E=Array.isArray(p[0])?1:0;E<p.length;++E){const C=p[E];if(Array.isArray(C))for(let g=0;g<C.length;++g)v.addSubParam(C[g]);else v.addParam(C)}return v}clone(){const p=new u(this.maxLength,this.maxSubParamsLength);return p.params.set(this.params),p.length=this.length,p._subParams.set(this._subParams),p._subParamsLength=this._subParamsLength,p._subParamsIdx.set(this._subParamsIdx),p._rejectDigits=this._rejectDigits,p._rejectSubDigits=this._rejectSubDigits,p._digitIsSub=this._digitIsSub,p}toArray(){const p=[];for(let v=0;v<this.length;++v){p.push(this.params[v]);const E=this._subParamsIdx[v]>>8,C=255&this._subParamsIdx[v];C-E>0&&p.push(Array.prototype.slice.call(this._subParams,E,C))}return p}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(p){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=p>a?a:p}}addSubParam(p){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=p>a?a:p,this._subParamsIdx[this.length-1]++}}hasSubParams(p){return(255&this._subParamsIdx[p])-(this._subParamsIdx[p]>>8)>0}getSubParams(p){const v=this._subParamsIdx[p]>>8,E=255&this._subParamsIdx[p];return E-v>0?this._subParams.subarray(v,E):null}getSubParamsAll(){const p={};for(let v=0;v<this.length;++v){const E=this._subParamsIdx[v]>>8,C=255&this._subParamsIdx[v];C-E>0&&(p[v]=this._subParams.slice(E,C))}return p}addDigit(p){let v;if(this._rejectDigits||!(v=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const E=this._digitIsSub?this._subParams:this.params,C=E[v-1];E[v-1]=~C?Math.min(10*C+p,a):p}}s.Params=u},5741:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AddonManager=void 0,s.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let a=this._addons.length-1;a>=0;a--)this._addons[a].instance.dispose()}loadAddon(a,u){const y={instance:u,dispose:u.dispose,isDisposed:!1};this._addons.push(y),u.dispose=()=>this._wrappedAddonDispose(y),u.activate(a)}_wrappedAddonDispose(a){if(a.isDisposed)return;let u=-1;for(let y=0;y<this._addons.length;y++)if(this._addons[y]===a){u=y;break}if(u===-1)throw new Error("Could not dispose an addon that has not been loaded");a.isDisposed=!0,a.dispose.apply(a.instance),this._addons.splice(u,1)}}},8771:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferApiView=void 0;const u=a(3785),y=a(511);s.BufferApiView=class{constructor(p,v){this._buffer=p,this.type=v}init(p){return this._buffer=p,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(p){const v=this._buffer.lines.get(p);if(v)return new u.BufferLineApiView(v)}getNullCell(){return new y.CellData}}},3785:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLineApiView=void 0;const u=a(511);s.BufferLineApiView=class{constructor(y){this._line=y}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(y,p){if(!(y<0||y>=this._line.length))return p?(this._line.loadCell(y,p),p):this._line.loadCell(y,new u.CellData)}translateToString(y,p,v){return this._line.translateToString(y,p,v)}}},8285:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferNamespaceApi=void 0;const u=a(8771),y=a(8460);s.BufferNamespaceApi=class{constructor(p){this._core=p,this._onBufferChange=new y.EventEmitter,this.onBufferChange=this._onBufferChange.event,this._normal=new u.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new u.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ParserApi=void 0,s.ParserApi=class{constructor(a){this._core=a}registerCsiHandler(a,u){return this._core.registerCsiHandler(a,y=>u(y.toArray()))}addCsiHandler(a,u){return this.registerCsiHandler(a,u)}registerDcsHandler(a,u){return this._core.registerDcsHandler(a,(y,p)=>u(y,p.toArray()))}addDcsHandler(a,u){return this.registerDcsHandler(a,u)}registerEscHandler(a,u){return this._core.registerEscHandler(a,u)}addEscHandler(a,u){return this.registerEscHandler(a,u)}registerOscHandler(a,u){return this._core.registerOscHandler(a,u)}addOscHandler(a,u){return this.registerOscHandler(a,u)}}},7090:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeApi=void 0,s.UnicodeApi=class{constructor(a){this._core=a}register(a){this._core.unicodeService.register(a)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(a){this._core.unicodeService.activeVersion=a}}},744:function(S,s,a){var u=this&&this.__decorate||function(n,c,h,o){var d,m=arguments.length,w=m<3?c:o===null?o=Object.getOwnPropertyDescriptor(c,h):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(n,c,h,o);else for(var L=n.length-1;L>=0;L--)(d=n[L])&&(w=(m<3?d(w):m>3?d(c,h,w):d(c,h))||w);return m>3&&w&&Object.defineProperty(c,h,w),w},y=this&&this.__param||function(n,c){return function(h,o){c(h,o,n)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferService=s.MINIMUM_ROWS=s.MINIMUM_COLS=void 0;const p=a(2585),v=a(5295),E=a(8460),C=a(844);s.MINIMUM_COLS=2,s.MINIMUM_ROWS=1;let g=class extends C.Disposable{constructor(n){super(),this.isUserScrolling=!1,this._onResize=this.register(new E.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new E.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(n.rawOptions.cols||0,s.MINIMUM_COLS),this.rows=Math.max(n.rawOptions.rows||0,s.MINIMUM_ROWS),this.buffers=this.register(new v.BufferSet(n,this))}get buffer(){return this.buffers.active}resize(n,c){this.cols=n,this.rows=c,this.buffers.resize(n,c),this._onResize.fire({cols:n,rows:c})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(n,c=!1){const h=this.buffer;let o;o=this._cachedBlankLine,o&&o.length===this.cols&&o.getFg(0)===n.fg&&o.getBg(0)===n.bg||(o=h.getBlankLine(n,c),this._cachedBlankLine=o),o.isWrapped=c;const d=h.ybase+h.scrollTop,m=h.ybase+h.scrollBottom;if(h.scrollTop===0){const w=h.lines.isFull;m===h.lines.length-1?w?h.lines.recycle().copyFrom(o):h.lines.push(o.clone()):h.lines.splice(m+1,0,o.clone()),w?this.isUserScrolling&&(h.ydisp=Math.max(h.ydisp-1,0)):(h.ybase++,this.isUserScrolling||h.ydisp++)}else{const w=m-d+1;h.lines.shiftElements(d+1,w-1,-1),h.lines.set(m,o.clone())}this.isUserScrolling||(h.ydisp=h.ybase),this._onScroll.fire(h.ydisp)}scrollLines(n,c,h){const o=this.buffer;if(n<0){if(o.ydisp===0)return;this.isUserScrolling=!0}else n+o.ydisp>=o.ybase&&(this.isUserScrolling=!1);const d=o.ydisp;o.ydisp=Math.max(Math.min(o.ydisp+n,o.ybase),0),d!==o.ydisp&&(c||this._onScroll.fire(o.ydisp))}scrollPages(n){this.scrollLines(n*(this.rows-1))}scrollToTop(){this.scrollLines(-this.buffer.ydisp)}scrollToBottom(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)}scrollToLine(n){const c=n-this.buffer.ydisp;c!==0&&this.scrollLines(c)}};g=u([y(0,p.IOptionsService)],g),s.BufferService=g},7994:(S,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharsetService=void 0,s.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(a){this.glevel=a,this.charset=this._charsets[a]}setgCharset(a,u){this._charsets[a]=u,this.glevel===a&&(this.charset=u)}}},1753:function(S,s,a){var u=this&&this.__decorate||function(o,d,m,w){var L,_=arguments.length,k=_<3?d:w===null?w=Object.getOwnPropertyDescriptor(d,m):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(o,d,m,w);else for(var x=o.length-1;x>=0;x--)(L=o[x])&&(k=(_<3?L(k):_>3?L(d,m,k):L(d,m))||k);return _>3&&k&&Object.defineProperty(d,m,k),k},y=this&&this.__param||function(o,d){return function(m,w){d(m,w,o)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreMouseService=void 0;const p=a(2585),v=a(8460),E=a(844),C={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:o=>o.button!==4&&o.action===1&&(o.ctrl=!1,o.alt=!1,o.shift=!1,!0)},VT200:{events:19,restrict:o=>o.action!==32},DRAG:{events:23,restrict:o=>o.action!==32||o.button!==3},ANY:{events:31,restrict:o=>!0}};function g(o,d){let m=(o.ctrl?16:0)|(o.shift?4:0)|(o.alt?8:0);return o.button===4?(m|=64,m|=o.action):(m|=3&o.button,4&o.button&&(m|=64),8&o.button&&(m|=128),o.action===32?m|=32:o.action!==0||d||(m|=3)),m}const n=String.fromCharCode,c={DEFAULT:o=>{const d=[g(o,!1)+32,o.col+32,o.row+32];return d[0]>255||d[1]>255||d[2]>255?"":`\x1B[M${n(d[0])}${n(d[1])}${n(d[2])}`},SGR:o=>{const d=o.action===0&&o.button!==4?"m":"M";return`\x1B[<${g(o,!0)};${o.col};${o.row}${d}`},SGR_PIXELS:o=>{const d=o.action===0&&o.button!==4?"m":"M";return`\x1B[<${g(o,!0)};${o.x};${o.y}${d}`}};let h=class extends E.Disposable{constructor(o,d){super(),this._bufferService=o,this._coreService=d,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new v.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const m of Object.keys(C))this.addProtocol(m,C[m]);for(const m of Object.keys(c))this.addEncoding(m,c[m]);this.reset()}addProtocol(o,d){this._protocols[o]=d}addEncoding(o,d){this._encodings[o]=d}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(o){if(!this._protocols[o])throw new Error(`unknown protocol "${o}"`);this._activeProtocol=o,this._onProtocolChange.fire(this._protocols[o].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(o){if(!this._encodings[o])throw new Error(`unknown encoding "${o}"`);this._activeEncoding=o}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(o){if(o.col<0||o.col>=this._bufferService.cols||o.row<0||o.row>=this._bufferService.rows||o.button===4&&o.action===32||o.button===3&&o.action!==32||o.button!==4&&(o.action===2||o.action===3)||(o.col++,o.row++,o.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,o,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(o))return!1;const d=this._encodings[this._activeEncoding](o);return d&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(d):this._coreService.triggerDataEvent(d,!0)),this._lastEvent=o,!0}explainEvents(o){return{down:!!(1&o),up:!!(2&o),drag:!!(4&o),move:!!(8&o),wheel:!!(16&o)}}_equalEvents(o,d,m){if(m){if(o.x!==d.x||o.y!==d.y)return!1}else if(o.col!==d.col||o.row!==d.row)return!1;return o.button===d.button&&o.action===d.action&&o.ctrl===d.ctrl&&o.alt===d.alt&&o.shift===d.shift}};h=u([y(0,p.IBufferService),y(1,p.ICoreService)],h),s.CoreMouseService=h},6975:function(S,s,a){var u=this&&this.__decorate||function(h,o,d,m){var w,L=arguments.length,_=L<3?o:m===null?m=Object.getOwnPropertyDescriptor(o,d):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(h,o,d,m);else for(var k=h.length-1;k>=0;k--)(w=h[k])&&(_=(L<3?w(_):L>3?w(o,d,_):w(o,d))||_);return L>3&&_&&Object.defineProperty(o,d,_),_},y=this&&this.__param||function(h,o){return function(d,m){o(d,m,h)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreService=void 0;const p=a(2585),v=a(8460),E=a(1439),C=a(844),g=Object.freeze({insertMode:!1}),n=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let c=class extends C.Disposable{constructor(h,o,d){super(),this._bufferService=h,this._logService=o,this._optionsService=d,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new v.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new v.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new v.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new v.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,E.clone)(g),this.decPrivateModes=(0,E.clone)(n)}reset(){this.modes=(0,E.clone)(g),this.decPrivateModes=(0,E.clone)(n)}triggerDataEvent(h,o=!1){if(this._optionsService.rawOptions.disableStdin)return;const d=this._bufferService.buffer;o&&this._optionsService.rawOptions.scrollOnUserInput&&d.ybase!==d.ydisp&&this._onRequestScrollToBottom.fire(),o&&this._onUserInput.fire(),this._logService.debug(`sending data "${h}"`,()=>h.split("").map(m=>m.charCodeAt(0))),this._onData.fire(h)}triggerBinaryEvent(h){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${h}"`,()=>h.split("").map(o=>o.charCodeAt(0))),this._onBinary.fire(h))}};c=u([y(0,p.IBufferService),y(1,p.ILogService),y(2,p.IOptionsService)],c),s.CoreService=c},9074:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DecorationService=void 0;const u=a(8055),y=a(8460),p=a(844),v=a(6106);let E=0,C=0;class g extends p.Disposable{constructor(){super(),this._decorations=new v.SortedList(h=>h==null?void 0:h.marker.line),this._onDecorationRegistered=this.register(new y.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new y.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,p.toDisposable)(()=>{for(const h of this._decorations.values())this._onDecorationRemoved.fire(h);this.reset()}))}get decorations(){return this._decorations.values()}registerDecoration(h){if(h.marker.isDisposed)return;const o=new n(h);if(o){const d=o.marker.onDispose(()=>o.dispose());o.onDispose(()=>{o&&(this._decorations.delete(o)&&this._onDecorationRemoved.fire(o),d.dispose())}),this._decorations.insert(o),this._onDecorationRegistered.fire(o)}return o}reset(){for(const h of this._decorations.values())h.dispose();this._decorations.clear()}*getDecorationsAtCell(h,o,d){var m,w,L;let _=0,k=0;for(const x of this._decorations.getKeyIterator(o))_=(m=x.options.x)!==null&&m!==void 0?m:0,k=_+((w=x.options.width)!==null&&w!==void 0?w:1),h>=_&&h<k&&(!d||((L=x.options.layer)!==null&&L!==void 0?L:"bottom")===d)&&(yield x)}forEachDecorationAtCell(h,o,d,m){this._decorations.forEachByKey(o,w=>{var L,_,k;E=(L=w.options.x)!==null&&L!==void 0?L:0,C=E+((_=w.options.width)!==null&&_!==void 0?_:1),h>=E&&h<C&&(!d||((k=w.options.layer)!==null&&k!==void 0?k:"bottom")===d)&&m(w)})}dispose(){for(const h of this._decorations.values())this._onDecorationRemoved.fire(h);this.reset()}}s.DecorationService=g;class n extends p.Disposable{constructor(h){super(),this.options=h,this.isDisposed=!1,this.onRenderEmitter=this.register(new y.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new y.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=h.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=u.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=u.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InstantiationService=s.ServiceCollection=void 0;const u=a(2585),y=a(8343);class p{constructor(...E){this._entries=new Map;for(const[C,g]of E)this.set(C,g)}set(E,C){const g=this._entries.get(E);return this._entries.set(E,C),g}forEach(E){for(const[C,g]of this._entries.entries())E(C,g)}has(E){return this._entries.has(E)}get(E){return this._entries.get(E)}}s.ServiceCollection=p,s.InstantiationService=class{constructor(){this._services=new p,this._services.set(u.IInstantiationService,this)}setService(v,E){this._services.set(v,E)}getService(v){return this._services.get(v)}createInstance(v,...E){const C=(0,y.getServiceDependencies)(v).sort((c,h)=>c.index-h.index),g=[];for(const c of C){const h=this._services.get(c.id);if(!h)throw new Error(`[createInstance] ${v.name} depends on UNKNOWN service ${c.id}.`);g.push(h)}const n=C.length>0?C[0].index:E.length;if(E.length!==n)throw new Error(`[createInstance] First service dependency of ${v.name} at position ${n+1} conflicts with ${E.length} static arguments`);return new v(...E,...g)}}},7866:function(S,s,a){var u=this&&this.__decorate||function(g,n,c,h){var o,d=arguments.length,m=d<3?n:h===null?h=Object.getOwnPropertyDescriptor(n,c):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(g,n,c,h);else for(var w=g.length-1;w>=0;w--)(o=g[w])&&(m=(d<3?o(m):d>3?o(n,c,m):o(n,c))||m);return d>3&&m&&Object.defineProperty(n,c,m),m},y=this&&this.__param||function(g,n){return function(c,h){n(c,h,g)}};Object.defineProperty(s,"__esModule",{value:!0}),s.LogService=void 0;const p=a(844),v=a(2585),E={debug:v.LogLevelEnum.DEBUG,info:v.LogLevelEnum.INFO,warn:v.LogLevelEnum.WARN,error:v.LogLevelEnum.ERROR,off:v.LogLevelEnum.OFF};let C=class extends p.Disposable{constructor(g){super(),this._optionsService=g,this.logLevel=v.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}_updateLogLevel(){this.logLevel=E[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(g){for(let n=0;n<g.length;n++)typeof g[n]=="function"&&(g[n]=g[n]())}_log(g,n,c){this._evalLazyOptionalParams(c),g.call(console,"xterm.js: "+n,...c)}debug(g,...n){this.logLevel<=v.LogLevelEnum.DEBUG&&this._log(console.log,g,n)}info(g,...n){this.logLevel<=v.LogLevelEnum.INFO&&this._log(console.info,g,n)}warn(g,...n){this.logLevel<=v.LogLevelEnum.WARN&&this._log(console.warn,g,n)}error(g,...n){this.logLevel<=v.LogLevelEnum.ERROR&&this._log(console.error,g,n)}};C=u([y(0,v.IOptionsService)],C),s.LogService=C},7302:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OptionsService=s.DEFAULT_OPTIONS=void 0;const u=a(8460),y=a(6114),p=a(844);s.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:y.isMac,windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const v=["normal","bold","100","200","300","400","500","600","700","800","900"];class E extends p.Disposable{constructor(g){super(),this._onOptionChange=this.register(new u.EventEmitter),this.onOptionChange=this._onOptionChange.event;const n=Object.assign({},s.DEFAULT_OPTIONS);for(const c in g)if(c in n)try{const h=g[c];n[c]=this._sanitizeAndValidateOption(c,h)}catch(h){console.error(h)}this.rawOptions=n,this.options=Object.assign({},n),this._setupOptions()}onSpecificOptionChange(g,n){return this.onOptionChange(c=>{c===g&&n(this.rawOptions[g])})}onMultipleOptionChange(g,n){return this.onOptionChange(c=>{g.indexOf(c)!==-1&&n()})}_setupOptions(){const g=c=>{if(!(c in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${c}"`);return this.rawOptions[c]},n=(c,h)=>{if(!(c in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${c}"`);h=this._sanitizeAndValidateOption(c,h),this.rawOptions[c]!==h&&(this.rawOptions[c]=h,this._onOptionChange.fire(c))};for(const c in this.rawOptions){const h={get:g.bind(this,c),set:n.bind(this,c)};Object.defineProperty(this.options,c,h)}}_sanitizeAndValidateOption(g,n){switch(g){case"cursorStyle":if(n||(n=s.DEFAULT_OPTIONS[g]),!function(c){return c==="block"||c==="underline"||c==="bar"}(n))throw new Error(`"${n}" is not a valid value for ${g}`);break;case"wordSeparator":n||(n=s.DEFAULT_OPTIONS[g]);break;case"fontWeight":case"fontWeightBold":if(typeof n=="number"&&1<=n&&n<=1e3)break;n=v.includes(n)?n:s.DEFAULT_OPTIONS[g];break;case"cursorWidth":n=Math.floor(n);case"lineHeight":case"tabStopWidth":if(n<1)throw new Error(`${g} cannot be less than 1, value: ${n}`);break;case"minimumContrastRatio":n=Math.max(1,Math.min(21,Math.round(10*n)/10));break;case"scrollback":if((n=Math.min(n,4294967295))<0)throw new Error(`${g} cannot be less than 0, value: ${n}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(n<=0)throw new Error(`${g} cannot be less than or equal to 0, value: ${n}`);case"rows":case"cols":if(!n&&n!==0)throw new Error(`${g} must be numeric, value: ${n}`)}return n}}s.OptionsService=E},2660:function(S,s,a){var u=this&&this.__decorate||function(E,C,g,n){var c,h=arguments.length,o=h<3?C:n===null?n=Object.getOwnPropertyDescriptor(C,g):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(E,C,g,n);else for(var d=E.length-1;d>=0;d--)(c=E[d])&&(o=(h<3?c(o):h>3?c(C,g,o):c(C,g))||o);return h>3&&o&&Object.defineProperty(C,g,o),o},y=this&&this.__param||function(E,C){return function(g,n){C(g,n,E)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkService=void 0;const p=a(2585);let v=class{constructor(E){this._bufferService=E,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(E){const C=this._bufferService.buffer;if(E.id===void 0){const d=C.addMarker(C.ybase+C.y),m={data:E,id:this._nextId++,lines:[d]};return d.onDispose(()=>this._removeMarkerFromLink(m,d)),this._dataByLinkId.set(m.id,m),m.id}const g=E,n=this._getEntryIdKey(g),c=this._entriesWithId.get(n);if(c)return this.addLineToLink(c.id,C.ybase+C.y),c.id;const h=C.addMarker(C.ybase+C.y),o={id:this._nextId++,key:this._getEntryIdKey(g),data:g,lines:[h]};return h.onDispose(()=>this._removeMarkerFromLink(o,h)),this._entriesWithId.set(o.key,o),this._dataByLinkId.set(o.id,o),o.id}addLineToLink(E,C){const g=this._dataByLinkId.get(E);if(g&&g.lines.every(n=>n.line!==C)){const n=this._bufferService.buffer.addMarker(C);g.lines.push(n),n.onDispose(()=>this._removeMarkerFromLink(g,n))}}getLinkData(E){var C;return(C=this._dataByLinkId.get(E))===null||C===void 0?void 0:C.data}_getEntryIdKey(E){return`${E.id};;${E.uri}`}_removeMarkerFromLink(E,C){const g=E.lines.indexOf(C);g!==-1&&(E.lines.splice(g,1),E.lines.length===0&&(E.data.id!==void 0&&this._entriesWithId.delete(E.key),this._dataByLinkId.delete(E.id)))}};v=u([y(0,p.IBufferService)],v),s.OscLinkService=v},8343:(S,s)=>{function a(u,y,p){y.di$target===y?y.di$dependencies.push({id:u,index:p}):(y.di$dependencies=[{id:u,index:p}],y.di$target=y)}Object.defineProperty(s,"__esModule",{value:!0}),s.createDecorator=s.getServiceDependencies=s.serviceRegistry=void 0,s.serviceRegistry=new Map,s.getServiceDependencies=function(u){return u.di$dependencies||[]},s.createDecorator=function(u){if(s.serviceRegistry.has(u))return s.serviceRegistry.get(u);const y=function(p,v,E){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");a(y,p,E)};return y.toString=()=>u,s.serviceRegistry.set(u,y),y}},2585:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IDecorationService=s.IUnicodeService=s.IOscLinkService=s.IOptionsService=s.ILogService=s.LogLevelEnum=s.IInstantiationService=s.ICharsetService=s.ICoreService=s.ICoreMouseService=s.IBufferService=void 0;const u=a(8343);var y;s.IBufferService=(0,u.createDecorator)("BufferService"),s.ICoreMouseService=(0,u.createDecorator)("CoreMouseService"),s.ICoreService=(0,u.createDecorator)("CoreService"),s.ICharsetService=(0,u.createDecorator)("CharsetService"),s.IInstantiationService=(0,u.createDecorator)("InstantiationService"),(y=s.LogLevelEnum||(s.LogLevelEnum={}))[y.DEBUG=0]="DEBUG",y[y.INFO=1]="INFO",y[y.WARN=2]="WARN",y[y.ERROR=3]="ERROR",y[y.OFF=4]="OFF",s.ILogService=(0,u.createDecorator)("LogService"),s.IOptionsService=(0,u.createDecorator)("OptionsService"),s.IOscLinkService=(0,u.createDecorator)("OscLinkService"),s.IUnicodeService=(0,u.createDecorator)("UnicodeService"),s.IDecorationService=(0,u.createDecorator)("DecorationService")},1480:(S,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeService=void 0;const u=a(8460),y=a(225);s.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new u.EventEmitter,this.onChange=this._onChange.event;const p=new y.UnicodeV6;this.register(p),this._active=p.version,this._activeProvider=p}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(p){if(!this._providers[p])throw new Error(`unknown Unicode version "${p}"`);this._active=p,this._activeProvider=this._providers[p],this._onChange.fire(p)}register(p){this._providers[p.version]=p}wcwidth(p){return this._activeProvider.wcwidth(p)}getStringCellWidth(p){let v=0;const E=p.length;for(let C=0;C<E;++C){let g=p.charCodeAt(C);if(55296<=g&&g<=56319){if(++C>=E)return v+this.wcwidth(g);const n=p.charCodeAt(C);56320<=n&&n<=57343?g=1024*(g-55296)+n-56320+65536:v+=this.wcwidth(n)}v+=this.wcwidth(g)}return v}}}},i={};function l(S){var s=i[S];if(s!==void 0)return s.exports;var a=i[S]={exports:{}};return r[S].call(a.exports,a,a.exports,l),a.exports}var f={};return(()=>{var S=f;Object.defineProperty(S,"__esModule",{value:!0}),S.Terminal=void 0;const s=l(3236),a=l(9042),u=l(7975),y=l(7090),p=l(5741),v=l(8285),E=["cols","rows"];S.Terminal=class{constructor(C){this._core=new s.Terminal(C),this._addonManager=new p.AddonManager,this._publicOptions=Object.assign({},this._core.options);const g=c=>this._core.options[c],n=(c,h)=>{this._checkReadonlyOptions(c),this._core.options[c]=h};for(const c in this._core.options){const h={get:g.bind(this,c),set:n.bind(this,c)};Object.defineProperty(this._publicOptions,c,h)}}_checkReadonlyOptions(C){if(E.includes(C))throw new Error(`Option "${C}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new u.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new y.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=new v.BufferNamespaceApi(this._core)),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const C=this._core.coreService.decPrivateModes;let g="none";switch(this._core.coreMouseService.activeProtocol){case"X10":g="x10";break;case"VT200":g="vt200";break;case"DRAG":g="drag";break;case"ANY":g="any"}return{applicationCursorKeysMode:C.applicationCursorKeys,applicationKeypadMode:C.applicationKeypad,bracketedPasteMode:C.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:g,originMode:C.origin,reverseWraparoundMode:C.reverseWraparound,sendFocusMode:C.sendFocus,wraparoundMode:C.wraparound}}get options(){return this._publicOptions}set options(C){for(const g in C)this._publicOptions[g]=C[g]}blur(){this._core.blur()}focus(){this._core.focus()}resize(C,g){this._verifyIntegers(C,g),this._core.resize(C,g)}open(C){this._core.open(C)}attachCustomKeyEventHandler(C){this._core.attachCustomKeyEventHandler(C)}registerLinkProvider(C){return this._core.registerLinkProvider(C)}registerCharacterJoiner(C){return this._checkProposedApi(),this._core.registerCharacterJoiner(C)}deregisterCharacterJoiner(C){this._checkProposedApi(),this._core.deregisterCharacterJoiner(C)}registerMarker(C=0){return this._verifyIntegers(C),this._core.addMarker(C)}registerDecoration(C){var g,n,c;return this._checkProposedApi(),this._verifyPositiveIntegers((g=C.x)!==null&&g!==void 0?g:0,(n=C.width)!==null&&n!==void 0?n:0,(c=C.height)!==null&&c!==void 0?c:0),this._core.registerDecoration(C)}hasSelection(){return this._core.hasSelection()}select(C,g,n){this._verifyIntegers(C,g,n),this._core.select(C,g,n)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(C,g){this._verifyIntegers(C,g),this._core.selectLines(C,g)}dispose(){this._addonManager.dispose(),this._core.dispose()}scrollLines(C){this._verifyIntegers(C),this._core.scrollLines(C)}scrollPages(C){this._verifyIntegers(C),this._core.scrollPages(C)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(C){this._verifyIntegers(C),this._core.scrollToLine(C)}clear(){this._core.clear()}write(C,g){this._core.write(C,g)}writeln(C,g){this._core.write(C),this._core.write(`\r
`,g)}paste(C){this._core.paste(C)}refresh(C,g){this._verifyIntegers(C,g),this._core.refresh(C,g)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(C){return this._addonManager.loadAddon(this,C)}static get strings(){return a}_verifyIntegers(...C){for(const g of C)if(g===1/0||isNaN(g)||g%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...C){for(const g of C)if(g&&(g===1/0||isNaN(g)||g%1!=0||g<0))throw new Error("This API only accepts positive integers")}}})(),f})()})})(Wf);var oo={},jf={get exports(){return oo},set exports(e){oo=e}};(function(e,t){(function(r,i){e.exports=i()})(self,function(){return(()=>{var r={};return(()=>{var i=r;Object.defineProperty(i,"__esModule",{value:!0}),i.FitAddon=void 0,i.FitAddon=class{constructor(){}activate(l){this._terminal=l}dispose(){}fit(){const l=this.proposeDimensions();if(!l||!this._terminal||isNaN(l.cols)||isNaN(l.rows))return;const f=this._terminal._core;this._terminal.rows===l.rows&&this._terminal.cols===l.cols||(f._renderService.clear(),this._terminal.resize(l.cols,l.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const l=this._terminal._core,f=l._renderService.dimensions;if(f.css.cell.width===0||f.css.cell.height===0)return;const S=this._terminal.options.scrollback===0?0:l.viewport.scrollBarWidth,s=window.getComputedStyle(this._terminal.element.parentElement),a=parseInt(s.getPropertyValue("height")),u=Math.max(0,parseInt(s.getPropertyValue("width"))),y=window.getComputedStyle(this._terminal.element),p=a-(parseInt(y.getPropertyValue("padding-top"))+parseInt(y.getPropertyValue("padding-bottom"))),v=u-(parseInt(y.getPropertyValue("padding-right"))+parseInt(y.getPropertyValue("padding-left")))-S;return{cols:Math.max(2,Math.floor(v/f.css.cell.width)),rows:Math.max(1,Math.floor(p/f.css.cell.height))}}}})(),r})()})})(jf);const $f=`import express from 'express';

const app = express();
const port = 3111;

app.get('/', (req, res) => {
  res.send('Welcome to a WebContainers app! 🥳');
});

app.listen(port, () => {
  console.log(\`App is live at http://localhost:\${port}\`);
});
`,Kf=`{
  "name": "example-app",
  "type": "module",
  "dependencies": {
    "express": "latest",
    "nodemon": "latest"
  },
  "scripts": {
    "start": "nodemon --watch './' index.js"
  }
}`,ma={"index.js":{file:{contents:$f}},"package.json":{file:{contents:Kf}}};function Vf(){const[e,t]=ae.useState(null),[r,i]=ae.useState({url:void 0,num:0});console.log("*** urlInfo ***",r);const l=ae.useMemo(()=>r.url&&`${r.url}?${r.num}`,[r]),[f,S]=ae.useState(ma["index.js"].file.contents),[s,a]=ae.useState(null),u=Sa(async()=>{if(e)return;const p=await Hh.boot();t(p)});ae.useEffect(()=>{window.addEventListener("load",u)},[u]),ae.useEffect(()=>{e&&(async()=>{await e.mount(ma),await qf(e);const{url:p}=await Xf(e);console.log("*** url ***",p),i(({num:v})=>({url:p,num:v+1}))})()},[e]),ae.useEffect(()=>{s&&e&&Qf(s,e)},[s,e]);const y=Sa(()=>{e&&Yf(e,f)});return ae.useEffect(()=>{y()},[f,y]),ae.useEffect(()=>{e&&e.on("server-ready",(p,v)=>{i(({num:E})=>({num:E+1,url:v}))})},[e]),Qe.jsxs("div",{className:"container",children:[Qe.jsx("div",{className:"editor",children:Qe.jsx("textarea",{value:f,onChange:p=>{S(p.target.value)}})}),Qe.jsx("div",{className:"preview",children:Qe.jsx("iframe",{src:l})}),Qe.jsx(Jf,{onChangeTerminal:a})]})}const Sa=e=>{const t=ae.useRef(e);return ae.useEffect(()=>{t.current=e}),ae.useCallback(()=>t.current(),[])};async function qf(e){const t=await e.spawn("npm",["install"]);if(t.output.pipeTo(new WritableStream({write(r){console.log(r)}})),await t.exit!==0)throw new Error("Installation failed")}async function Xf(e){(await e.spawn("npm",["run","start"])).output.pipeTo(new WritableStream({write(l){console.log(l)}}));const[r,i]=await Gf("server-ready",e);return{port:r,url:i}}const Gf=(e,t)=>new Promise(r=>{t.on(e,(...i)=>r(i))});async function Yf(e,t){await e.fs.writeFile("/index.js",t)}async function Qf(e,t){const r=await t.spawn("jsh",{terminal:{cols:e.cols,rows:e.rows}});r.output.pipeTo(new WritableStream({write(l){e.write(l)}}));const i=r.input.getWriter();return e.onData(l=>{i.write(l)}),r}function Jf({onChangeTerminal:e}){const[t,r]=ae.useState(null),i=ae.useRef(null);return ae.useEffect(()=>{if(console.log("*** new terminal ***"),!i.current)return;const l=new no.Terminal({convertEol:!0}),f=new oo.FitAddon;return l.loadAddon(f),l.open(i.current),f.fit(),r(l),()=>{console.log("*** closing terminal 1 ***"),l&&l.dispose()}},[i.current]),ae.useEffect(()=>{e==null||e(t)},[t]),Qe.jsx("div",{ref:i})}an.createRoot(document.getElementById("root")).render(Qe.jsx(ou.StrictMode,{children:Qe.jsx(Vf,{})}));
